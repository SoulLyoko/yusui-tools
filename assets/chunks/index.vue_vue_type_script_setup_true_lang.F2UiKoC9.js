import{g as x,a7 as ge,h as $,G as he,y as z,as as kt,aq as pe,d as M,aO as Ct,a3 as Qe,P as F,j as Ve,V as Wt,aa as te,ao as $e,o as C,c as B,e as D,F as re,n as E,m as d,r as U,k as W,b as L,w as V,J as le,M as Ce,I as ie,a2 as q,aN as Yt,t as ee,O as _e,aJ as Le,N as Z,aI as Ne,aQ as pt,a5 as Ae,aR as ze,a as et,$ as ye,an as Xt,a1 as Jt,T as Zt,aL as qe,aj as Ke,a4 as vt,D as Y,E as tt,C as Qt,ac as yt,ad as gt,aS as _t}from"./framework.Zz1SbNKh.js";import{u as Nt,m as en,a as tn,E as se}from"./typescript.cgwlg1u4.js";import{i as xt,aJ as Pe,aS as Et,aU as nt,aT as De,aX as Ue,aN as X,b4 as nn,b5 as on,b6 as an,aZ as fe,b7 as sn,aV as ne,aW as wt,b8 as Ge,b9 as We,b2 as St,ba as je,bb as ln,b1 as rn,bc as dn,aP as un}from"./index.-UPDG9fq.js";import{f as cn}from"./fromPairs.E3iD47Fd.js";import{u as Oe,c as ot,a as Ye,b as Kt,f as fn}from"./use-form-item.vuA-B32v.js";import{i as Dt}from"./isNil.-q_uwI5T.js";import{p as at}from"./pick.hwSZBMEn.js";import{i as Xe}from"./isEqual.GBRS_oe3.js";import{p as hn}from"./pickBy.firGk55j.js";const pn=()=>xt&&/firefox/i.test(window.navigator.userAgent);class vn extends Error{constructor(t){super(t),this.name="ElementPlusError"}}function To(e,t){throw new vn(`[${e}] ${t}`)}function $o(e,t){}const ue="update:modelValue",Lo="change",Ao="input",yn=e=>/([\uAC00-\uD7AF\u3130-\u318F])+/gi.test(e),gn=["class","style"],mn=/^on[A-Z]/,bn=(e={})=>{const{excludeListeners:t=!1,excludeKeys:a}=e,o=x(()=>((a==null?void 0:a.value)||[]).concat(gn)),n=ge();return n?x(()=>{var s;return cn(Object.entries((s=n.proxy)==null?void 0:s.$attrs).filter(([r])=>!o.value.includes(r)&&!(t&&mn.test(r))))}):x(()=>({}))};function kn(e){const t=$();function a(){if(e.value==null)return;const{selectionStart:n,selectionEnd:s,value:r}=e.value;if(n==null||s==null)return;const l=r.slice(0,Math.max(0,n)),u=r.slice(Math.max(0,s));t.value={selectionStart:n,selectionEnd:s,value:r,beforeTxt:l,afterTxt:u}}function o(){if(e.value==null||t.value==null)return;const{value:n}=e.value,{beforeTxt:s,afterTxt:r,selectionStart:l}=t.value;if(s==null||r==null||l==null)return;let u=n.length;if(n.endsWith(r))u=n.length-r.length;else if(n.startsWith(s))u=s.length;else{const c=s[l-1],v=n.indexOf(c,l-1);v!==-1&&(u=v+1)}e.value.setSelectionRange(u,u)}return[a,o]}function Cn(e,{afterFocus:t,beforeBlur:a,afterBlur:o}={}){const n=ge(),{emit:s}=n,r=he(),l=$(!1),u=i=>{l.value||(l.value=!0,s("focus",i),t==null||t())},c=i=>{var f;kt(a)&&a(i)||i.relatedTarget&&((f=r.value)!=null&&f.contains(i.relatedTarget))||(l.value=!1,s("blur",i),o==null||o())},v=()=>{var i;(i=e.value)==null||i.focus()};return z(r,i=>{i&&i.setAttribute("tabindex","-1")}),Nt(r,"click",v),{wrapperRef:r,isFocused:l,handleFocus:u,handleBlur:c}}let G;const Nn=`
  height:0 !important;
  visibility:hidden !important;
  ${pn()?"":"overflow:hidden !important;"}
  position:absolute !important;
  z-index:-1000 !important;
  top:0 !important;
  right:0 !important;
`,xn=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing"];function En(e){const t=window.getComputedStyle(e),a=t.getPropertyValue("box-sizing"),o=Number.parseFloat(t.getPropertyValue("padding-bottom"))+Number.parseFloat(t.getPropertyValue("padding-top")),n=Number.parseFloat(t.getPropertyValue("border-bottom-width"))+Number.parseFloat(t.getPropertyValue("border-top-width"));return{contextStyle:xn.map(r=>`${r}:${t.getPropertyValue(r)}`).join(";"),paddingSize:o,borderSize:n,boxSizing:a}}function mt(e,t=1,a){var o;G||(G=document.createElement("textarea"),document.body.appendChild(G));const{paddingSize:n,borderSize:s,boxSizing:r,contextStyle:l}=En(e);G.setAttribute("style",`${l};${Nn}`),G.value=e.value||e.placeholder||"";let u=G.scrollHeight;const c={};r==="border-box"?u=u+s:r==="content-box"&&(u=u-n),G.value="";const v=G.scrollHeight-n;if(Pe(t)){let i=v*t;r==="border-box"&&(i=i+n+s),u=Math.max(i,u),c.minHeight=`${i}px`}if(Pe(a)){let i=v*a;r==="border-box"&&(i=i+n+s),u=Math.min(i,u)}return c.height=`${u}px`,(o=G.parentNode)==null||o.removeChild(G),G=void 0,c}const wn=Et({id:{type:String,default:void 0},size:nt,disabled:Boolean,modelValue:{type:De([String,Number,Object]),default:""},type:{type:String,default:"text"},resize:{type:String,values:["none","both","horizontal","vertical"]},autosize:{type:De([Boolean,Object]),default:!1},autocomplete:{type:String,default:"off"},formatter:{type:Function},parser:{type:Function},placeholder:{type:String},form:{type:String},readonly:{type:Boolean,default:!1},clearable:{type:Boolean,default:!1},showPassword:{type:Boolean,default:!1},showWordLimit:{type:Boolean,default:!1},suffixIcon:{type:Ue},prefixIcon:{type:Ue},containerRole:{type:String,default:void 0},label:{type:String,default:void 0},tabindex:{type:[String,Number],default:0},validateEvent:{type:Boolean,default:!0},inputStyle:{type:De([Object,Array,String]),default:()=>en({})},autofocus:{type:Boolean,default:!1}}),Sn={[ue]:e=>pe(e),input:e=>pe(e),change:e=>pe(e),focus:e=>e instanceof FocusEvent,blur:e=>e instanceof FocusEvent,clear:()=>!0,mouseleave:e=>e instanceof MouseEvent,mouseenter:e=>e instanceof MouseEvent,keydown:e=>e instanceof Event,compositionstart:e=>e instanceof CompositionEvent,compositionupdate:e=>e instanceof CompositionEvent,compositionend:e=>e instanceof CompositionEvent},Kn=["role"],Dn=["id","type","disabled","formatter","parser","readonly","autocomplete","tabindex","aria-label","placeholder","form","autofocus"],Bn=["id","tabindex","disabled","readonly","autocomplete","aria-label","placeholder","form","autofocus"],In=M({name:"ElInput",inheritAttrs:!1}),Tn=M({...In,props:wn,emits:Sn,setup(e,{expose:t,emit:a}){const o=e,n=Ct(),s=Qe(),r=x(()=>{const p={};return o.containerRole==="combobox"&&(p["aria-haspopup"]=n["aria-haspopup"],p["aria-owns"]=n["aria-owns"],p["aria-expanded"]=n["aria-expanded"]),p}),l=x(()=>[o.type==="textarea"?k.b():h.b(),h.m(g.value),h.is("disabled",y.value),h.is("exceed",Vt.value),{[h.b("group")]:s.prepend||s.append,[h.bm("group","append")]:s.append,[h.bm("group","prepend")]:s.prepend,[h.m("prefix")]:s.prefix||o.prefixIcon,[h.m("suffix")]:s.suffix||o.suffixIcon||o.clearable||o.showPassword,[h.bm("suffix","password-clear")]:J.value&&Me.value},n.class]),u=x(()=>[h.e("wrapper"),h.is("focus",I.value)]),c=bn({excludeKeys:x(()=>Object.keys(r.value))}),{form:v,formItem:i}=Oe(),{inputId:f}=ot(o,{formItemContext:i}),g=Ye(),y=Kt(),h=X("input"),k=X("textarea"),b=he(),K=he(),R=$(!1),j=$(!1),A=$(!1),oe=$(),Q=he(o.inputStyle),H=x(()=>b.value||K.value),{wrapperRef:N,isFocused:I,handleFocus:T,handleBlur:_}=Cn(H,{afterBlur(){var p;o.validateEvent&&((p=i==null?void 0:i.validate)==null||p.call(i,"blur").catch(w=>void 0))}}),xe=x(()=>{var p;return(p=v==null?void 0:v.statusIcon)!=null?p:!1}),ae=x(()=>(i==null?void 0:i.validateState)||""),Ee=x(()=>ae.value&&nn[ae.value]),Fe=x(()=>A.value?on:an),m=x(()=>[n.style,o.inputStyle]),S=x(()=>[o.inputStyle,Q.value,{resize:o.resize}]),O=x(()=>Dt(o.modelValue)?"":String(o.modelValue)),J=x(()=>o.clearable&&!y.value&&!o.readonly&&!!O.value&&(I.value||R.value)),Me=x(()=>o.showPassword&&!y.value&&!o.readonly&&!!O.value&&(!!O.value||I.value)),ce=x(()=>o.showWordLimit&&!!c.value.maxlength&&(o.type==="text"||o.type==="textarea")&&!y.value&&!o.readonly&&!o.showPassword),He=x(()=>O.value.length),Vt=x(()=>!!ce.value&&He.value>Number(c.value.maxlength)),Ot=x(()=>!!s.suffix||!!o.suffixIcon||J.value||o.showPassword||ce.value||!!ae.value&&xe.value),[Ft,Mt]=kn(b);tn(K,p=>{if(Ht(),!ce.value||o.resize!=="both")return;const w=p[0],{width:P}=w.contentRect;oe.value={right:`calc(100% - ${P+15+6}px)`}});const be=()=>{const{type:p,autosize:w}=o;if(!(!xt||p!=="textarea"||!K.value))if(w){const P=Le(w)?w.minRows:void 0,we=Le(w)?w.maxRows:void 0,ht=mt(K.value,P,we);Q.value={overflowY:"hidden",...ht},F(()=>{K.value.offsetHeight,Q.value=ht})}else Q.value={minHeight:mt(K.value).minHeight}},Ht=(p=>{let w=!1;return()=>{var P;if(w||!o.autosize)return;((P=K.value)==null?void 0:P.offsetParent)===null||(p(),w=!0)}})(be),ke=()=>{const p=H.value,w=o.formatter?o.formatter(O.value):O.value;!p||p.value===w||(p.value=w)},Re=async p=>{Ft();let{value:w}=p.target;if(o.formatter&&(w=o.parser?o.parser(w):w),!j.value){if(w===O.value){ke();return}a(ue,w),a("input",w),await F(),ke(),Mt()}},lt=p=>{a("change",p.target.value)},rt=p=>{a("compositionstart",p),j.value=!0},it=p=>{var w;a("compositionupdate",p);const P=(w=p.target)==null?void 0:w.value,we=P[P.length-1]||"";j.value=!yn(we)},dt=p=>{a("compositionend",p),j.value&&(j.value=!1,Re(p))},Rt=()=>{A.value=!A.value,ut()},ut=async()=>{var p;await F(),(p=H.value)==null||p.focus()},jt=()=>{var p;return(p=H.value)==null?void 0:p.blur()},qt=p=>{R.value=!1,a("mouseleave",p)},Ut=p=>{R.value=!0,a("mouseenter",p)},ct=p=>{a("keydown",p)},Gt=()=>{var p;(p=H.value)==null||p.select()},ft=()=>{a(ue,""),a("change",""),a("clear"),a("input","")};return z(()=>o.modelValue,()=>{var p;F(()=>be()),o.validateEvent&&((p=i==null?void 0:i.validate)==null||p.call(i,"change").catch(w=>void 0))}),z(O,()=>ke()),z(()=>o.type,async()=>{await F(),ke(),be()}),Ve(()=>{!o.formatter&&o.parser,ke(),F(be)}),t({input:b,textarea:K,ref:H,textareaStyle:S,autosize:Wt(o,"autosize"),focus:ut,blur:jt,select:Gt,clear:ft,resizeTextarea:be}),(p,w)=>te((C(),B("div",Ce(d(r),{class:d(l),style:d(m),role:p.containerRole,onMouseenter:Ut,onMouseleave:qt}),[D(" input "),p.type!=="textarea"?(C(),B(re,{key:0},[D(" prepend slot "),p.$slots.prepend?(C(),B("div",{key:0,class:E(d(h).be("group","prepend"))},[U(p.$slots,"prepend")],2)):D("v-if",!0),W("div",{ref_key:"wrapperRef",ref:N,class:E(d(u))},[D(" prefix slot "),p.$slots.prefix||p.prefixIcon?(C(),B("span",{key:0,class:E(d(h).e("prefix"))},[W("span",{class:E(d(h).e("prefix-inner"))},[U(p.$slots,"prefix"),p.prefixIcon?(C(),L(d(fe),{key:0,class:E(d(h).e("icon"))},{default:V(()=>[(C(),L(le(p.prefixIcon)))]),_:1},8,["class"])):D("v-if",!0)],2)],2)):D("v-if",!0),W("input",Ce({id:d(f),ref_key:"input",ref:b,class:d(h).e("inner")},d(c),{type:p.showPassword?A.value?"text":"password":p.type,disabled:d(y),formatter:p.formatter,parser:p.parser,readonly:p.readonly,autocomplete:p.autocomplete,tabindex:p.tabindex,"aria-label":p.label,placeholder:p.placeholder,style:p.inputStyle,form:o.form,autofocus:o.autofocus,onCompositionstart:rt,onCompositionupdate:it,onCompositionend:dt,onInput:Re,onFocus:w[0]||(w[0]=(...P)=>d(T)&&d(T)(...P)),onBlur:w[1]||(w[1]=(...P)=>d(_)&&d(_)(...P)),onChange:lt,onKeydown:ct}),null,16,Dn),D(" suffix slot "),d(Ot)?(C(),B("span",{key:1,class:E(d(h).e("suffix"))},[W("span",{class:E(d(h).e("suffix-inner"))},[!d(J)||!d(Me)||!d(ce)?(C(),B(re,{key:0},[U(p.$slots,"suffix"),p.suffixIcon?(C(),L(d(fe),{key:0,class:E(d(h).e("icon"))},{default:V(()=>[(C(),L(le(p.suffixIcon)))]),_:1},8,["class"])):D("v-if",!0)],64)):D("v-if",!0),d(J)?(C(),L(d(fe),{key:1,class:E([d(h).e("icon"),d(h).e("clear")]),onMousedown:q(d(Yt),["prevent"]),onClick:ft},{default:V(()=>[ie(d(sn))]),_:1},8,["class","onMousedown"])):D("v-if",!0),d(Me)?(C(),L(d(fe),{key:2,class:E([d(h).e("icon"),d(h).e("password")]),onClick:Rt},{default:V(()=>[(C(),L(le(d(Fe))))]),_:1},8,["class"])):D("v-if",!0),d(ce)?(C(),B("span",{key:3,class:E(d(h).e("count"))},[W("span",{class:E(d(h).e("count-inner"))},ee(d(He))+" / "+ee(d(c).maxlength),3)],2)):D("v-if",!0),d(ae)&&d(Ee)&&d(xe)?(C(),L(d(fe),{key:4,class:E([d(h).e("icon"),d(h).e("validateIcon"),d(h).is("loading",d(ae)==="validating")])},{default:V(()=>[(C(),L(le(d(Ee))))]),_:1},8,["class"])):D("v-if",!0)],2)],2)):D("v-if",!0)],2),D(" append slot "),p.$slots.append?(C(),B("div",{key:1,class:E(d(h).be("group","append"))},[U(p.$slots,"append")],2)):D("v-if",!0)],64)):(C(),B(re,{key:1},[D(" textarea "),W("textarea",Ce({id:d(f),ref_key:"textarea",ref:K,class:d(k).e("inner")},d(c),{tabindex:p.tabindex,disabled:d(y),readonly:p.readonly,autocomplete:p.autocomplete,style:d(S),"aria-label":p.label,placeholder:p.placeholder,form:o.form,autofocus:o.autofocus,onCompositionstart:rt,onCompositionupdate:it,onCompositionend:dt,onInput:Re,onFocus:w[2]||(w[2]=(...P)=>d(T)&&d(T)(...P)),onBlur:w[3]||(w[3]=(...P)=>d(_)&&d(_)(...P)),onChange:lt,onKeydown:ct}),null,16,Bn),d(ce)?(C(),B("span",{key:0,style:_e(oe.value),class:E(d(h).e("count"))},ee(d(He))+" / "+ee(d(c).maxlength),7)):D("v-if",!0)],64))],16,Kn)),[[$e,p.type!=="hidden"]])}});var $n=ne(Tn,[["__file","/home/runner/work/element-plus/element-plus/packages/components/input/src/input.vue"]]);const Ln=wt($n),Bt={modelValue:{type:[Number,String,Boolean],default:void 0},label:{type:[String,Boolean,Number,Object],default:void 0},indeterminate:Boolean,disabled:Boolean,checked:Boolean,name:{type:String,default:void 0},trueLabel:{type:[String,Number],default:void 0},falseLabel:{type:[String,Number],default:void 0},id:{type:String,default:void 0},controls:{type:String,default:void 0},border:Boolean,size:nt,tabindex:[String,Number],validateEvent:{type:Boolean,default:!0}},It={[ue]:e=>pe(e)||Pe(e)||Ge(e),change:e=>pe(e)||Pe(e)||Ge(e)},me=Symbol("checkboxGroupContextKey"),An=({model:e,isChecked:t})=>{const a=Z(me,void 0),o=x(()=>{var s,r;const l=(s=a==null?void 0:a.max)==null?void 0:s.value,u=(r=a==null?void 0:a.min)==null?void 0:r.value;return!We(l)&&e.value.length>=l&&!t.value||!We(u)&&e.value.length<=u&&t.value});return{isDisabled:Kt(x(()=>(a==null?void 0:a.disabled.value)||o.value)),isLimitDisabled:o}},zn=(e,{model:t,isLimitExceeded:a,hasOwnLabel:o,isDisabled:n,isLabeledByFormItem:s})=>{const r=Z(me,void 0),{formItem:l}=Oe(),{emit:u}=ge();function c(y){var h,k;return y===e.trueLabel||y===!0?(h=e.trueLabel)!=null?h:!0:(k=e.falseLabel)!=null?k:!1}function v(y,h){u("change",c(y),h)}function i(y){if(a.value)return;const h=y.target;u("change",c(h.checked),y)}async function f(y){a.value||!o.value&&!n.value&&s.value&&(y.composedPath().some(b=>b.tagName==="LABEL")||(t.value=c([!1,e.falseLabel].includes(t.value)),await F(),v(t.value,y)))}const g=x(()=>(r==null?void 0:r.validateEvent)||e.validateEvent);return z(()=>e.modelValue,()=>{g.value&&(l==null||l.validate("change").catch(y=>void 0))}),{handleChange:i,onClickRoot:f}},Pn=e=>{const t=$(!1),{emit:a}=ge(),o=Z(me,void 0),n=x(()=>We(o)===!1),s=$(!1);return{model:x({get(){var l,u;return n.value?(l=o==null?void 0:o.modelValue)==null?void 0:l.value:(u=e.modelValue)!=null?u:t.value},set(l){var u,c;n.value&&Ne(l)?(s.value=((u=o==null?void 0:o.max)==null?void 0:u.value)!==void 0&&l.length>(o==null?void 0:o.max.value),s.value===!1&&((c=o==null?void 0:o.changeEvent)==null||c.call(o,l))):(a(ue,l),t.value=l)}}),isGroup:n,isLimitExceeded:s}},Vn=(e,t,{model:a})=>{const o=Z(me,void 0),n=$(!1),s=x(()=>{const c=a.value;return Ge(c)?c:Ne(c)?Le(e.label)?c.map(pt).some(v=>Xe(v,e.label)):c.map(pt).includes(e.label):c!=null?c===e.trueLabel:!!c}),r=Ye(x(()=>{var c;return(c=o==null?void 0:o.size)==null?void 0:c.value}),{prop:!0}),l=Ye(x(()=>{var c;return(c=o==null?void 0:o.size)==null?void 0:c.value})),u=x(()=>!!t.default||!Dt(e.label));return{checkboxButtonSize:r,isChecked:s,isFocused:n,checkboxSize:l,hasOwnLabel:u}},On=(e,{model:t})=>{function a(){Ne(t.value)&&!t.value.includes(e.label)?t.value.push(e.label):t.value=e.trueLabel||!0}e.checked&&a()},Tt=(e,t)=>{const{formItem:a}=Oe(),{model:o,isGroup:n,isLimitExceeded:s}=Pn(e),{isFocused:r,isChecked:l,checkboxButtonSize:u,checkboxSize:c,hasOwnLabel:v}=Vn(e,t,{model:o}),{isDisabled:i}=An({model:o,isChecked:l}),{inputId:f,isLabeledByFormItem:g}=ot(e,{formItemContext:a,disableIdGeneration:v,disableIdManagement:n}),{handleChange:y,onClickRoot:h}=zn(e,{model:o,isLimitExceeded:s,hasOwnLabel:v,isDisabled:i,isLabeledByFormItem:g});return On(e,{model:o}),{inputId:f,isLabeledByFormItem:g,isChecked:l,isDisabled:i,isFocused:r,checkboxButtonSize:u,checkboxSize:c,hasOwnLabel:v,model:o,handleChange:y,onClickRoot:h}},Fn=["id","indeterminate","name","tabindex","disabled","true-value","false-value"],Mn=["id","indeterminate","disabled","value","name","tabindex"],Hn=M({name:"ElCheckbox"}),Rn=M({...Hn,props:Bt,emits:It,setup(e){const t=e,a=Qe(),{inputId:o,isLabeledByFormItem:n,isChecked:s,isDisabled:r,isFocused:l,checkboxSize:u,hasOwnLabel:c,model:v,handleChange:i,onClickRoot:f}=Tt(t,a),g=X("checkbox"),y=x(()=>[g.b(),g.m(u.value),g.is("disabled",r.value),g.is("bordered",t.border),g.is("checked",s.value)]),h=x(()=>[g.e("input"),g.is("disabled",r.value),g.is("checked",s.value),g.is("indeterminate",t.indeterminate),g.is("focus",l.value)]);return(k,b)=>(C(),L(le(!d(c)&&d(n)?"span":"label"),{class:E(d(y)),"aria-controls":k.indeterminate?k.controls:null,onClick:d(f)},{default:V(()=>[W("span",{class:E(d(h))},[k.trueLabel||k.falseLabel?te((C(),B("input",{key:0,id:d(o),"onUpdate:modelValue":b[0]||(b[0]=K=>Ae(v)?v.value=K:null),class:E(d(g).e("original")),type:"checkbox",indeterminate:k.indeterminate,name:k.name,tabindex:k.tabindex,disabled:d(r),"true-value":k.trueLabel,"false-value":k.falseLabel,onChange:b[1]||(b[1]=(...K)=>d(i)&&d(i)(...K)),onFocus:b[2]||(b[2]=K=>l.value=!0),onBlur:b[3]||(b[3]=K=>l.value=!1),onClick:b[4]||(b[4]=q(()=>{},["stop"]))},null,42,Fn)),[[ze,d(v)]]):te((C(),B("input",{key:1,id:d(o),"onUpdate:modelValue":b[5]||(b[5]=K=>Ae(v)?v.value=K:null),class:E(d(g).e("original")),type:"checkbox",indeterminate:k.indeterminate,disabled:d(r),value:k.label,name:k.name,tabindex:k.tabindex,onChange:b[6]||(b[6]=(...K)=>d(i)&&d(i)(...K)),onFocus:b[7]||(b[7]=K=>l.value=!0),onBlur:b[8]||(b[8]=K=>l.value=!1),onClick:b[9]||(b[9]=q(()=>{},["stop"]))},null,42,Mn)),[[ze,d(v)]]),W("span",{class:E(d(g).e("inner"))},null,2)],2),d(c)?(C(),B("span",{key:0,class:E(d(g).e("label"))},[U(k.$slots,"default"),k.$slots.default?D("v-if",!0):(C(),B(re,{key:0},[et(ee(k.label),1)],64))],2)):D("v-if",!0)]),_:3},8,["class","aria-controls","onClick"]))}});var jn=ne(Rn,[["__file","/home/runner/work/element-plus/element-plus/packages/components/checkbox/src/checkbox.vue"]]);const qn=["name","tabindex","disabled","true-value","false-value"],Un=["name","tabindex","disabled","value"],Gn=M({name:"ElCheckboxButton"}),Wn=M({...Gn,props:Bt,emits:It,setup(e){const t=e,a=Qe(),{isFocused:o,isChecked:n,isDisabled:s,checkboxButtonSize:r,model:l,handleChange:u}=Tt(t,a),c=Z(me,void 0),v=X("checkbox"),i=x(()=>{var g,y,h,k;const b=(y=(g=c==null?void 0:c.fill)==null?void 0:g.value)!=null?y:"";return{backgroundColor:b,borderColor:b,color:(k=(h=c==null?void 0:c.textColor)==null?void 0:h.value)!=null?k:"",boxShadow:b?`-1px 0 0 0 ${b}`:void 0}}),f=x(()=>[v.b("button"),v.bm("button",r.value),v.is("disabled",s.value),v.is("checked",n.value),v.is("focus",o.value)]);return(g,y)=>(C(),B("label",{class:E(d(f))},[g.trueLabel||g.falseLabel?te((C(),B("input",{key:0,"onUpdate:modelValue":y[0]||(y[0]=h=>Ae(l)?l.value=h:null),class:E(d(v).be("button","original")),type:"checkbox",name:g.name,tabindex:g.tabindex,disabled:d(s),"true-value":g.trueLabel,"false-value":g.falseLabel,onChange:y[1]||(y[1]=(...h)=>d(u)&&d(u)(...h)),onFocus:y[2]||(y[2]=h=>o.value=!0),onBlur:y[3]||(y[3]=h=>o.value=!1),onClick:y[4]||(y[4]=q(()=>{},["stop"]))},null,42,qn)),[[ze,d(l)]]):te((C(),B("input",{key:1,"onUpdate:modelValue":y[5]||(y[5]=h=>Ae(l)?l.value=h:null),class:E(d(v).be("button","original")),type:"checkbox",name:g.name,tabindex:g.tabindex,disabled:d(s),value:g.label,onChange:y[6]||(y[6]=(...h)=>d(u)&&d(u)(...h)),onFocus:y[7]||(y[7]=h=>o.value=!0),onBlur:y[8]||(y[8]=h=>o.value=!1),onClick:y[9]||(y[9]=q(()=>{},["stop"]))},null,42,Un)),[[ze,d(l)]]),g.$slots.default||g.label?(C(),B("span",{key:2,class:E(d(v).be("button","inner")),style:_e(d(n)?d(i):void 0)},[U(g.$slots,"default",{},()=>[et(ee(g.label),1)])],6)):D("v-if",!0)],2))}});var $t=ne(Wn,[["__file","/home/runner/work/element-plus/element-plus/packages/components/checkbox/src/checkbox-button.vue"]]);const Yn=Et({modelValue:{type:De(Array),default:()=>[]},disabled:Boolean,min:Number,max:Number,size:nt,label:String,fill:String,textColor:String,tag:{type:String,default:"div"},validateEvent:{type:Boolean,default:!0}}),Xn={[ue]:e=>Ne(e),change:e=>Ne(e)},Jn=M({name:"ElCheckboxGroup"}),Zn=M({...Jn,props:Yn,emits:Xn,setup(e,{emit:t}){const a=e,o=X("checkbox"),{formItem:n}=Oe(),{inputId:s,isLabeledByFormItem:r}=ot(a,{formItemContext:n}),l=async c=>{t(ue,c),await F(),t("change",c)},u=x({get(){return a.modelValue},set(c){l(c)}});return ye(me,{...at(Xt(a),["size","min","max","disabled","validateEvent","fill","textColor"]),modelValue:u,changeEvent:l}),z(()=>a.modelValue,()=>{a.validateEvent&&(n==null||n.validate("change").catch(c=>void 0))}),(c,v)=>{var i;return C(),L(le(c.tag),{id:d(s),class:E(d(o).b("group")),role:"group","aria-label":d(r)?void 0:c.label||"checkbox-group","aria-labelledby":d(r)?(i=d(n))==null?void 0:i.labelId:void 0},{default:V(()=>[U(c.$slots,"default")]),_:3},8,["id","class","aria-label","aria-labelledby"])}}});var Lt=ne(Zn,[["__file","/home/runner/work/element-plus/element-plus/packages/components/checkbox/src/checkbox-group.vue"]]);const Qn=wt(jn,{CheckboxButton:$t,CheckboxGroup:Lt}),zo=St($t),Po=St(Lt),_n=M({name:"ElCollapseTransition"}),eo=M({..._n,setup(e){const t=X("collapse-transition"),a=n=>{n.style.maxHeight="",n.style.overflow=n.dataset.oldOverflow,n.style.paddingTop=n.dataset.oldPaddingTop,n.style.paddingBottom=n.dataset.oldPaddingBottom},o={beforeEnter(n){n.dataset||(n.dataset={}),n.dataset.oldPaddingTop=n.style.paddingTop,n.dataset.oldPaddingBottom=n.style.paddingBottom,n.style.maxHeight=0,n.style.paddingTop=0,n.style.paddingBottom=0},enter(n){n.dataset.oldOverflow=n.style.overflow,n.scrollHeight!==0?n.style.maxHeight=`${n.scrollHeight}px`:n.style.maxHeight=0,n.style.paddingTop=n.dataset.oldPaddingTop,n.style.paddingBottom=n.dataset.oldPaddingBottom,n.style.overflow="hidden"},afterEnter(n){n.style.maxHeight="",n.style.overflow=n.dataset.oldOverflow},enterCancelled(n){a(n)},beforeLeave(n){n.dataset||(n.dataset={}),n.dataset.oldPaddingTop=n.style.paddingTop,n.dataset.oldPaddingBottom=n.style.paddingBottom,n.dataset.oldOverflow=n.style.overflow,n.style.maxHeight=`${n.scrollHeight}px`,n.style.overflow="hidden"},leave(n){n.scrollHeight!==0&&(n.style.maxHeight=0,n.style.paddingTop=0,n.style.paddingBottom=0)},afterLeave(n){a(n)},leaveCancelled(n){a(n)}};return(n,s)=>(C(),L(Zt,Ce({name:d(t).b()},Jt(o)),{default:V(()=>[U(n.$slots,"default")]),_:3},16,["name"]))}});var Be=ne(eo,[["__file","/home/runner/work/element-plus/element-plus/packages/components/collapse-transition/src/collapse-transition.vue"]]);Be.install=e=>{e.component(Be.name,Be)};const At=Be,Vo=At,ve="$treeNodeId",bt=function(e,t){!t||t[ve]||Object.defineProperty(t,ve,{value:e.id,enumerable:!1,configurable:!1,writable:!1})},st=function(e,t){return e?t[e]:t[ve]},Je=(e,t,a)=>{const o=e.value.currentNode;a();const n=e.value.currentNode;o!==n&&t("current-change",n?n.data:null,n)},Ze=e=>{let t=!0,a=!0,o=!0;for(let n=0,s=e.length;n<s;n++){const r=e[n];(r.checked!==!0||r.indeterminate)&&(t=!1,r.disabled||(o=!1)),(r.checked!==!1||r.indeterminate)&&(a=!1)}return{all:t,none:a,allWithoutDisable:o,half:!t&&!a}},Ie=function(e){if(e.childNodes.length===0||e.loading)return;const{all:t,none:a,half:o}=Ze(e.childNodes);t?(e.checked=!0,e.indeterminate=!1):o?(e.checked=!1,e.indeterminate=!0):a&&(e.checked=!1,e.indeterminate=!1);const n=e.parent;!n||n.level===0||e.store.checkStrictly||Ie(n)},Se=function(e,t){const a=e.store.props,o=e.data||{},n=a[t];if(typeof n=="function")return n(o,e);if(typeof n=="string")return o[n];if(typeof n>"u"){const s=o[t];return s===void 0?"":s}};let to=0;class de{constructor(t){this.id=to++,this.text=null,this.checked=!1,this.indeterminate=!1,this.data=null,this.expanded=!1,this.parent=null,this.visible=!0,this.isCurrent=!1,this.canFocus=!1;for(const a in t)qe(t,a)&&(this[a]=t[a]);this.level=0,this.loaded=!1,this.childNodes=[],this.loading=!1,this.parent&&(this.level=this.parent.level+1)}initialize(){const t=this.store;if(!t)throw new Error("[Node]store is required!");t.registerNode(this);const a=t.props;if(a&&typeof a.isLeaf<"u"){const s=Se(this,"isLeaf");typeof s=="boolean"&&(this.isLeafByUser=s)}if(t.lazy!==!0&&this.data?(this.setData(this.data),t.defaultExpandAll&&(this.expanded=!0,this.canFocus=!0)):this.level>0&&t.lazy&&t.defaultExpandAll&&this.expand(),Array.isArray(this.data)||bt(this,this.data),!this.data)return;const o=t.defaultExpandedKeys,n=t.key;n&&o&&o.includes(this.key)&&this.expand(null,t.autoExpandParent),n&&t.currentNodeKey!==void 0&&this.key===t.currentNodeKey&&(t.currentNode=this,t.currentNode.isCurrent=!0),t.lazy&&t._initDefaultCheckedNode(this),this.updateLeafState(),this.parent&&(this.level===1||this.parent.expanded===!0)&&(this.canFocus=!0)}setData(t){Array.isArray(t)||bt(this,t),this.data=t,this.childNodes=[];let a;this.level===0&&Array.isArray(this.data)?a=this.data:a=Se(this,"children")||[];for(let o=0,n=a.length;o<n;o++)this.insertChild({data:a[o]})}get label(){return Se(this,"label")}get key(){const t=this.store.key;return this.data?this.data[t]:null}get disabled(){return Se(this,"disabled")}get nextSibling(){const t=this.parent;if(t){const a=t.childNodes.indexOf(this);if(a>-1)return t.childNodes[a+1]}return null}get previousSibling(){const t=this.parent;if(t){const a=t.childNodes.indexOf(this);if(a>-1)return a>0?t.childNodes[a-1]:null}return null}contains(t,a=!0){return(this.childNodes||[]).some(o=>o===t||a&&o.contains(t))}remove(){const t=this.parent;t&&t.removeChild(this)}insertChild(t,a,o){if(!t)throw new Error("InsertChild error: child is required.");if(!(t instanceof de)){if(!o){const n=this.getChildren(!0);n.includes(t.data)||(typeof a>"u"||a<0?n.push(t.data):n.splice(a,0,t.data))}Object.assign(t,{parent:this,store:this.store}),t=Ke(new de(t)),t instanceof de&&t.initialize()}t.level=this.level+1,typeof a>"u"||a<0?this.childNodes.push(t):this.childNodes.splice(a,0,t),this.updateLeafState()}insertBefore(t,a){let o;a&&(o=this.childNodes.indexOf(a)),this.insertChild(t,o)}insertAfter(t,a){let o;a&&(o=this.childNodes.indexOf(a),o!==-1&&(o+=1)),this.insertChild(t,o)}removeChild(t){const a=this.getChildren()||[],o=a.indexOf(t.data);o>-1&&a.splice(o,1);const n=this.childNodes.indexOf(t);n>-1&&(this.store&&this.store.deregisterNode(t),t.parent=null,this.childNodes.splice(n,1)),this.updateLeafState()}removeChildByData(t){let a=null;for(let o=0;o<this.childNodes.length;o++)if(this.childNodes[o].data===t){a=this.childNodes[o];break}a&&this.removeChild(a)}expand(t,a){const o=()=>{if(a){let n=this.parent;for(;n.level>0;)n.expanded=!0,n=n.parent}this.expanded=!0,t&&t(),this.childNodes.forEach(n=>{n.canFocus=!0})};this.shouldLoadData()?this.loadData(n=>{Array.isArray(n)&&(this.checked?this.setChecked(!0,!0):this.store.checkStrictly||Ie(this),o())}):o()}doCreateChildren(t,a={}){t.forEach(o=>{this.insertChild(Object.assign({data:o},a),void 0,!0)})}collapse(){this.expanded=!1,this.childNodes.forEach(t=>{t.canFocus=!1})}shouldLoadData(){return this.store.lazy===!0&&this.store.load&&!this.loaded}updateLeafState(){if(this.store.lazy===!0&&this.loaded!==!0&&typeof this.isLeafByUser<"u"){this.isLeaf=this.isLeafByUser;return}const t=this.childNodes;if(!this.store.lazy||this.store.lazy===!0&&this.loaded===!0){this.isLeaf=!t||t.length===0;return}this.isLeaf=!1}setChecked(t,a,o,n){if(this.indeterminate=t==="half",this.checked=t===!0,this.store.checkStrictly)return;if(!(this.shouldLoadData()&&!this.store.checkDescendants)){const{all:r,allWithoutDisable:l}=Ze(this.childNodes);!this.isLeaf&&!r&&l&&(this.checked=!1,t=!1);const u=()=>{if(a){const c=this.childNodes;for(let f=0,g=c.length;f<g;f++){const y=c[f];n=n||t!==!1;const h=y.disabled?y.checked:n;y.setChecked(h,a,!0,n)}const{half:v,all:i}=Ze(c);i||(this.checked=i,this.indeterminate=v)}};if(this.shouldLoadData()){this.loadData(()=>{u(),Ie(this)},{checked:t!==!1});return}else u()}const s=this.parent;!s||s.level===0||o||Ie(s)}getChildren(t=!1){if(this.level===0)return this.data;const a=this.data;if(!a)return null;const o=this.store.props;let n="children";return o&&(n=o.children||"children"),a[n]===void 0&&(a[n]=null),t&&!a[n]&&(a[n]=[]),a[n]}updateChildren(){const t=this.getChildren()||[],a=this.childNodes.map(s=>s.data),o={},n=[];t.forEach((s,r)=>{const l=s[ve];!!l&&a.findIndex(c=>c[ve]===l)>=0?o[l]={index:r,data:s}:n.push({index:r,data:s})}),this.store.lazy||a.forEach(s=>{o[s[ve]]||this.removeChildByData(s)}),n.forEach(({index:s,data:r})=>{this.insertChild({data:r},s)}),this.updateLeafState()}loadData(t,a={}){if(this.store.lazy===!0&&this.store.load&&!this.loaded&&(!this.loading||Object.keys(a).length)){this.loading=!0;const o=n=>{this.childNodes=[],this.doCreateChildren(n,a),this.loaded=!0,this.loading=!1,this.updateLeafState(),t&&t.call(this,n)};this.store.load(this,o)}else t&&t.call(this)}}class no{constructor(t){this.currentNode=null,this.currentNodeKey=null;for(const a in t)qe(t,a)&&(this[a]=t[a]);this.nodesMap={}}initialize(){if(this.root=new de({data:this.data,store:this}),this.root.initialize(),this.lazy&&this.load){const t=this.load;t(this.root,a=>{this.root.doCreateChildren(a),this._initDefaultCheckedNodes()})}else this._initDefaultCheckedNodes()}filter(t){const a=this.filterNodeMethod,o=this.lazy,n=function(s){const r=s.root?s.root.childNodes:s.childNodes;if(r.forEach(l=>{l.visible=a.call(l,t,l.data,l),n(l)}),!s.visible&&r.length){let l=!0;l=!r.some(u=>u.visible),s.root?s.root.visible=l===!1:s.visible=l===!1}t&&s.visible&&!s.isLeaf&&!o&&s.expand()};n(this)}setData(t){t!==this.root.data?(this.root.setData(t),this._initDefaultCheckedNodes()):this.root.updateChildren()}getNode(t){if(t instanceof de)return t;const a=Le(t)?st(this.key,t):t;return this.nodesMap[a]||null}insertBefore(t,a){const o=this.getNode(a);o.parent.insertBefore({data:t},o)}insertAfter(t,a){const o=this.getNode(a);o.parent.insertAfter({data:t},o)}remove(t){const a=this.getNode(t);a&&a.parent&&(a===this.currentNode&&(this.currentNode=null),a.parent.removeChild(a))}append(t,a){const o=a?this.getNode(a):this.root;o&&o.insertChild({data:t})}_initDefaultCheckedNodes(){const t=this.defaultCheckedKeys||[],a=this.nodesMap;t.forEach(o=>{const n=a[o];n&&n.setChecked(!0,!this.checkStrictly)})}_initDefaultCheckedNode(t){(this.defaultCheckedKeys||[]).includes(t.key)&&t.setChecked(!0,!this.checkStrictly)}setDefaultCheckedKey(t){t!==this.defaultCheckedKeys&&(this.defaultCheckedKeys=t,this._initDefaultCheckedNodes())}registerNode(t){const a=this.key;!t||!t.data||(a?t.key!==void 0&&(this.nodesMap[t.key]=t):this.nodesMap[t.id]=t)}deregisterNode(t){!this.key||!t||!t.data||(t.childNodes.forEach(o=>{this.deregisterNode(o)}),delete this.nodesMap[t.key])}getCheckedNodes(t=!1,a=!1){const o=[],n=function(s){(s.root?s.root.childNodes:s.childNodes).forEach(l=>{(l.checked||a&&l.indeterminate)&&(!t||t&&l.isLeaf)&&o.push(l.data),n(l)})};return n(this),o}getCheckedKeys(t=!1){return this.getCheckedNodes(t).map(a=>(a||{})[this.key])}getHalfCheckedNodes(){const t=[],a=function(o){(o.root?o.root.childNodes:o.childNodes).forEach(s=>{s.indeterminate&&t.push(s.data),a(s)})};return a(this),t}getHalfCheckedKeys(){return this.getHalfCheckedNodes().map(t=>(t||{})[this.key])}_getAllNodes(){const t=[],a=this.nodesMap;for(const o in a)qe(a,o)&&t.push(a[o]);return t}updateChildren(t,a){const o=this.nodesMap[t];if(!o)return;const n=o.childNodes;for(let s=n.length-1;s>=0;s--){const r=n[s];this.remove(r.data)}for(let s=0,r=a.length;s<r;s++){const l=a[s];this.append(l,o.data)}}_setCheckedKeys(t,a=!1,o){const n=this._getAllNodes().sort((l,u)=>u.level-l.level),s=Object.create(null),r=Object.keys(o);n.forEach(l=>l.setChecked(!1,!1));for(let l=0,u=n.length;l<u;l++){const c=n[l],v=c.data[t].toString();if(!r.includes(v)){c.checked&&!s[v]&&c.setChecked(!1,!1);continue}let f=c.parent;for(;f&&f.level>0;)s[f.data[t]]=!0,f=f.parent;if(c.isLeaf||this.checkStrictly){c.setChecked(!0,!1);continue}if(c.setChecked(!0,!0),a){c.setChecked(!1,!1);const g=function(y){y.childNodes.forEach(k=>{k.isLeaf||k.setChecked(!1,!1),g(k)})};g(c)}}}setCheckedNodes(t,a=!1){const o=this.key,n={};t.forEach(s=>{n[(s||{})[o]]=!0}),this._setCheckedKeys(o,a,n)}setCheckedKeys(t,a=!1){this.defaultCheckedKeys=t;const o=this.key,n={};t.forEach(s=>{n[s]=!0}),this._setCheckedKeys(o,a,n)}setDefaultExpandedKeys(t){t=t||[],this.defaultExpandedKeys=t,t.forEach(a=>{const o=this.getNode(a);o&&o.expand(null,this.autoExpandParent)})}setChecked(t,a,o){const n=this.getNode(t);n&&n.setChecked(!!a,o)}getCurrentNode(){return this.currentNode}setCurrentNode(t){const a=this.currentNode;a&&(a.isCurrent=!1),this.currentNode=t,this.currentNode.isCurrent=!0}setUserCurrentNode(t,a=!0){const o=t[this.key],n=this.nodesMap[o];this.setCurrentNode(n),a&&this.currentNode.level>1&&this.currentNode.parent.expand(null,!0)}setCurrentNodeKey(t,a=!0){if(t==null){this.currentNode&&(this.currentNode.isCurrent=!1),this.currentNode=null;return}const o=this.getNode(t);o&&(this.setCurrentNode(o),a&&this.currentNode.level>1&&this.currentNode.parent.expand(null,!0))}}const oo=M({name:"ElTreeNodeContent",props:{node:{type:Object,required:!0},renderContent:Function},setup(e){const t=X("tree"),a=Z("NodeInstance"),o=Z("RootTree");return()=>{const n=e.node,{data:s,store:r}=n;return e.renderContent?e.renderContent(vt,{_self:a,node:n,data:s,store:r}):U(o.ctx.slots,"default",{node:n,data:s},()=>[vt("span",{class:t.be("node","label")},[n.label])])}}});var ao=ne(oo,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tree/src/tree-node-content.vue"]]);function zt(e){const t=Z("TreeNodeMap",null),a={treeNodeExpand:o=>{e.node!==o&&e.node.collapse()},children:[]};return t&&t.children.push(a),ye("TreeNodeMap",a),{broadcastExpanded:o=>{if(e.accordion)for(const n of a.children)n.treeNodeExpand(o)}}}const Pt=Symbol("dragEvents");function so({props:e,ctx:t,el$:a,dropIndicator$:o,store:n}){const s=X("tree"),r=$({showDropIndicator:!1,draggingNode:null,dropNode:null,allowDrop:!0,dropType:null});return ye(Pt,{treeNodeDragStart:({event:v,treeNode:i})=>{if(typeof e.allowDrag=="function"&&!e.allowDrag(i.node))return v.preventDefault(),!1;v.dataTransfer.effectAllowed="move";try{v.dataTransfer.setData("text/plain","")}catch{}r.value.draggingNode=i,t.emit("node-drag-start",i.node,v)},treeNodeDragOver:({event:v,treeNode:i})=>{const f=i,g=r.value.dropNode;g&&g.node.id!==f.node.id&&je(g.$el,s.is("drop-inner"));const y=r.value.draggingNode;if(!y||!f)return;let h=!0,k=!0,b=!0,K=!0;typeof e.allowDrop=="function"&&(h=e.allowDrop(y.node,f.node,"prev"),K=k=e.allowDrop(y.node,f.node,"inner"),b=e.allowDrop(y.node,f.node,"next")),v.dataTransfer.dropEffect=k||h||b?"move":"none",(h||k||b)&&(g==null?void 0:g.node.id)!==f.node.id&&(g&&t.emit("node-drag-leave",y.node,g.node,v),t.emit("node-drag-enter",y.node,f.node,v)),(h||k||b)&&(r.value.dropNode=f),f.node.nextSibling===y.node&&(b=!1),f.node.previousSibling===y.node&&(h=!1),f.node.contains(y.node,!1)&&(k=!1),(y.node===f.node||y.node.contains(f.node))&&(h=!1,k=!1,b=!1);const R=f.$el.querySelector(`.${s.be("node","content")}`).getBoundingClientRect(),j=a.value.getBoundingClientRect();let A;const oe=h?k?.25:b?.45:1:-1,Q=b?k?.75:h?.55:0:1;let H=-9999;const N=v.clientY-R.top;N<R.height*oe?A="before":N>R.height*Q?A="after":k?A="inner":A="none";const I=f.$el.querySelector(`.${s.be("node","expand-icon")}`).getBoundingClientRect(),T=o.value;A==="before"?H=I.top-j.top:A==="after"&&(H=I.bottom-j.top),T.style.top=`${H}px`,T.style.left=`${I.right-j.left}px`,A==="inner"?ln(f.$el,s.is("drop-inner")):je(f.$el,s.is("drop-inner")),r.value.showDropIndicator=A==="before"||A==="after",r.value.allowDrop=r.value.showDropIndicator||K,r.value.dropType=A,t.emit("node-drag-over",y.node,f.node,v)},treeNodeDragEnd:v=>{const{draggingNode:i,dropType:f,dropNode:g}=r.value;if(v.preventDefault(),v.dataTransfer.dropEffect="move",i&&g){const y={data:i.node.data};f!=="none"&&i.node.remove(),f==="before"?g.node.parent.insertBefore(y,g.node):f==="after"?g.node.parent.insertAfter(y,g.node):f==="inner"&&g.node.insertChild(y),f!=="none"&&n.value.registerNode(y),je(g.$el,s.is("drop-inner")),t.emit("node-drag-end",i.node,g.node,f,v),f!=="none"&&t.emit("node-drop",i.node,g.node,f,v)}i&&!g&&t.emit("node-drag-end",i.node,null,f,v),r.value.showDropIndicator=!1,r.value.draggingNode=null,r.value.dropNode=null,r.value.allowDrop=!0}}),{dragState:r}}const lo=M({name:"ElTreeNode",components:{ElCollapseTransition:At,ElCheckbox:Qn,NodeContent:ao,ElIcon:fe,Loading:rn},props:{node:{type:de,default:()=>({})},props:{type:Object,default:()=>({})},accordion:Boolean,renderContent:Function,renderAfterExpand:Boolean,showCheckbox:{type:Boolean,default:!1}},emits:["node-expand"],setup(e,t){const a=X("tree"),{broadcastExpanded:o}=zt(e),n=Z("RootTree"),s=$(!1),r=$(!1),l=$(null),u=$(null),c=$(null),v=Z(Pt),i=ge();ye("NodeInstance",i),e.node.expanded&&(s.value=!0,r.value=!0);const f=n.props.props.children||"children";z(()=>{const N=e.node.data[f];return N&&[...N]},()=>{e.node.updateChildren()}),z(()=>e.node.indeterminate,N=>{h(e.node.checked,N)}),z(()=>e.node.checked,N=>{h(N,e.node.indeterminate)}),z(()=>e.node.expanded,N=>{F(()=>s.value=N),N&&(r.value=!0)});const g=N=>st(n.props.nodeKey,N.data),y=N=>{const I=e.props.class;if(!I)return{};let T;if(kt(I)){const{data:_}=N;T=I(_,N)}else T=I;return pe(T)?{[T]:!0}:T},h=(N,I)=>{(l.value!==N||u.value!==I)&&n.ctx.emit("check-change",e.node.data,N,I),l.value=N,u.value=I},k=N=>{Je(n.store,n.ctx.emit,()=>n.store.value.setCurrentNode(e.node)),n.currentNode.value=e.node,n.props.expandOnClickNode&&K(),n.props.checkOnClickNode&&!e.node.disabled&&R(null,{target:{checked:!e.node.checked}}),n.ctx.emit("node-click",e.node.data,e.node,i,N)},b=N=>{n.instance.vnode.props.onNodeContextmenu&&(N.stopPropagation(),N.preventDefault()),n.ctx.emit("node-contextmenu",N,e.node.data,e.node,i)},K=()=>{e.node.isLeaf||(s.value?(n.ctx.emit("node-collapse",e.node.data,e.node,i),e.node.collapse()):(e.node.expand(),t.emit("node-expand",e.node.data,e.node,i)))},R=(N,I)=>{e.node.setChecked(I.target.checked,!n.props.checkStrictly),F(()=>{const T=n.store.value;n.ctx.emit("check",e.node.data,{checkedNodes:T.getCheckedNodes(),checkedKeys:T.getCheckedKeys(),halfCheckedNodes:T.getHalfCheckedNodes(),halfCheckedKeys:T.getHalfCheckedKeys()})})};return{ns:a,node$:c,tree:n,expanded:s,childNodeRendered:r,oldChecked:l,oldIndeterminate:u,getNodeKey:g,getNodeClass:y,handleSelectChange:h,handleClick:k,handleContextMenu:b,handleExpandIconClick:K,handleCheckChange:R,handleChildNodeExpand:(N,I,T)=>{o(I),n.ctx.emit("node-expand",N,I,T)},handleDragStart:N=>{n.props.draggable&&v.treeNodeDragStart({event:N,treeNode:e})},handleDragOver:N=>{N.preventDefault(),n.props.draggable&&v.treeNodeDragOver({event:N,treeNode:{$el:c.value,node:e.node}})},handleDrop:N=>{N.preventDefault()},handleDragEnd:N=>{n.props.draggable&&v.treeNodeDragEnd(N)},CaretRight:dn}}}),ro=["aria-expanded","aria-disabled","aria-checked","draggable","data-key"],io=["aria-expanded"];function uo(e,t,a,o,n,s){const r=Y("el-icon"),l=Y("el-checkbox"),u=Y("loading"),c=Y("node-content"),v=Y("el-tree-node"),i=Y("el-collapse-transition");return te((C(),B("div",{ref:"node$",class:E([e.ns.b("node"),e.ns.is("expanded",e.expanded),e.ns.is("current",e.node.isCurrent),e.ns.is("hidden",!e.node.visible),e.ns.is("focusable",!e.node.disabled),e.ns.is("checked",!e.node.disabled&&e.node.checked),e.getNodeClass(e.node)]),role:"treeitem",tabindex:"-1","aria-expanded":e.expanded,"aria-disabled":e.node.disabled,"aria-checked":e.node.checked,draggable:e.tree.props.draggable,"data-key":e.getNodeKey(e.node),onClick:t[1]||(t[1]=q((...f)=>e.handleClick&&e.handleClick(...f),["stop"])),onContextmenu:t[2]||(t[2]=(...f)=>e.handleContextMenu&&e.handleContextMenu(...f)),onDragstart:t[3]||(t[3]=q((...f)=>e.handleDragStart&&e.handleDragStart(...f),["stop"])),onDragover:t[4]||(t[4]=q((...f)=>e.handleDragOver&&e.handleDragOver(...f),["stop"])),onDragend:t[5]||(t[5]=q((...f)=>e.handleDragEnd&&e.handleDragEnd(...f),["stop"])),onDrop:t[6]||(t[6]=q((...f)=>e.handleDrop&&e.handleDrop(...f),["stop"]))},[W("div",{class:E(e.ns.be("node","content")),style:_e({paddingLeft:(e.node.level-1)*e.tree.props.indent+"px"})},[e.tree.props.icon||e.CaretRight?(C(),L(r,{key:0,class:E([e.ns.be("node","expand-icon"),e.ns.is("leaf",e.node.isLeaf),{expanded:!e.node.isLeaf&&e.expanded}]),onClick:q(e.handleExpandIconClick,["stop"])},{default:V(()=>[(C(),L(le(e.tree.props.icon||e.CaretRight)))]),_:1},8,["class","onClick"])):D("v-if",!0),e.showCheckbox?(C(),L(l,{key:1,"model-value":e.node.checked,indeterminate:e.node.indeterminate,disabled:!!e.node.disabled,onClick:t[0]||(t[0]=q(()=>{},["stop"])),onChange:e.handleCheckChange},null,8,["model-value","indeterminate","disabled","onChange"])):D("v-if",!0),e.node.loading?(C(),L(r,{key:2,class:E([e.ns.be("node","loading-icon"),e.ns.is("loading")])},{default:V(()=>[ie(u)]),_:1},8,["class"])):D("v-if",!0),ie(c,{node:e.node,"render-content":e.renderContent},null,8,["node","render-content"])],6),ie(i,null,{default:V(()=>[!e.renderAfterExpand||e.childNodeRendered?te((C(),B("div",{key:0,class:E(e.ns.be("node","children")),role:"group","aria-expanded":e.expanded},[(C(!0),B(re,null,tt(e.node.childNodes,f=>(C(),L(v,{key:e.getNodeKey(f),"render-content":e.renderContent,"render-after-expand":e.renderAfterExpand,"show-checkbox":e.showCheckbox,node:f,accordion:e.accordion,props:e.props,onNodeExpand:e.handleChildNodeExpand},null,8,["render-content","render-after-expand","show-checkbox","node","accordion","props","onNodeExpand"]))),128))],10,io)),[[$e,e.expanded]]):D("v-if",!0)]),_:1})],42,ro)),[[$e,e.node.visible]])}var co=ne(lo,[["render",uo],["__file","/home/runner/work/element-plus/element-plus/packages/components/tree/src/tree-node.vue"]]);function fo({el$:e},t){const a=X("tree"),o=he([]),n=he([]);Ve(()=>{r()}),Qt(()=>{o.value=Array.from(e.value.querySelectorAll("[role=treeitem]")),n.value=Array.from(e.value.querySelectorAll("input[type=checkbox]"))}),z(n,l=>{l.forEach(u=>{u.setAttribute("tabindex","-1")})}),Nt(e,"keydown",l=>{const u=l.target;if(!u.className.includes(a.b("node")))return;const c=l.code;o.value=Array.from(e.value.querySelectorAll(`.${a.is("focusable")}[role=treeitem]`));const v=o.value.indexOf(u);let i;if([se.up,se.down].includes(c)){if(l.preventDefault(),c===se.up){i=v===-1?0:v!==0?v-1:o.value.length-1;const g=i;for(;!t.value.getNode(o.value[i].dataset.key).canFocus;){if(i--,i===g){i=-1;break}i<0&&(i=o.value.length-1)}}else{i=v===-1?0:v<o.value.length-1?v+1:0;const g=i;for(;!t.value.getNode(o.value[i].dataset.key).canFocus;){if(i++,i===g){i=-1;break}i>=o.value.length&&(i=0)}}i!==-1&&o.value[i].focus()}[se.left,se.right].includes(c)&&(l.preventDefault(),u.click());const f=u.querySelector('[type="checkbox"]');[se.enter,se.space].includes(c)&&f&&(l.preventDefault(),f.click())});const r=()=>{var l;o.value=Array.from(e.value.querySelectorAll(`.${a.is("focusable")}[role=treeitem]`)),n.value=Array.from(e.value.querySelectorAll("input[type=checkbox]"));const u=e.value.querySelectorAll(`.${a.is("checked")}[role=treeitem]`);if(u.length){u[0].setAttribute("tabindex","0");return}(l=o.value[0])==null||l.setAttribute("tabindex","0")}}const ho=M({name:"ElTree",components:{ElTreeNode:co},props:{data:{type:Array,default:()=>[]},emptyText:{type:String},renderAfterExpand:{type:Boolean,default:!0},nodeKey:String,checkStrictly:Boolean,defaultExpandAll:Boolean,expandOnClickNode:{type:Boolean,default:!0},checkOnClickNode:Boolean,checkDescendants:{type:Boolean,default:!1},autoExpandParent:{type:Boolean,default:!0},defaultCheckedKeys:Array,defaultExpandedKeys:Array,currentNodeKey:[String,Number],renderContent:Function,showCheckbox:{type:Boolean,default:!1},draggable:{type:Boolean,default:!1},allowDrag:Function,allowDrop:Function,props:{type:Object,default:()=>({children:"children",label:"label",disabled:"disabled"})},lazy:{type:Boolean,default:!1},highlightCurrent:Boolean,load:Function,filterNodeMethod:Function,accordion:Boolean,indent:{type:Number,default:18},icon:{type:Ue}},emits:["check-change","current-change","node-click","node-contextmenu","node-collapse","node-expand","check","node-drag-start","node-drag-end","node-drop","node-drag-leave","node-drag-enter","node-drag-over"],setup(e,t){const{t:a}=un(),o=X("tree"),n=$(new no({key:e.nodeKey,data:e.data,lazy:e.lazy,props:e.props,load:e.load,currentNodeKey:e.currentNodeKey,checkStrictly:e.checkStrictly,checkDescendants:e.checkDescendants,defaultCheckedKeys:e.defaultCheckedKeys,defaultExpandedKeys:e.defaultExpandedKeys,autoExpandParent:e.autoExpandParent,defaultExpandAll:e.defaultExpandAll,filterNodeMethod:e.filterNodeMethod}));n.value.initialize();const s=$(n.value.root),r=$(null),l=$(null),u=$(null),{broadcastExpanded:c}=zt(e),{dragState:v}=so({props:e,ctx:t,el$:l,dropIndicator$:u,store:n});fo({el$:l},n);const i=x(()=>{const{childNodes:m}=s.value;return!m||m.length===0||m.every(({visible:S})=>!S)});z(()=>e.currentNodeKey,m=>{n.value.setCurrentNodeKey(m)}),z(()=>e.defaultCheckedKeys,m=>{n.value.setDefaultCheckedKey(m)}),z(()=>e.defaultExpandedKeys,m=>{n.value.setDefaultExpandedKeys(m)}),z(()=>e.data,m=>{n.value.setData(m)},{deep:!0}),z(()=>e.checkStrictly,m=>{n.value.checkStrictly=m});const f=m=>{if(!e.filterNodeMethod)throw new Error("[Tree] filterNodeMethod is required when filter");n.value.filter(m)},g=m=>st(e.nodeKey,m.data),y=m=>{if(!e.nodeKey)throw new Error("[Tree] nodeKey is required in getNodePath");const S=n.value.getNode(m);if(!S)return[];const O=[S.data];let J=S.parent;for(;J&&J!==s.value;)O.push(J.data),J=J.parent;return O.reverse()},h=(m,S)=>n.value.getCheckedNodes(m,S),k=m=>n.value.getCheckedKeys(m),b=()=>{const m=n.value.getCurrentNode();return m?m.data:null},K=()=>{if(!e.nodeKey)throw new Error("[Tree] nodeKey is required in getCurrentKey");const m=b();return m?m[e.nodeKey]:null},R=(m,S)=>{if(!e.nodeKey)throw new Error("[Tree] nodeKey is required in setCheckedNodes");n.value.setCheckedNodes(m,S)},j=(m,S)=>{if(!e.nodeKey)throw new Error("[Tree] nodeKey is required in setCheckedKeys");n.value.setCheckedKeys(m,S)},A=(m,S,O)=>{n.value.setChecked(m,S,O)},oe=()=>n.value.getHalfCheckedNodes(),Q=()=>n.value.getHalfCheckedKeys(),H=(m,S=!0)=>{if(!e.nodeKey)throw new Error("[Tree] nodeKey is required in setCurrentNode");Je(n,t.emit,()=>n.value.setUserCurrentNode(m,S))},N=(m,S=!0)=>{if(!e.nodeKey)throw new Error("[Tree] nodeKey is required in setCurrentKey");Je(n,t.emit,()=>n.value.setCurrentNodeKey(m,S))},I=m=>n.value.getNode(m),T=m=>{n.value.remove(m)},_=(m,S)=>{n.value.append(m,S)},xe=(m,S)=>{n.value.insertBefore(m,S)},ae=(m,S)=>{n.value.insertAfter(m,S)},Ee=(m,S,O)=>{c(S),t.emit("node-expand",m,S,O)},Fe=(m,S)=>{if(!e.nodeKey)throw new Error("[Tree] nodeKey is required in updateKeyChild");n.value.updateChildren(m,S)};return ye("RootTree",{ctx:t,props:e,store:n,root:s,currentNode:r,instance:ge()}),ye(fn,void 0),{ns:o,store:n,root:s,currentNode:r,dragState:v,el$:l,dropIndicator$:u,isEmpty:i,filter:f,getNodeKey:g,getNodePath:y,getCheckedNodes:h,getCheckedKeys:k,getCurrentNode:b,getCurrentKey:K,setCheckedNodes:R,setCheckedKeys:j,setChecked:A,getHalfCheckedNodes:oe,getHalfCheckedKeys:Q,setCurrentNode:H,setCurrentKey:N,t:a,getNode:I,remove:T,append:_,insertBefore:xe,insertAfter:ae,handleNodeExpand:Ee,updateKeyChildren:Fe}}});function po(e,t,a,o,n,s){const r=Y("el-tree-node");return C(),B("div",{ref:"el$",class:E([e.ns.b(),e.ns.is("dragging",!!e.dragState.draggingNode),e.ns.is("drop-not-allow",!e.dragState.allowDrop),e.ns.is("drop-inner",e.dragState.dropType==="inner"),{[e.ns.m("highlight-current")]:e.highlightCurrent}]),role:"tree"},[(C(!0),B(re,null,tt(e.root.childNodes,l=>(C(),L(r,{key:e.getNodeKey(l),node:l,props:e.props,accordion:e.accordion,"render-after-expand":e.renderAfterExpand,"show-checkbox":e.showCheckbox,"render-content":e.renderContent,onNodeExpand:e.handleNodeExpand},null,8,["node","props","accordion","render-after-expand","show-checkbox","render-content","onNodeExpand"]))),128)),e.isEmpty?(C(),B("div",{key:0,class:E(e.ns.e("empty-block"))},[U(e.$slots,"empty",{},()=>{var l;return[W("span",{class:E(e.ns.e("empty-text"))},ee((l=e.emptyText)!=null?l:e.t("el.tree.emptyText")),3)]})],2)):D("v-if",!0),te(W("div",{ref:"dropIndicator$",class:E(e.ns.e("drop-indicator"))},null,2),[[$e,e.dragState.showDropIndicator]])],2)}var Te=ne(ho,[["render",po],["__file","/home/runner/work/element-plus/element-plus/packages/components/tree/src/tree.vue"]]);Te.install=e=>{e.component(Te.name,Te)};const vo=Te,yo=vo;function go(e,{treeRef:t}){const a=$("");z(a,n=>{var s;(s=t.value)==null||s.filter(n)});const o=x(()=>Array.isArray(e.modelValue)?e.modelValue.length?"":e.placeholder:typeof e.modelValue=="string"?e.modelValue?"":e.placeholder:"");return{...at(e,Object.keys(Ln.props)),placeholder:o,modelValue:a,"onUpdate:modelValue":n=>a.value=n}}function mo(e,{emit:t,treeRef:a}){const o=x(()=>{var s,r,l;if(e.multiple)return((s=a.value)==null?void 0:s.getCheckedNodes(!e.checkStrictly))??[];{const u=(l=(r=a.value)==null?void 0:r.getNode(e.modelValue))==null?void 0:l.data;return u?[u]:[]}});function n(s){const r=e.multiple?e.modelValue.filter(l=>l!==s[e.nodeKey]):"";t("update:modelValue",r)}return{checkedNodes:o,onTagClose:n}}function bo(e,{emit:t,treeRef:a}){const o=Ct();Ve(()=>{z(()=>e.modelValue,()=>{e.multiple?F(()=>{var l,u;Xe((l=a.value)==null?void 0:l.getCheckedKeys(),e.modelValue||[])||(u=a.value)==null||u.setCheckedKeys(e.modelValue)}):F(()=>{var l,u;Xe((l=a.value)==null?void 0:l.getCurrentKey(),e.modelValue)||(u=a.value)==null||u.setCurrentKey(e.modelValue||void 0)})},{immediate:!0,deep:!0})});function n(l,u,c){if(e.multiple&&e.checkOnClickNode)return;const v=l[e.nodeKey];!e.multiple&&(e.checkStrictly||u.isLeaf)?t("update:modelValue",v):e.expandOnClickNode&&c.proxy.handleExpandIconClick(),F(()=>{var i,f;(i=a.value)==null||i.setCurrentKey(e.modelValue||void 0),(f=o.onNodeClick)==null||f.call(o,l,u,c)})}function s(l,{checkedKeys:u}){var c;e.multiple&&(e.checkStrictly?t("update:modelValue",u):t("update:modelValue",(c=a.value)==null?void 0:c.getCheckedKeys(!0)),F(()=>{var v,i,f,g,y,h;(v=a.value)==null||v.setCheckedKeys(e.modelValue),(h=o.onCheck)==null||h.call(o,l,{checkedKeys:(i=a.value)==null?void 0:i.getCheckedKeys(),checkedNodes:(f=a.value)==null?void 0:f.getCheckedNodes(),halfCheckedKeys:(g=a.value)==null?void 0:g.getHalfCheckedKeys(),halfCheckedNodes:(y=a.value)==null?void 0:y.getHalfCheckedNodes()})}))}function r(l,u,c){return e.filterNodeMethod?e.filterNodeMethod(l,u,c):l?u.label.includes(l):!0}return{...at(e,Object.keys(yo.props)),showCheckbox:x(()=>e.multiple),highlightCurrent:x(()=>!e.multiple),expandOnClickNode:x(()=>!e.checkStrictly&&e.expandOnClickNode),filterNodeMethod:r,onNodeClick:n,onCheck:s}}const ko={class:"ep-tree"},Oo=M({__name:"index",props:{data:{},emptyText:{},renderAfterExpand:{type:Boolean},nodeKey:{default:"value"},checkStrictly:{type:Boolean},expandOnClickNode:{type:Boolean},defaultExpandAll:{type:Boolean},checkOnClickNode:{type:Boolean},checkDescendants:{type:Boolean},autoExpandParent:{type:Boolean},defaultCheckedKeys:{},defaultExpandedKeys:{},currentNodeKey:{},renderContent:{},showCheckbox:{type:Boolean},draggable:{type:Boolean},allowDrag:{},allowDrop:{},props:{},lazy:{type:Boolean},highlightCurrent:{type:Boolean},load:{},filterNodeMethod:{},accordion:{type:Boolean},indent:{},icon:{},id:{},size:{},disabled:{type:Boolean},type:{},resize:{},autosize:{},autocomplete:{},formatter:{},parser:{},placeholder:{default:""},form:{},readonly:{type:Boolean},clearable:{type:Boolean},showPassword:{type:Boolean},showWordLimit:{type:Boolean},suffixIcon:{},prefixIcon:{},containerRole:{},label:{},tabindex:{},validateEvent:{type:Boolean},inputStyle:{},autofocus:{type:Boolean},modelValue:{},multiple:{type:Boolean},tagType:{default:"info"}},emits:["update:modelValue"],setup(e,{expose:t,emit:a}){const o=e,n=a,s=$(),r=bo(o,{emit:n,treeRef:s}),l=go(o,{treeRef:s}),{checkedNodes:u,onTagClose:c}=mo(o,{emit:n,treeRef:s}),v=Ke({});return t(v),Ve(()=>{const i=hn(s.value??{},f=>typeof f=="function");Object.assign(v,i)}),(i,f)=>{const g=Y("el-tag"),y=Y("el-space"),h=Y("el-input"),k=Y("el-tree");return C(),B("div",ko,[ie(h,yt(gt(Ke(d(l)))),{prefix:V(()=>[ie(y,{wrap:""},{default:V(()=>[(C(!0),B(re,null,tt(d(u),b=>(C(),L(g,{key:b[i.nodeKey],closable:"",type:i.tagType,onClose:K=>d(c)(b)},{default:V(()=>[et(ee(b.label),1)]),_:2},1032,["type","onClose"]))),128))]),_:1})]),_:1},16),ie(k,Ce({ref_key:"treeRef",ref:s},Ke(d(r))),_t({_:2},[i.$slots.default?{name:"default",fn:V(b=>[U(i.$slots,"default",yt(gt(b)))]),key:"0"}:void 0,i.$slots.empty?{name:"empty",fn:V(()=>[U(i.$slots,"empty")]),key:"1"}:void 0]),1040)])}}});export{Lo as C,yo as E,Ao as I,ue as U,Oo as _,Ln as a,Qn as b,At as c,$o as d,Cn as e,pn as f,Po as g,vo as h,yn as i,zo as j,Vo as k,To as t,bn as u};
