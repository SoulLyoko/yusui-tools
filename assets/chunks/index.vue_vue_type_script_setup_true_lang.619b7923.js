var CC=Object.defineProperty;var IC=(y,d,s)=>d in y?CC(y,d,{enumerable:!0,configurable:!0,writable:!0,value:s}):y[d]=s;var ed=(y,d,s)=>(IC(y,typeof d!="symbol"?d+"":d,s),s);import{g as on,I as RC}from"./data.9a872b3e.js";import{d as LC}from"../flow-design_flow-modeler_index.md.af625970.js";import{n as BC,r as Fl,f as ad,b as _C,D as $n,h as Ni,A as Gl,B as Di,G as ji,k as zC,u as kr,af as Hl,z as FC,e as Km,w as Vm,C as GC,S as HC,i as $C}from"./framework.6c76c79f.js";import{q as sd}from"./theme.80738b14.js";import{eC as kC,eD as UC}from"../app.4f1e7f28.js";import{b as XC,c8 as YC,c9 as WC,ca as KC,c7 as VC,ar as zl,cb as Zm}from"../composables_use-crud_index.md.7ff4ecf5.js";var ZC="[object String]";function Jm(y){return typeof y=="string"||!XC(y)&&YC(y)&&WC(y)==ZC}var JC=0;function Qm(y){var d=++JC;return KC(y)+d}const qm={rect:{radius:5,stroke:"black"},circle:{r:18,stroke:"black"},polygon:{stroke:"black"},polyline:{stroke:"black",hoverStroke:"black",selectedStroke:"black"},edgeText:{background:{fill:"white",height:14,stroke:"transparent",radius:3}}};var Ge={},QC={get exports(){return Ge},set exports(y){Ge=y}};(function(y,d){(function(f,o){y.exports=o()})(window,function(){return function(s){var f={};function o(u){if(f[u])return f[u].exports;var l=f[u]={i:u,l:!1,exports:{}};return s[u].call(l.exports,l,l.exports,o),l.l=!0,l.exports}return o.m=s,o.c=f,o.d=function(u,l,v){o.o(u,l)||Object.defineProperty(u,l,{enumerable:!0,get:v})},o.r=function(u){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(u,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(u,"__esModule",{value:!0})},o.t=function(u,l){if(l&1&&(u=o(u)),l&8||l&4&&typeof u=="object"&&u&&u.__esModule)return u;var v=Object.create(null);if(o.r(v),Object.defineProperty(v,"default",{enumerable:!0,value:u}),l&2&&typeof u!="string")for(var b in u)o.d(v,b,function(O){return u[O]}.bind(null,b));return v},o.n=function(u){var l=u&&u.__esModule?function(){return u.default}:function(){return u};return o.d(l,"a",l),l},o.o=function(u,l){return Object.prototype.hasOwnProperty.call(u,l)},o.p="",o(o.s=215)}([function(s,f,o){(function(u,l){o.d(f,"a",function(){return R}),o.d(f,"b",function(){return qo}),o.d(f,"c",function(){return sn}),o.d(f,"d",function(){return fr}),o.d(f,"e",function(){return Ye}),o.d(f,"f",function(){return je}),o.d(f,"g",function(){return zi}),o.d(f,"h",function(){return Jn}),o.d(f,"i",function(){return at}),o.d(f,"j",function(){return Tr}),o.d(f,"k",function(){return Yr}),o.d(f,"l",function(){return Lr}),o.d(f,"m",function(){return Mr}),o.d(f,"n",function(){return hu}),o.d(f,"o",function(){return ce}),o.d(f,"p",function(){return Ou}),o.d(f,"q",function(){return Qo}),o.d(f,"r",function(){return yu}),o.d(f,"s",function(){return Dr}),o.d(f,"t",function(){return Zi}),o.d(f,"u",function(){return fu}),o.d(f,"v",function(){return gu}),o.d(f,"w",function(){return mu}),o.d(f,"x",function(){return Pn}),o.d(f,"y",function(){return _r}),o.d(f,"z",function(){return Ut}),o.d(f,"A",function(){return br}),o.d(f,"B",function(){return Mn}),o.d(f,"C",function(){return mt}),o.d(f,"D",function(){return Eu}),o.d(f,"E",function(){return Jo}),o.d(f,"F",function(){return du}),o.d(f,"G",function(){return uu}),o.d(f,"H",function(){return Xi}),o.d(f,"I",function(){return Pu}),o.d(f,"J",function(){return wr}),o.d(f,"K",function(){return te}),o.d(f,"L",function(){return bu}),o.d(f,"M",function(){return wn});var v="An invariant failed, however the error is obfuscated because this is a production build.",b=[];Object.freeze(b);var O={};Object.freeze(O);function E(){return++$e.mobxGuid}function P(p){throw T(!1,p),"X"}function T(p,g){if(!p)throw new Error("[mobx] "+(g||v))}function M(p){var g=!1;return function(){if(!g)return g=!0,p.apply(this,arguments)}}var N=function(){};function D(p){var g=[];return p.forEach(function(S){g.indexOf(S)===-1&&g.push(S)}),g}function I(p){return p!==null&&typeof p=="object"}function _(p){if(p===null||typeof p!="object")return!1;var g=Object.getPrototypeOf(p);return g===Object.prototype||g===null}function $(p){if(Q(p)||Ut(p))return p;if(Array.isArray(p))return new Map(p);if(_(p)){var g=new Map;for(var S in p)g.set(S,p[S]);return g}else return P("Cannot convert to map from '"+p+"'")}function X(p,g,S){Object.defineProperty(p,g,{enumerable:!1,writable:!0,configurable:!0,value:S})}function ue(p,g,S){Object.defineProperty(p,g,{enumerable:!1,writable:!1,configurable:!0,value:S})}function le(p,g){var S=Object.getOwnPropertyDescriptor(p,g);return!S||S.configurable!==!1&&S.writable!==!1}function ee(p,g){var S="isMobX"+p;return g.prototype[S]=!0,function(C){return I(C)&&C[S]===!0}}function Q(p){return p instanceof Map}function se(p){return p instanceof Set}function z(p){var g=new Set;for(var S in p)g.add(S);return Object.getOwnPropertySymbols(p).forEach(function(C){Object.getOwnPropertyDescriptor(p,C).enumerable&&g.add(C)}),Array.from(g)}function U(p){return p&&p.toString?p.toString():new String(p).toString()}function L(p){return p===null?null:typeof p=="object"?""+p:p}var A=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols?function(p){return Object.getOwnPropertyNames(p).concat(Object.getOwnPropertySymbols(p))}:Object.getOwnPropertyNames,R=Symbol("mobx administration"),W=function(){function p(g){g===void 0&&(g="Atom@"+E()),this.name=g,this.isPendingUnobservation=!1,this.isBeingObserved=!1,this.observers=new Set,this.diffValue=0,this.lastAccessedBy=0,this.lowestObserverState=et.NOT_TRACKING}return p.prototype.onBecomeObserved=function(){this.onBecomeObservedListeners&&this.onBecomeObservedListeners.forEach(function(g){return g()})},p.prototype.onBecomeUnobserved=function(){this.onBecomeUnobservedListeners&&this.onBecomeUnobservedListeners.forEach(function(g){return g()})},p.prototype.reportObserved=function(){return $i(this)},p.prototype.reportChanged=function(){Mt(),tu(this),gr()},p.prototype.toString=function(){return this.name},p}(),Z=ee("Atom",W);function ce(p,g,S){g===void 0&&(g=N),S===void 0&&(S=N);var C=new W(p);return g!==N&&pu(C,g),S!==N&&Jo(C,S),C}function Pe(p,g){return p===g}function me(p,g){return go(p,g)}function be(p,g){return go(p,g,1)}function xe(p,g){return Object.is(p,g)}var Oe={identity:Pe,structural:me,default:xe,shallow:be};/*! *****************************************************************************
	Copyright (c) Microsoft Corporation. All rights reserved.
	Licensed under the Apache License, Version 2.0 (the "License"); you may not use
	this file except in compliance with the License. You may obtain a copy of the
	License at http://www.apache.org/licenses/LICENSE-2.0

	THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
	KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
	WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
	MERCHANTABLITY OR NON-INFRINGEMENT.

	See the Apache Version 2.0 License for specific language governing permissions
	and limitations under the License.
	***************************************************************************** */var Ae=function(p,g){return Ae=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(S,C){S.__proto__=C}||function(S,C){for(var F in C)C.hasOwnProperty(F)&&(S[F]=C[F])},Ae(p,g)};function Fe(p,g){Ae(p,g);function S(){this.constructor=p}p.prototype=g===null?Object.create(g):(S.prototype=g.prototype,new S)}var Ve=function(){return Ve=Object.assign||function(g){for(var S,C=1,F=arguments.length;C<F;C++){S=arguments[C];for(var V in S)Object.prototype.hasOwnProperty.call(S,V)&&(g[V]=S[V])}return g},Ve.apply(this,arguments)};function Be(p){var g=typeof Symbol=="function"&&p[Symbol.iterator],S=0;return g?g.call(p):{next:function(){return p&&S>=p.length&&(p=void 0),{value:p&&p[S++],done:!p}}}}function Ee(p,g){var S=typeof Symbol=="function"&&p[Symbol.iterator];if(!S)return p;var C=S.call(p),F,V=[],fe;try{for(;(g===void 0||g-- >0)&&!(F=C.next()).done;)V.push(F.value)}catch(Me){fe={error:Me}}finally{try{F&&!F.done&&(S=C.return)&&S.call(C)}finally{if(fe)throw fe.error}}return V}function _e(){for(var p=[],g=0;g<arguments.length;g++)p=p.concat(Ee(arguments[g]));return p}var Xe=Symbol("mobx did run lazy initializers"),k=Symbol("mobx pending decorators"),Y={},q={};function he(p,g){var S=g?Y:q;return S[p]||(S[p]={configurable:!0,enumerable:g,get:function(){return Se(this),this[p]},set:function(C){Se(this),this[p]=C}})}function Se(p){var g,S;if(p[Xe]!==!0){var C=p[k];if(C){X(p,Xe,!0);var F=_e(Object.getOwnPropertySymbols(C),Object.keys(C));try{for(var V=Be(F),fe=V.next();!fe.done;fe=V.next()){var Me=fe.value,ke=C[Me];ke.propertyCreator(p,ke.prop,ke.descriptor,ke.decoratorTarget,ke.decoratorArguments)}}catch(ct){g={error:ct}}finally{try{fe&&!fe.done&&(S=V.return)&&S.call(V)}finally{if(g)throw g.error}}}}}function pe(p,g){return function(){var C,F=function(fe,Me,ke,ct){if(ct===!0)return g(fe,Me,ke,fe,C),null;if(!Object.prototype.hasOwnProperty.call(fe,k)){var dt=fe[k];X(fe,k,Ve({},dt))}return fe[k][Me]={prop:Me,propertyCreator:g,descriptor:ke,decoratorTarget:fe,decoratorArguments:C},he(Me,p)};return He(arguments)?(C=b,F.apply(null,arguments)):(C=Array.prototype.slice.call(arguments),F)}}function He(p){return(p.length===2||p.length===3)&&(typeof p[1]=="string"||typeof p[1]=="symbol")||p.length===4&&p[3]===!0}function tt(p,g,S){return Pn(p)?p:Array.isArray(p)?mt.array(p,{name:S}):_(p)?mt.object(p,void 0,{name:S}):Q(p)?mt.map(p,{name:S}):se(p)?mt.set(p,{name:S}):p}function Ke(p,g,S){return p==null||br(p)||_r(p)||Ut(p)||cr(p)?p:Array.isArray(p)?mt.array(p,{name:S,deep:!1}):_(p)?mt.object(p,void 0,{name:S,deep:!1}):Q(p)?mt.map(p,{name:S,deep:!1}):se(p)?mt.set(p,{name:S,deep:!1}):P(!1)}function it(p){return p}function ve(p,g,S){return go(p,g)?g:p}function lt(p){T(p);var g=pe(!0,function(C,F,V,fe,Me){var ke=V?V.initializer?V.initializer.call(C):V.value:void 0;ei(C).addObservableProp(F,ke,p)}),S=(typeof u<"u"&&u.env,g);return S.enhancer=p,S}var rt={deep:!0,name:void 0,defaultDecorator:void 0,proxy:!0};Object.freeze(rt);function ze(p){return p==null?rt:typeof p=="string"?{name:p,deep:!0,proxy:!0}:p}var qe=lt(tt),At=lt(Ke),vt=lt(it),Ot=lt(ve);function ie(p){return p.defaultDecorator?p.defaultDecorator.enhancer:p.deep===!1?it:tt}function jt(p,g,S){if(typeof arguments[1]=="string"||typeof arguments[1]=="symbol")return qe.apply(null,arguments);if(Pn(p))return p;var C=_(p)?mt.object(p,g,S):Array.isArray(p)?mt.array(p,g):Q(p)?mt.map(p,g):se(p)?mt.set(p,g):p;if(C!==p)return C;P(!1)}var St={box:function(p,g){arguments.length>2&&Kt("box");var S=ze(g);return new an(p,ie(S),S.name,!0,S.equals)},array:function(p,g){arguments.length>2&&Kt("array");var S=ze(g);return Du(p,ie(S),S.name)},map:function(p,g){arguments.length>2&&Kt("map");var S=ze(g);return new qo(p,ie(S),S.name)},set:function(p,g){arguments.length>2&&Kt("set");var S=ze(g);return new aa(p,ie(S),S.name)},object:function(p,g,S){typeof arguments[1]=="string"&&Kt("object");var C=ze(S);if(C.proxy===!1)return Qo({},p,g,C);var F=Ki(C),V=Qo({},void 0,void 0,C),fe=Nn(V);return Vi(fe,p,g,F),fe},ref:vt,shallow:At,deep:qe,struct:Ot},mt=jt;Object.keys(St).forEach(function(p){return mt[p]=St[p]});function Kt(p){P("Expected one or two arguments to observable."+p+". Did you accidentally try to use observable."+p+" as decorator?")}var yr=pe(!1,function(p,g,S,C,F){var V=S.get,fe=S.set,Me=F[0]||{};ei(p).addComputedProp(p,g,Ve({get:V,set:fe,context:p},Me))}),Jt=yr({equals:Oe.structural}),Mr=function(g,S,C){if(typeof S=="string"||g!==null&&typeof g=="object"&&arguments.length===1)return yr.apply(null,arguments);var F=typeof S=="object"?S:{};return F.get=g,F.set=typeof S=="function"?S:F.set,F.name=F.name||g.name||"",new On(F)};Mr.struct=Jt;var et;(function(p){p[p.NOT_TRACKING=-1]="NOT_TRACKING",p[p.UP_TO_DATE=0]="UP_TO_DATE",p[p.POSSIBLY_STALE=1]="POSSIBLY_STALE",p[p.STALE=2]="STALE"})(et||(et={}));var Pt;(function(p){p[p.NONE=0]="NONE",p[p.LOG=1]="LOG",p[p.BREAK=2]="BREAK"})(Pt||(Pt={}));var ir=function(){function p(g){this.cause=g}return p}();function Ie(p){return p instanceof ir}function We(p){switch(p.dependenciesState){case et.UP_TO_DATE:return!1;case et.NOT_TRACKING:case et.STALE:return!0;case et.POSSIBLY_STALE:{for(var g=je(!0),S=re(),C=p.observing,F=C.length,V=0;V<F;V++){var fe=C[V];if(En(fe)){if($e.disableErrorBoundaries)fe.get();else try{fe.get()}catch{return Te(S),Ye(g),!0}if(p.dependenciesState===et.STALE)return Te(S),Ye(g),!0}}return yt(p),Te(S),Ye(g),!1}}}function at(){return $e.trackingDerivation!==null}function Je(p){var g=p.observers.size>0;$e.computationDepth>0&&g&&P(!1),!$e.allowStateChanges&&(g||$e.enforceActions==="strict")&&P(!1)}function ft(p,g,S){var C=je(!0);yt(p),p.newObserving=new Array(p.observing.length+100),p.unboundDepsCount=0,p.runId=++$e.runId;var F=$e.trackingDerivation;$e.trackingDerivation=p;var V;if($e.disableErrorBoundaries===!0)V=g.call(S);else try{V=g.call(S)}catch(fe){V=new ir(fe)}return $e.trackingDerivation=F,H(p),Ye(C),V}function H(p){for(var g=p.observing,S=p.observing=p.newObserving,C=et.UP_TO_DATE,F=0,V=p.unboundDepsCount,fe=0;fe<V;fe++){var Me=S[fe];Me.diffValue===0&&(Me.diffValue=1,F!==fe&&(S[F]=Me),F++),Me.dependenciesState>C&&(C=Me.dependenciesState)}for(S.length=F,p.newObserving=null,V=g.length;V--;){var Me=g[V];Me.diffValue===0&&Xr(Me,p),Me.diffValue=0}for(;F--;){var Me=S[F];Me.diffValue===1&&(Me.diffValue=0,eu(Me,p))}C!==et.UP_TO_DATE&&(p.dependenciesState=C,p.onBecomeStale())}function J(p){var g=p.observing;p.observing=[];for(var S=g.length;S--;)Xr(g[S],p);p.dependenciesState=et.NOT_TRACKING}function te(p){var g=re();try{return p()}finally{Te(g)}}function re(){var p=$e.trackingDerivation;return $e.trackingDerivation=null,p}function Te(p){$e.trackingDerivation=p}function je(p){var g=$e.allowStateReads;return $e.allowStateReads=p,g}function Ye(p){$e.allowStateReads=p}function yt(p){if(p.dependenciesState!==et.UP_TO_DATE){p.dependenciesState=et.UP_TO_DATE;for(var g=p.observing,S=g.length;S--;)g[S].lowestObserverState=et.UP_TO_DATE}}var Qt=0,qt=1,Un=Object.getOwnPropertyDescriptor(function(){},"name");Un&&Un.configurable;function Ur(p,g,S){var C=function(){return _i(p,g,S||this,arguments)};return C.isMobxAction=!0,C}function _i(p,g,S,C){var F=Tr();try{return g.apply(S,C)}catch(V){throw F.error=V,V}finally{zi(F)}}function Tr(p,g,S){var C=Ct(),F=0,V=re();Mt();var fe=bn(!0),Me=je(!0),ke={prevDerivation:V,prevAllowStateChanges:fe,prevAllowStateReads:Me,notifySpy:C,startTime:F,actionId:qt++,parentActionId:Qt};return Qt=ke.actionId,ke}function zi(p){Qt!==p.actionId&&P("invalid action stack. did you forget to finish an action?"),Qt=p.parentActionId,p.error!==void 0&&($e.suppressReactionErrors=!0),Xn(p.prevAllowStateChanges),Ye(p.prevAllowStateReads),gr(),Te(p.prevDerivation),p.notifySpy,$e.suppressReactionErrors=!1}function fr(p,g){var S=bn(p),C;try{C=g()}finally{Xn(S)}return C}function bn(p){var g=$e.allowStateChanges;return $e.allowStateChanges=p,g}function Xn(p){$e.allowStateChanges=p}var an=function(p){Fe(g,p);function g(S,C,F,V,fe){F===void 0&&(F="ObservableValue@"+E()),V===void 0&&(V=!0),fe===void 0&&(fe=Oe.default);var Me=p.call(this,F)||this;return Me.enhancer=C,Me.name=F,Me.equals=fe,Me.hasUnreportedChange=!1,Me.value=C(S,void 0,F),V&&Ct(),Me}return g.prototype.dehanceValue=function(S){return this.dehancer!==void 0?this.dehancer(S):S},g.prototype.set=function(S){var C=this.value;if(S=this.prepareNewValue(S),S!==$e.UNCHANGED){var F=Ct();this.setNewValue(S)}},g.prototype.prepareNewValue=function(S){if(Je(this),Ar(this)){var C=Nr(this,{object:this,type:"update",newValue:S});if(!C)return $e.UNCHANGED;S=C.newValue}return S=this.enhancer(S,this.value,this.name),this.equals(this.value,S)?$e.UNCHANGED:S},g.prototype.setNewValue=function(S){var C=this.value;this.value=S,this.reportChanged(),mr(this)&&er(this,{type:"update",object:this,newValue:S,oldValue:C})},g.prototype.get=function(){return this.reportObserved(),this.dehanceValue(this.value)},g.prototype.intercept=function(S){return Vn(this,S)},g.prototype.observe=function(S,C){return C&&S({object:this,type:"update",newValue:this.value,oldValue:void 0}),Zn(this,S)},g.prototype.toJSON=function(){return this.get()},g.prototype.toString=function(){return this.name+"["+this.value+"]"},g.prototype.valueOf=function(){return L(this.get())},g.prototype[Symbol.toPrimitive]=function(){return this.valueOf()},g}(W),Yn=ee("ObservableValue",an),On=function(){function p(g){this.dependenciesState=et.NOT_TRACKING,this.observing=[],this.newObserving=null,this.isBeingObserved=!1,this.isPendingUnobservation=!1,this.observers=new Set,this.diffValue=0,this.runId=0,this.lastAccessedBy=0,this.lowestObserverState=et.UP_TO_DATE,this.unboundDepsCount=0,this.__mapid="#"+E(),this.value=new ir(null),this.isComputing=!1,this.isRunningSetter=!1,this.isTracing=Pt.NONE,T(g.get,"missing option for computed: get"),this.derivation=g.get,this.name=g.name||"ComputedValue@"+E(),g.set&&(this.setter=Ur(this.name+"-setter",g.set)),this.equals=g.equals||(g.compareStructural||g.struct?Oe.structural:Oe.default),this.scope=g.context,this.requiresReaction=!!g.requiresReaction,this.keepAlive=!!g.keepAlive}return p.prototype.onBecomeStale=function(){nu(this)},p.prototype.onBecomeObserved=function(){this.onBecomeObservedListeners&&this.onBecomeObservedListeners.forEach(function(g){return g()})},p.prototype.onBecomeUnobserved=function(){this.onBecomeUnobservedListeners&&this.onBecomeUnobservedListeners.forEach(function(g){return g()})},p.prototype.get=function(){this.isComputing&&P("Cycle detected in computation "+this.name+": "+this.derivation),$e.inBatch===0&&this.observers.size===0&&!this.keepAlive?We(this)&&(this.warnAboutUntrackedRead(),Mt(),this.value=this.computeValue(!1),gr()):($i(this),We(this)&&this.trackAndCompute()&&ru(this));var g=this.value;if(Ie(g))throw g.cause;return g},p.prototype.peek=function(){var g=this.computeValue(!1);if(Ie(g))throw g.cause;return g},p.prototype.set=function(g){if(this.setter){T(!this.isRunningSetter,"The setter of computed value '"+this.name+"' is trying to update itself. Did you intend to update an _observable_ value, instead of the computed property?"),this.isRunningSetter=!0;try{this.setter.call(this.scope,g)}finally{this.isRunningSetter=!1}}else T(!1,!1)},p.prototype.trackAndCompute=function(){var g=this.value,S=this.dependenciesState===et.NOT_TRACKING,C=this.computeValue(!0),F=S||Ie(g)||Ie(C)||!this.equals(g,C);return F&&(this.value=C),F},p.prototype.computeValue=function(g){this.isComputing=!0,$e.computationDepth++;var S;if(g)S=ft(this,this.derivation,this.scope);else if($e.disableErrorBoundaries===!0)S=this.derivation.call(this.scope);else try{S=this.derivation.call(this.scope)}catch(C){S=new ir(C)}return $e.computationDepth--,this.isComputing=!1,S},p.prototype.suspend=function(){this.keepAlive||(J(this),this.value=void 0)},p.prototype.observe=function(g,S){var C=this,F=!0,V=void 0;return Lr(function(){var fe=C.get();if(!F||S){var Me=re();g({type:"update",object:C,newValue:fe,oldValue:V}),Te(Me)}F=!1,V=fe})},p.prototype.warnAboutUntrackedRead=function(){},p.prototype.toJSON=function(){return this.get()},p.prototype.toString=function(){return this.name+"["+this.derivation.toString()+"]"},p.prototype.valueOf=function(){return L(this.get())},p.prototype[Symbol.toPrimitive]=function(){return this.valueOf()},p}(),En=ee("ComputedValue",On),lo=function(){function p(){this.version=5,this.UNCHANGED={},this.trackingDerivation=null,this.computationDepth=0,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!0,this.allowStateReads=!0,this.enforceActions=!1,this.spyListeners=[],this.globalReactionErrorHandlers=[],this.computedRequiresReaction=!1,this.reactionRequiresObservable=!1,this.observableRequiresReaction=!1,this.computedConfigurable=!1,this.disableErrorBoundaries=!1,this.suppressReactionErrors=!1}return p}(),ql={};function uo(){return typeof window<"u"?window:typeof l<"u"?l:typeof self<"u"?self:ql}var fo=!0,Fi=!1,$e=function(){var p=uo();return p.__mobxInstanceCount>0&&!p.__mobxGlobals&&(fo=!1),p.__mobxGlobals&&p.__mobxGlobals.version!==new lo().version&&(fo=!1),fo?p.__mobxGlobals?(p.__mobxInstanceCount+=1,p.__mobxGlobals.UNCHANGED||(p.__mobxGlobals.UNCHANGED={}),p.__mobxGlobals):(p.__mobxInstanceCount=1,p.__mobxGlobals=new lo):(setTimeout(function(){Fi||P("There are multiple, different versions of MobX active. Make sure MobX is loaded only once or use `configure({ isolateGlobalState: true })`")},1),new lo)}();function Gi(){($e.pendingReactions.length||$e.inBatch||$e.isRunningReactions)&&P("isolateGlobalState should be called before MobX is running any reactions"),Fi=!0,fo&&(--uo().__mobxInstanceCount===0&&(uo().__mobxGlobals=void 0),$e=new lo)}function eu(p,g){p.observers.add(g),p.lowestObserverState>g.dependenciesState&&(p.lowestObserverState=g.dependenciesState)}function Xr(p,g){p.observers.delete(g),p.observers.size===0&&Hi(p)}function Hi(p){p.isPendingUnobservation===!1&&(p.isPendingUnobservation=!0,$e.pendingUnobservations.push(p))}function Mt(){$e.inBatch++}function gr(){if(--$e.inBatch===0){Ui();for(var p=$e.pendingUnobservations,g=0;g<p.length;g++){var S=p[g];S.isPendingUnobservation=!1,S.observers.size===0&&(S.isBeingObserved&&(S.isBeingObserved=!1,S.onBecomeUnobserved()),S instanceof On&&S.suspend())}$e.pendingUnobservations=[]}}function $i(p){var g=$e.trackingDerivation;return g!==null?(g.runId!==p.lastAccessedBy&&(p.lastAccessedBy=g.runId,g.newObserving[g.unboundDepsCount++]=p,p.isBeingObserved||(p.isBeingObserved=!0,p.onBecomeObserved())),!0):(p.observers.size===0&&$e.inBatch>0&&Hi(p),!1)}function tu(p){p.lowestObserverState!==et.STALE&&(p.lowestObserverState=et.STALE,p.observers.forEach(function(g){g.dependenciesState===et.UP_TO_DATE&&(g.isTracing!==Pt.NONE&&co(g,p),g.onBecomeStale()),g.dependenciesState=et.STALE}))}function ru(p){p.lowestObserverState!==et.STALE&&(p.lowestObserverState=et.STALE,p.observers.forEach(function(g){g.dependenciesState===et.POSSIBLY_STALE?g.dependenciesState=et.STALE:g.dependenciesState===et.UP_TO_DATE&&(p.lowestObserverState=et.UP_TO_DATE)}))}function nu(p){p.lowestObserverState===et.UP_TO_DATE&&(p.lowestObserverState=et.POSSIBLY_STALE,p.observers.forEach(function(g){g.dependenciesState===et.UP_TO_DATE&&(g.dependenciesState=et.POSSIBLY_STALE,g.isTracing!==Pt.NONE&&co(g,p),g.onBecomeStale())}))}function co(p,g){if(console.log("[mobx.trace] '"+p.name+"' is invalidated due to a change in: '"+g.name+"'"),p.isTracing===Pt.BREAK){var S=[];ki(Zi(p),S,1),new Function(`debugger;
/*
Tracing '`+p.name+`'

You are entering this break point because derivation '`+p.name+"' is being traced and '"+g.name+`' is now forcing it to update.
Just follow the stacktrace you should now see in the devtools to see precisely what piece of your code is causing this update
The stackframe you are looking for is at least ~6-8 stack-frames up.

`+(p instanceof On?p.derivation.toString().replace(/[*]\//g,"/"):"")+`

The dependencies for this derivation are:

`+S.join(`
`)+`
*/
    `)()}}function ki(p,g,S){if(g.length>=1e3){g.push("(and many more)");return}g.push(""+new Array(S).join("	")+p.name),p.dependencies&&p.dependencies.forEach(function(C){return ki(C,g,S+1)})}var sn=function(){function p(g,S,C,F){g===void 0&&(g="Reaction@"+E()),F===void 0&&(F=!1),this.name=g,this.onInvalidate=S,this.errorHandler=C,this.requiresObservable=F,this.observing=[],this.newObserving=[],this.dependenciesState=et.NOT_TRACKING,this.diffValue=0,this.runId=0,this.unboundDepsCount=0,this.__mapid="#"+E(),this.isDisposed=!1,this._isScheduled=!1,this._isTrackPending=!1,this._isRunning=!1,this.isTracing=Pt.NONE}return p.prototype.onBecomeStale=function(){this.schedule()},p.prototype.schedule=function(){this._isScheduled||(this._isScheduled=!0,$e.pendingReactions.push(this),Ui())},p.prototype.isScheduled=function(){return this._isScheduled},p.prototype.runReaction=function(){if(!this.isDisposed){if(Mt(),this._isScheduled=!1,We(this)){this._isTrackPending=!0;try{this.onInvalidate(),this._isTrackPending&&Ct()}catch(g){this.reportExceptionInDerivation(g)}}gr()}},p.prototype.track=function(g){if(!this.isDisposed){Mt(),this._isRunning=!0;var S=ft(this,g,void 0);this._isRunning=!1,this._isTrackPending=!1,this.isDisposed&&J(this),Ie(S)&&this.reportExceptionInDerivation(S.cause),gr()}},p.prototype.reportExceptionInDerivation=function(g){var S=this;if(this.errorHandler){this.errorHandler(g,this);return}if($e.disableErrorBoundaries)throw g;var C="[mobx] Encountered an uncaught exception that was thrown by a reaction or observer component, in: '"+this+"'";$e.suppressReactionErrors?console.warn("[mobx] (error in reaction '"+this.name+"' suppressed, fix error of causing action below)"):console.error(C,g),$e.globalReactionErrorHandlers.forEach(function(F){return F(g,S)})},p.prototype.dispose=function(){this.isDisposed||(this.isDisposed=!0,this._isRunning||(Mt(),J(this),gr()))},p.prototype.getDisposer=function(){var g=this.dispose.bind(this);return g[R]=this,g},p.prototype.toString=function(){return"Reaction["+this.name+"]"},p.prototype.trace=function(g){g===void 0&&(g=!1),Mu(this,g)},p}(),Ko=100,Vo=function(p){return p()};function Ui(){$e.inBatch>0||$e.isRunningReactions||Vo(ou)}function ou(){$e.isRunningReactions=!0;for(var p=$e.pendingReactions,g=0;p.length>0;){++g===Ko&&(console.error("Reaction doesn't converge to a stable state after "+Ko+" iterations."+(" Probably there is a cycle in the reactive function: "+p[0])),p.splice(0));for(var S=p.splice(0),C=0,F=S.length;C<F;C++)S[C].runReaction()}$e.isRunningReactions=!1}var po=ee("Reaction",sn);function iu(p){var g=Vo;Vo=function(S){return p(function(){return g(S)})}}function Ct(){return!1}function vd(p){}function yd(p){}function gd(p){}function Xi(p){return console.warn("[mobx.spy] Is a no-op in production builds"),function(){}}function au(){P(!1)}function Yi(p){return function(g,S,C){if(C){if(C.value)return{value:Ur(p,C.value),enumerable:!1,configurable:!0,writable:!0};var F=C.initializer;return{enumerable:!1,configurable:!0,writable:!0,initializer:function(){return Ur(p,F.call(this))}}}return su(p).apply(this,arguments)}}function su(p){return function(g,S,C){Object.defineProperty(g,S,{configurable:!0,enumerable:!1,get:function(){},set:function(F){X(this,S,Yr(p,F))}})}}function lu(p,g,S,C){return C===!0?(Zo(p,g,S.value),null):S?{configurable:!0,enumerable:!1,get:function(){return Zo(this,g,S.value||S.initializer.call(this)),this[g]},set:au}:{enumerable:!1,configurable:!0,set:function(F){Zo(this,g,F)},get:function(){}}}var Yr=function(g,S,C,F){if(arguments.length===1&&typeof g=="function")return Ur(g.name||"<unnamed action>",g);if(arguments.length===2&&typeof S=="function")return Ur(g,S);if(arguments.length===1&&typeof g=="string")return Yi(g);if(F===!0)X(g,S,Ur(g.name||S,C.value,this));else return Yi(S).apply(null,arguments)};Yr.bound=lu;function uu(p,g){var S=typeof p=="string"?p:p.name||"<unnamed action>",C=typeof p=="function"?p:g;return _i(S,C,this,void 0)}function fu(p){return typeof p=="function"&&p.isMobxAction===!0}function Zo(p,g,S){X(p,g,Ur(g,S.bind(p)))}function Lr(p,g){g===void 0&&(g=O);var S=g&&g.name||p.name||"Autorun@"+E(),C=!g.scheduler&&!g.delay,F;if(C)F=new sn(S,function(){this.track(Me)},g.onError,g.requiresObservable);else{var V=xn(g),fe=!1;F=new sn(S,function(){fe||(fe=!0,V(function(){fe=!1,F.isDisposed||F.track(Me)}))},g.onError,g.requiresObservable)}function Me(){p(F)}return F.schedule(),F.getDisposer()}var cu=function(p){return p()};function xn(p){return p.scheduler?p.scheduler:p.delay?function(g){return setTimeout(g,p.delay)}:cu}function du(p,g,S){S===void 0&&(S=O);var C=S.name||"Reaction@"+E(),F=Yr(C,S.onError?Wn(S.onError,g):g),V=!S.scheduler&&!S.delay,fe=xn(S),Me=!0,ke=!1,ct,dt=S.compareStructural?Oe.structural:S.equals||Oe.default,Et=new sn(C,function(){Me||V?xt():ke||(ke=!0,fe(xt))},S.onError,S.requiresObservable);function xt(){if(ke=!1,!Et.isDisposed){var Lt=!1;Et.track(function(){var Xt=p(Et);Lt=Me||!dt(ct,Xt),ct=Xt}),Me&&S.fireImmediately&&F(ct,Et),!Me&&Lt===!0&&F(ct,Et),Me&&(Me=!1)}}return Et.schedule(),Et.getDisposer()}function Wn(p,g){return function(){try{return g.apply(this,arguments)}catch(S){p.call(this,S)}}}function pu(p,g,S){return Wi("onBecomeObserved",p,g,S)}function Jo(p,g,S){return Wi("onBecomeUnobserved",p,g,S)}function Wi(p,g,S,C){var F=typeof C=="function"?Dr(g,S):Dr(g),V=typeof C=="function"?C:S,fe=p+"Listeners";F[fe]?F[fe].add(V):F[fe]=new Set([V]);var Me=F[p];return typeof Me!="function"?P(!1):function(){var ke=F[fe];ke&&(ke.delete(V),ke.size===0&&delete F[fe])}}function hu(p){var g=p.enforceActions,S=p.computedRequiresReaction,C=p.computedConfigurable,F=p.disableErrorBoundaries,V=p.reactionScheduler,fe=p.reactionRequiresObservable,Me=p.observableRequiresReaction;if(p.isolateGlobalState===!0&&Gi(),g!==void 0){var ke=void 0;switch(g){case!0:case"observed":ke=!0;break;case!1:case"never":ke=!1;break;case"strict":case"always":ke="strict";break;default:P("Invalid value for 'enforceActions': '"+g+"', expected 'never', 'always' or 'observed'")}$e.enforceActions=ke,$e.allowStateChanges=!(ke===!0||ke==="strict")}S!==void 0&&($e.computedRequiresReaction=!!S),fe!==void 0&&($e.reactionRequiresObservable=!!fe),Me!==void 0&&($e.observableRequiresReaction=!!Me,$e.allowStateReads=!$e.observableRequiresReaction),C!==void 0&&($e.computedConfigurable=!!C),F!==void 0&&(F===!0&&console.warn("WARNING: Debug feature only. MobX will NOT recover from errors when `disableErrorBoundaries` is enabled."),$e.disableErrorBoundaries=!!F),V&&iu(V)}function Qo(p,g,S,C){C=ze(C);var F=Ki(C);return Se(p),ei(p,C.name,F.enhancer),g&&Vi(p,g,S,F),p}function Ki(p){return p.defaultDecorator||(p.deep===!1?vt:qe)}function Vi(p,g,S,C){var F,V,fe,Me;Mt();try{var Me=A(g);try{for(var ke=Be(Me),ct=ke.next();!ct.done;ct=ke.next()){var fe=ct.value,dt=Object.getOwnPropertyDescriptor(g,fe),Et=S&&fe in S?S[fe]:dt.get?yr:C,xt=Et(p,fe,dt,!0);xt&&Object.defineProperty(p,fe,xt)}}catch(Xt){F={error:Xt}}finally{try{ct&&!ct.done&&(V=ke.return)&&V.call(ke)}finally{if(F)throw F.error}}}finally{gr()}}function Zi(p,g){return Ji(Dr(p,g))}function Ji(p){var g={name:p.name};return p.observing&&p.observing.length>0&&(g.dependencies=D(p.observing).map(Ji)),g}var vu=0;function Qi(){this.message="FLOW_CANCELLED"}Qi.prototype=Object.create(Error.prototype);function yu(p){arguments.length!==1&&P("Flow expects 1 argument and cannot be used as decorator");var g=p.name||"<unnamed flow>";return function(){var S=this,C=arguments,F=++vu,V=Yr(g+" - runid: "+F+" - init",p).apply(S,C),fe,Me=void 0,ke=new Promise(function(ct,dt){var Et=0;fe=dt;function xt(Tt){Me=void 0;var Or;try{Or=Yr(g+" - runid: "+F+" - yield "+Et++,V.next).call(V,Tt)}catch(Dn){return dt(Dn)}Xt(Or)}function Lt(Tt){Me=void 0;var Or;try{Or=Yr(g+" - runid: "+F+" - yield "+Et++,V.throw).call(V,Tt)}catch(Dn){return dt(Dn)}Xt(Or)}function Xt(Tt){if(Tt&&typeof Tt.then=="function"){Tt.then(Xt,dt);return}return Tt.done?ct(Tt.value):(Me=Promise.resolve(Tt.value),Me.then(xt,Lt))}xt(void 0)});return ke.cancel=Yr(g+" - runid: "+F+" - cancel",function(){try{Me&&qi(Me);var ct=V.return(void 0),dt=Promise.resolve(ct.value);dt.then(N,N),qi(dt),fe(new Qi)}catch(Et){fe(Et)}}),ke}}function qi(p){typeof p.cancel=="function"&&p.cancel()}function ea(p,g){if(p==null)return!1;if(g!==void 0){if(br(p)===!1||!p[R].values.has(g))return!1;var S=Dr(p,g);return En(S)}return En(p)}function gu(p){return arguments.length>1?P(!1):ea(p)}function mu(p,g){return typeof g!="string"?P(!1):ea(p,g)}function Sn(p,g){return p==null?!1:g!==void 0?br(p)?p[R].values.has(g):!1:br(p)||!!p[R]||Z(p)||po(p)||En(p)}function Pn(p){return arguments.length!==1&&P(!1),Sn(p)}function Mn(p){return br(p)?p[R].getKeys():Ut(p)||cr(p)?Array.from(p.keys()):_r(p)?p.map(function(g,S){return S}):P(!1)}function bu(p){return br(p)?Mn(p).map(function(g){return p[g]}):Ut(p)?Mn(p).map(function(g){return p.get(g)}):cr(p)?Array.from(p.values()):_r(p)?p.slice():P(!1)}function Ou(p){return br(p)?Mn(p).map(function(g){return[g,p[g]]}):Ut(p)?Mn(p).map(function(g){return[g,p.get(g)]}):cr(p)?Array.from(p.entries()):_r(p)?p.map(function(g,S){return[S,g]}):P(!1)}function ta(p,g,S){if(arguments.length===2&&!cr(p)){Mt();var C=g;try{for(var F in C)ta(p,F,C[F])}finally{gr()}return}if(br(p)){var V=p[R],fe=V.values.get(g);fe?V.write(g,S):V.addObservableProp(g,S,V.defaultEnhancer)}else if(Ut(p))p.set(g,S);else if(cr(p))p.add(g);else if(_r(p))typeof g!="number"&&(g=parseInt(g,10)),T(g>=0,"Not a valid index: '"+g+"'"),Mt(),g>=p.length&&(p.length=g+1),p[g]=S,gr();else return P(!1)}function Eu(p,g,S,C){return typeof S=="function"?xu(p,g,S,C):ho(p,g,S)}function ho(p,g,S){return Jn(p).observe(g,S)}function xu(p,g,S,C){return Jn(p,g).observe(S,C)}var Su={detectCycles:!0,exportMapsAsObjects:!0,recurseEverything:!1};function Tn(p,g,S,C){return C.detectCycles&&p.set(g,S),S}function Wr(p,g,S){if(!g.recurseEverything&&!Pn(p)||typeof p!="object")return p;if(p===null)return null;if(p instanceof Date)return p;if(Yn(p))return Wr(p.get(),g,S);Pn(p)&&Mn(p);var C=g.detectCycles===!0;if(C&&p!==null&&S.has(p))return S.get(p);if(_r(p)||Array.isArray(p)){var F=Tn(S,p,[],g),V=p.map(function(Lt){return Wr(Lt,g,S)});F.length=V.length;for(var fe=0,Me=V.length;fe<Me;fe++)F[fe]=V[fe];return F}if(cr(p)||Object.getPrototypeOf(p)===Set.prototype)if(g.exportMapsAsObjects===!1){var ke=Tn(S,p,new Set,g);return p.forEach(function(Lt){ke.add(Wr(Lt,g,S))}),ke}else{var ct=Tn(S,p,[],g);return p.forEach(function(Lt){ct.push(Wr(Lt,g,S))}),ct}if(Ut(p)||Object.getPrototypeOf(p)===Map.prototype)if(g.exportMapsAsObjects===!1){var dt=Tn(S,p,new Map,g);return p.forEach(function(Lt,Xt){dt.set(Xt,Wr(Lt,g,S))}),dt}else{var Et=Tn(S,p,{},g);return p.forEach(function(Lt,Xt){Et[Xt]=Wr(Lt,g,S)}),Et}var xt=Tn(S,p,{},g);return z(p).forEach(function(Lt){xt[Lt]=Wr(p[Lt],g,S)}),xt}function Pu(p,g){typeof g=="boolean"&&(g={detectCycles:g}),g||(g=Su),g.detectCycles=g.detectCycles===void 0?g.recurseEverything===!0:g.detectCycles===!0;var S;return g.detectCycles&&(S=new Map),Wr(p,g,S)}function Mu(){for(var p=[],g=0;g<arguments.length;g++)p[g]=arguments[g];var S=!1;typeof p[p.length-1]=="boolean"&&(S=p.pop());var C=Tu(p);if(!C)return P(!1);C.isTracing===Pt.NONE&&console.log("[mobx.trace] '"+C.name+"' tracing enabled"),C.isTracing=S?Pt.BREAK:Pt.LOG}function Tu(p){switch(p.length){case 0:return $e.trackingDerivation;case 1:return Dr(p[0]);case 2:return Dr(p[0],p[1])}}function wr(p,g){g===void 0&&(g=void 0),Mt();try{return p.apply(g)}finally{gr()}}function wn(p,g,S){return arguments.length===1||g&&typeof g=="object"?wu(p,g):Kn(p,g,S||{})}function Kn(p,g,S){var C;typeof S.timeout=="number"&&(C=setTimeout(function(){if(!V[R].isDisposed){V();var fe=new Error("WHEN_TIMEOUT");if(S.onError)S.onError(fe);else throw fe}},S.timeout)),S.name=S.name||"When@"+E();var F=Ur(S.name+"-effect",g),V=Lr(function(fe){p()&&(fe.dispose(),C&&clearTimeout(C),F())},S);return V}function wu(p,g){var S,C=new Promise(function(F,V){var fe=Kn(p,F,Ve(Ve({},g),{onError:V}));S=function(){fe(),V("WHEN_CANCELLED")}});return C.cancel=S,C}function vo(p){return p[R]}function yo(p){return typeof p=="string"||typeof p=="number"||typeof p=="symbol"}var An={has:function(p,g){if(g===R||g==="constructor"||g===Xe)return!0;var S=vo(p);return yo(g)?S.has(g):g in p},get:function(p,g){if(g===R||g==="constructor"||g===Xe)return p[g];var S=vo(p),C=S.values.get(g);if(C instanceof W){var F=C.get();return F===void 0&&S.has(g),F}return yo(g)&&S.has(g),p[g]},set:function(p,g,S){return yo(g)?(ta(p,g,S),!0):!1},deleteProperty:function(p,g){if(!yo(g))return!1;var S=vo(p);return S.remove(g),!0},ownKeys:function(p){var g=vo(p);return g.keysAtom.reportObserved(),Reflect.ownKeys(p)},preventExtensions:function(p){return P("Dynamic observable objects cannot be frozen"),!1}};function Nn(p){var g=new Proxy(p,An);return p[R].proxy=g,g}function Ar(p){return p.interceptors!==void 0&&p.interceptors.length>0}function Vn(p,g){var S=p.interceptors||(p.interceptors=[]);return S.push(g),M(function(){var C=S.indexOf(g);C!==-1&&S.splice(C,1)})}function Nr(p,g){var S=re();try{for(var C=_e(p.interceptors||[]),F=0,V=C.length;F<V&&(g=C[F](g),T(!g||g.type,"Intercept handlers should return nothing or a change object"),!!g);F++);return g}finally{Te(S)}}function mr(p){return p.changeListeners!==void 0&&p.changeListeners.length>0}function Zn(p,g){var S=p.changeListeners||(p.changeListeners=[]);return S.push(g),M(function(){var C=S.indexOf(g);C!==-1&&S.splice(C,1)})}function er(p,g){var S=re(),C=p.changeListeners;if(C){C=C.slice();for(var F=0,V=C.length;F<V;F++)C[F](g);Te(S)}}var Au=1e4,Nu={get:function(p,g){return g===R?p[R]:g==="length"?p[R].getArrayLength():typeof g=="number"?Br.get.call(p,g):typeof g=="string"&&!isNaN(g)?Br.get.call(p,parseInt(g)):Br.hasOwnProperty(g)?Br[g]:p[g]},set:function(p,g,S){return g==="length"&&p[R].setArrayLength(S),typeof g=="number"&&Br.set.call(p,g,S),typeof g=="symbol"||isNaN(g)?p[g]=S:Br.set.call(p,parseInt(g),S),!0},preventExtensions:function(p){return P("Observable arrays cannot be frozen"),!1}};function Du(p,g,S,C){S===void 0&&(S="ObservableArray@"+E()),C===void 0&&(C=!1);var F=new ra(S,g,C);ue(F.values,R,F);var V=new Proxy(F.values,Nu);if(F.proxy=V,p&&p.length){var fe=bn(!0);F.spliceWithArray(0,0,p),Xn(fe)}return V}var ra=function(){function p(g,S,C){this.owned=C,this.values=[],this.proxy=void 0,this.lastKnownLength=0,this.atom=new W(g||"ObservableArray@"+E()),this.enhancer=function(F,V){return S(F,V,g+"[..]")}}return p.prototype.dehanceValue=function(g){return this.dehancer!==void 0?this.dehancer(g):g},p.prototype.dehanceValues=function(g){return this.dehancer!==void 0&&g.length>0?g.map(this.dehancer):g},p.prototype.intercept=function(g){return Vn(this,g)},p.prototype.observe=function(g,S){return S===void 0&&(S=!1),S&&g({object:this.proxy,type:"splice",index:0,added:this.values.slice(),addedCount:this.values.length,removed:[],removedCount:0}),Zn(this,g)},p.prototype.getArrayLength=function(){return this.atom.reportObserved(),this.values.length},p.prototype.setArrayLength=function(g){if(typeof g!="number"||g<0)throw new Error("[mobx.array] Out of range: "+g);var S=this.values.length;if(g!==S)if(g>S){for(var C=new Array(g-S),F=0;F<g-S;F++)C[F]=void 0;this.spliceWithArray(S,0,C)}else this.spliceWithArray(g,S-g)},p.prototype.updateArrayLength=function(g,S){if(g!==this.lastKnownLength)throw new Error("[mobx] Modification exception: the internal structure of an observable array was changed.");this.lastKnownLength+=S},p.prototype.spliceWithArray=function(g,S,C){var F=this;Je(this.atom);var V=this.values.length;if(g===void 0?g=0:g>V?g=V:g<0&&(g=Math.max(0,V+g)),arguments.length===1?S=V-g:S==null?S=0:S=Math.max(0,Math.min(S,V-g)),C===void 0&&(C=b),Ar(this)){var fe=Nr(this,{object:this.proxy,type:"splice",index:g,removedCount:S,added:C});if(!fe)return b;S=fe.removedCount,C=fe.added}C=C.length===0?C:C.map(function(ke){return F.enhancer(ke,void 0)});var Me=this.spliceItemsIntoValues(g,S,C);return(S!==0||C.length!==0)&&this.notifyArraySplice(g,C,Me),this.dehanceValues(Me)},p.prototype.spliceItemsIntoValues=function(g,S,C){var F;if(C.length<Au)return(F=this.values).splice.apply(F,_e([g,S],C));var V=this.values.slice(g,g+S);return this.values=this.values.slice(0,g).concat(C,this.values.slice(g+S)),V},p.prototype.notifyArrayChildUpdate=function(g,S,C){var F=!this.owned&&Ct(),V=mr(this),fe=V||F?{object:this.proxy,type:"update",index:g,newValue:S,oldValue:C}:null;this.atom.reportChanged(),V&&er(this,fe)},p.prototype.notifyArraySplice=function(g,S,C){var F=!this.owned&&Ct(),V=mr(this),fe=V||F?{object:this.proxy,type:"splice",index:g,removed:C,added:S,removedCount:C.length,addedCount:S.length}:null;this.atom.reportChanged(),V&&er(this,fe)},p}(),Br={intercept:function(p){return this[R].intercept(p)},observe:function(p,g){g===void 0&&(g=!1);var S=this[R];return S.observe(p,g)},clear:function(){return this.splice(0)},replace:function(p){var g=this[R];return g.spliceWithArray(0,g.values.length,p)},toJS:function(){return this.slice()},toJSON:function(){return this.toJS()},splice:function(p,g){for(var S=[],C=2;C<arguments.length;C++)S[C-2]=arguments[C];var F=this[R];switch(arguments.length){case 0:return[];case 1:return F.spliceWithArray(p);case 2:return F.spliceWithArray(p,g)}return F.spliceWithArray(p,g,S)},spliceWithArray:function(p,g,S){var C=this[R];return C.spliceWithArray(p,g,S)},push:function(){for(var p=[],g=0;g<arguments.length;g++)p[g]=arguments[g];var S=this[R];return S.spliceWithArray(S.values.length,0,p),S.values.length},pop:function(){return this.splice(Math.max(this[R].values.length-1,0),1)[0]},shift:function(){return this.splice(0,1)[0]},unshift:function(){for(var p=[],g=0;g<arguments.length;g++)p[g]=arguments[g];var S=this[R];return S.spliceWithArray(0,0,p),S.values.length},reverse:function(){var p=this.slice();return p.reverse.apply(p,arguments)},sort:function(p){var g=this.slice();return g.sort.apply(g,arguments)},remove:function(p){var g=this[R],S=g.dehanceValues(g.values).indexOf(p);return S>-1?(this.splice(S,1),!0):!1},get:function(p){var g=this[R];if(g){if(p<g.values.length)return g.atom.reportObserved(),g.dehanceValue(g.values[p]);console.warn("[mobx.array] Attempt to read an array index ("+p+") that is out of bounds ("+g.values.length+"). Please check length first. Out of bound indices will not be tracked by MobX")}},set:function(p,g){var S=this[R],C=S.values;if(p<C.length){Je(S.atom);var F=C[p];if(Ar(S)){var V=Nr(S,{type:"update",object:S.proxy,index:p,newValue:g});if(!V)return;g=V.newValue}g=S.enhancer(g,F);var fe=g!==F;fe&&(C[p]=g,S.notifyArrayChildUpdate(p,g,F))}else if(p===C.length)S.spliceWithArray(p,0,[g]);else throw new Error("[mobx.array] Index out of bounds, "+p+" is larger than "+C.length)}};["concat","flat","includes","indexOf","join","lastIndexOf","slice","toString","toLocaleString"].forEach(function(p){typeof Array.prototype[p]=="function"&&(Br[p]=function(){var g=this[R];g.atom.reportObserved();var S=g.dehanceValues(g.values);return S[p].apply(S,arguments)})}),["every","filter","find","findIndex","flatMap","forEach","map","some"].forEach(function(p){typeof Array.prototype[p]=="function"&&(Br[p]=function(g,S){var C=this,F=this[R];F.atom.reportObserved();var V=F.dehanceValues(F.values);return V[p](function(fe,Me){return g.call(S,fe,Me,C)},S)})}),["reduce","reduceRight"].forEach(function(p){Br[p]=function(){var g=this,S=this[R];S.atom.reportObserved();var C=arguments[0];return arguments[0]=function(F,V,fe){return V=S.dehanceValue(V),C(F,V,fe,g)},S.values[p].apply(S.values,arguments)}});var ju=ee("ObservableArrayAdministration",ra);function _r(p){return I(p)&&ju(p[R])}var na,oa={},qo=function(){function p(g,S,C){if(S===void 0&&(S=tt),C===void 0&&(C="ObservableMap@"+E()),this.enhancer=S,this.name=C,this[na]=oa,this._keysAtom=ce(this.name+".keys()"),this[Symbol.toStringTag]="Map",typeof Map!="function")throw new Error("mobx.map requires Map polyfill for the current browser. Check babel-polyfill or core-js/es6/map.js");this._data=new Map,this._hasMap=new Map,this.merge(g)}return p.prototype._has=function(g){return this._data.has(g)},p.prototype.has=function(g){var S=this;if(!$e.trackingDerivation)return this._has(g);var C=this._hasMap.get(g);if(!C){var F=C=new an(this._has(g),it,this.name+"."+U(g)+"?",!1);this._hasMap.set(g,F),Jo(F,function(){return S._hasMap.delete(g)})}return C.get()},p.prototype.set=function(g,S){var C=this._has(g);if(Ar(this)){var F=Nr(this,{type:C?"update":"add",object:this,newValue:S,name:g});if(!F)return this;S=F.newValue}return C?this._updateValue(g,S):this._addValue(g,S),this},p.prototype.delete=function(g){var S=this;if(Je(this._keysAtom),Ar(this)){var C=Nr(this,{type:"delete",object:this,name:g});if(!C)return!1}if(this._has(g)){var F=Ct(),V=mr(this),C=V||F?{type:"delete",object:this,oldValue:this._data.get(g).value,name:g}:null;return wr(function(){S._keysAtom.reportChanged(),S._updateHasMapEntry(g,!1);var Me=S._data.get(g);Me.setNewValue(void 0),S._data.delete(g)}),V&&er(this,C),!0}return!1},p.prototype._updateHasMapEntry=function(g,S){var C=this._hasMap.get(g);C&&C.setNewValue(S)},p.prototype._updateValue=function(g,S){var C=this._data.get(g);if(S=C.prepareNewValue(S),S!==$e.UNCHANGED){var F=Ct(),V=mr(this),fe=V||F?{type:"update",object:this,oldValue:C.value,name:g,newValue:S}:null;C.setNewValue(S),V&&er(this,fe)}},p.prototype._addValue=function(g,S){var C=this;Je(this._keysAtom),wr(function(){var Me=new an(S,C.enhancer,C.name+"."+U(g),!1);C._data.set(g,Me),S=Me.value,C._updateHasMapEntry(g,!0),C._keysAtom.reportChanged()});var F=Ct(),V=mr(this),fe=V||F?{type:"add",object:this,name:g,newValue:S}:null;V&&er(this,fe)},p.prototype.get=function(g){return this.has(g)?this.dehanceValue(this._data.get(g).get()):this.dehanceValue(void 0)},p.prototype.dehanceValue=function(g){return this.dehancer!==void 0?this.dehancer(g):g},p.prototype.keys=function(){return this._keysAtom.reportObserved(),this._data.keys()},p.prototype.values=function(){var g=this,S=this.keys();return mo({next:function(){var C=S.next(),F=C.done,V=C.value;return{done:F,value:F?void 0:g.get(V)}}})},p.prototype.entries=function(){var g=this,S=this.keys();return mo({next:function(){var C=S.next(),F=C.done,V=C.value;return{done:F,value:F?void 0:[V,g.get(V)]}}})},p.prototype[na=R,Symbol.iterator]=function(){return this.entries()},p.prototype.forEach=function(g,S){var C,F;try{for(var V=Be(this),fe=V.next();!fe.done;fe=V.next()){var Me=Ee(fe.value,2),ke=Me[0],ct=Me[1];g.call(S,ct,ke,this)}}catch(dt){C={error:dt}}finally{try{fe&&!fe.done&&(F=V.return)&&F.call(V)}finally{if(C)throw C.error}}},p.prototype.merge=function(g){var S=this;return Ut(g)&&(g=g.toJS()),wr(function(){var C=bn(!0);try{_(g)?z(g).forEach(function(F){return S.set(F,g[F])}):Array.isArray(g)?g.forEach(function(F){var V=Ee(F,2),fe=V[0],Me=V[1];return S.set(fe,Me)}):Q(g)?(g.constructor!==Map&&P("Cannot initialize from classes that inherit from Map: "+g.constructor.name),g.forEach(function(F,V){return S.set(V,F)})):g!=null&&P("Cannot initialize map from "+g)}finally{Xn(C)}}),this},p.prototype.clear=function(){var g=this;wr(function(){te(function(){var S,C;try{for(var F=Be(g.keys()),V=F.next();!V.done;V=F.next()){var fe=V.value;g.delete(fe)}}catch(Me){S={error:Me}}finally{try{V&&!V.done&&(C=F.return)&&C.call(F)}finally{if(S)throw S.error}}})})},p.prototype.replace=function(g){var S=this;return wr(function(){var C,F,V,fe,Me=$(g),ke=new Map,ct=!1;try{for(var dt=Be(S._data.keys()),Et=dt.next();!Et.done;Et=dt.next()){var xt=Et.value;if(!Me.has(xt)){var Lt=S.delete(xt);if(Lt)ct=!0;else{var Xt=S._data.get(xt);ke.set(xt,Xt)}}}}catch(ln){C={error:ln}}finally{try{Et&&!Et.done&&(F=dt.return)&&F.call(dt)}finally{if(C)throw C.error}}try{for(var Tt=Be(Me.entries()),Or=Tt.next();!Or.done;Or=Tt.next()){var Dn=Ee(Or.value,2),xt=Dn[0],Xt=Dn[1],ha=S._data.has(xt);if(S.set(xt,Xt),S._data.has(xt)){var va=S._data.get(xt);ke.set(xt,va),ha||(ct=!0)}}}catch(ln){V={error:ln}}finally{try{Or&&!Or.done&&(fe=Tt.return)&&fe.call(Tt)}finally{if(V)throw V.error}}if(!ct)if(S._data.size!==ke.size)S._keysAtom.reportChanged();else for(var ya=S._data.keys(),ga=ke.keys(),ri=ya.next(),jn=ga.next();!ri.done;){if(ri.value!==jn.value){S._keysAtom.reportChanged();break}ri=ya.next(),jn=ga.next()}S._data=ke}),this},Object.defineProperty(p.prototype,"size",{get:function(){return this._keysAtom.reportObserved(),this._data.size},enumerable:!0,configurable:!0}),p.prototype.toPOJO=function(){var g,S,C={};try{for(var F=Be(this),V=F.next();!V.done;V=F.next()){var fe=Ee(V.value,2),Me=fe[0],ke=fe[1];C[typeof Me=="symbol"?Me:U(Me)]=ke}}catch(ct){g={error:ct}}finally{try{V&&!V.done&&(S=F.return)&&S.call(F)}finally{if(g)throw g.error}}return C},p.prototype.toJS=function(){return new Map(this)},p.prototype.toJSON=function(){return this.toPOJO()},p.prototype.toString=function(){var g=this;return this.name+"[{ "+Array.from(this.keys()).map(function(S){return U(S)+": "+(""+g.get(S))}).join(", ")+" }]"},p.prototype.observe=function(g,S){return Zn(this,g)},p.prototype.intercept=function(g){return Vn(this,g)},p}(),Ut=ee("ObservableMap",qo),ia,Cu={},aa=function(){function p(g,S,C){if(S===void 0&&(S=tt),C===void 0&&(C="ObservableSet@"+E()),this.name=C,this[ia]=Cu,this._data=new Set,this._atom=ce(this.name),this[Symbol.toStringTag]="Set",typeof Set!="function")throw new Error("mobx.set requires Set polyfill for the current browser. Check babel-polyfill or core-js/es6/set.js");this.enhancer=function(F,V){return S(F,V,C)},g&&this.replace(g)}return p.prototype.dehanceValue=function(g){return this.dehancer!==void 0?this.dehancer(g):g},p.prototype.clear=function(){var g=this;wr(function(){te(function(){var S,C;try{for(var F=Be(g._data.values()),V=F.next();!V.done;V=F.next()){var fe=V.value;g.delete(fe)}}catch(Me){S={error:Me}}finally{try{V&&!V.done&&(C=F.return)&&C.call(F)}finally{if(S)throw S.error}}})})},p.prototype.forEach=function(g,S){var C,F;try{for(var V=Be(this),fe=V.next();!fe.done;fe=V.next()){var Me=fe.value;g.call(S,Me,Me,this)}}catch(ke){C={error:ke}}finally{try{fe&&!fe.done&&(F=V.return)&&F.call(V)}finally{if(C)throw C.error}}},Object.defineProperty(p.prototype,"size",{get:function(){return this._atom.reportObserved(),this._data.size},enumerable:!0,configurable:!0}),p.prototype.add=function(g){var S=this;if(Je(this._atom),Ar(this)){var C=Nr(this,{type:"add",object:this,newValue:g});if(!C)return this}if(!this.has(g)){wr(function(){S._data.add(S.enhancer(g,void 0)),S._atom.reportChanged()});var F=Ct(),V=mr(this),C=V||F?{type:"add",object:this,newValue:g}:null;V&&er(this,C)}return this},p.prototype.delete=function(g){var S=this;if(Ar(this)){var C=Nr(this,{type:"delete",object:this,oldValue:g});if(!C)return!1}if(this.has(g)){var F=Ct(),V=mr(this),C=V||F?{type:"delete",object:this,oldValue:g}:null;return wr(function(){S._atom.reportChanged(),S._data.delete(g)}),V&&er(this,C),!0}return!1},p.prototype.has=function(g){return this._atom.reportObserved(),this._data.has(this.dehanceValue(g))},p.prototype.entries=function(){var g=0,S=Array.from(this.keys()),C=Array.from(this.values());return mo({next:function(){var F=g;return g+=1,F<C.length?{value:[S[F],C[F]],done:!1}:{done:!0}}})},p.prototype.keys=function(){return this.values()},p.prototype.values=function(){this._atom.reportObserved();var g=this,S=0,C=Array.from(this._data.values());return mo({next:function(){return S<C.length?{value:g.dehanceValue(C[S++]),done:!1}:{done:!0}}})},p.prototype.replace=function(g){var S=this;return cr(g)&&(g=g.toJS()),wr(function(){var C=bn(!0);try{Array.isArray(g)?(S.clear(),g.forEach(function(F){return S.add(F)})):se(g)?(S.clear(),g.forEach(function(F){return S.add(F)})):g!=null&&P("Cannot initialize set from "+g)}finally{Xn(C)}}),this},p.prototype.observe=function(g,S){return Zn(this,g)},p.prototype.intercept=function(g){return Vn(this,g)},p.prototype.toJS=function(){return new Set(this)},p.prototype.toString=function(){return this.name+"[ "+Array.from(this).join(", ")+" ]"},p.prototype[ia=R,Symbol.iterator]=function(){return this.values()},p}(),cr=ee("ObservableSet",aa),sa=function(){function p(g,S,C,F){S===void 0&&(S=new Map),this.target=g,this.values=S,this.name=C,this.defaultEnhancer=F,this.keysAtom=new W(C+".keys")}return p.prototype.read=function(g){return this.values.get(g).get()},p.prototype.write=function(g,S){var C=this.target,F=this.values.get(g);if(F instanceof On){F.set(S);return}if(Ar(this)){var V=Nr(this,{type:"update",object:this.proxy||C,name:g,newValue:S});if(!V)return;S=V.newValue}if(S=F.prepareNewValue(S),S!==$e.UNCHANGED){var fe=mr(this),Me=Ct(),V=fe||Me?{type:"update",object:this.proxy||C,oldValue:F.value,name:g,newValue:S}:null;F.setNewValue(S),fe&&er(this,V)}},p.prototype.has=function(g){var S=this.pendingKeys||(this.pendingKeys=new Map),C=S.get(g);if(C)return C.get();var F=!!this.values.get(g);return C=new an(F,it,this.name+"."+U(g)+"?",!1),S.set(g,C),C.get()},p.prototype.addObservableProp=function(g,S,C){C===void 0&&(C=this.defaultEnhancer);var F=this.target;if(Ar(this)){var V=Nr(this,{object:this.proxy||F,name:g,type:"add",newValue:S});if(!V)return;S=V.newValue}var fe=new an(S,C,this.name+"."+U(g),!1);this.values.set(g,fe),S=fe.value,Object.defineProperty(F,g,Iu(g)),this.notifyPropertyAddition(g,S)},p.prototype.addComputedProp=function(g,S,C){var F=this.target;C.name=C.name||this.name+"."+U(S),this.values.set(S,new On(C)),(g===F||le(g,S))&&Object.defineProperty(g,S,Ru(S))},p.prototype.remove=function(g){if(this.values.has(g)){var S=this.target;if(Ar(this)){var C=Nr(this,{object:this.proxy||S,name:g,type:"remove"});if(!C)return}try{Mt();var F=mr(this),V=Ct(),fe=this.values.get(g),Me=fe&&fe.get();if(fe&&fe.set(void 0),this.keysAtom.reportChanged(),this.values.delete(g),this.pendingKeys){var ke=this.pendingKeys.get(g);ke&&ke.set(!1)}delete this.target[g];var C=F||V?{type:"remove",object:this.proxy||S,oldValue:Me,name:g}:null;F&&er(this,C)}finally{gr()}}},p.prototype.illegalAccess=function(g,S){console.warn("Property '"+S+"' of '"+g+"' was accessed through the prototype chain. Use 'decorate' instead to declare the prop or access it statically through it's owner")},p.prototype.observe=function(g,S){return Zn(this,g)},p.prototype.intercept=function(g){return Vn(this,g)},p.prototype.notifyPropertyAddition=function(g,S){var C=mr(this),F=Ct(),V=C||F?{type:"add",object:this.proxy||this.target,name:g,newValue:S}:null;if(C&&er(this,V),this.pendingKeys){var fe=this.pendingKeys.get(g);fe&&fe.set(!0)}this.keysAtom.reportChanged()},p.prototype.getKeys=function(){var g,S;this.keysAtom.reportObserved();var C=[];try{for(var F=Be(this.values),V=F.next();!V.done;V=F.next()){var fe=Ee(V.value,2),Me=fe[0],ke=fe[1];ke instanceof an&&C.push(Me)}}catch(ct){g={error:ct}}finally{try{V&&!V.done&&(S=F.return)&&S.call(F)}finally{if(g)throw g.error}}return C},p}();function ei(p,g,S){if(g===void 0&&(g=""),S===void 0&&(S=tt),Object.prototype.hasOwnProperty.call(p,R))return p[R];_(p)||(g=(p.constructor.name||"ObservableObject")+"@"+E()),g||(g="ObservableObject@"+E());var C=new sa(p,new Map,U(g),S);return X(p,R,C),C}var la=Object.create(null),ua=Object.create(null);function Iu(p){return la[p]||(la[p]={configurable:!0,enumerable:!0,get:function(){return this[R].read(p)},set:function(g){this[R].write(p,g)}})}function fa(p){var g=p[R];return g||(Se(p),p[R])}function Ru(p){return ua[p]||(ua[p]={configurable:$e.computedConfigurable,enumerable:!1,get:function(){return fa(this).read(p)},set:function(g){fa(this).write(p,g)}})}var Lu=ee("ObservableObjectAdministration",sa);function br(p){return I(p)?(Se(p),Lu(p[R])):!1}function Dr(p,g){if(typeof p=="object"&&p!==null){if(_r(p))return g!==void 0&&P(!1),p[R].atom;if(cr(p))return p[R];if(Ut(p)){var S=p;if(g===void 0)return S._keysAtom;var C=S._data.get(g)||S._hasMap.get(g);return C||P(!1),C}if(Se(p),g&&!p[R]&&p[g],br(p)){if(!g)return P(!1);var C=p[R].values.get(g);return C||P(!1),C}if(Z(p)||En(p)||po(p))return p}else if(typeof p=="function"&&po(p[R]))return p[R];return P(!1)}function Jn(p,g){if(p||P("Expecting some object"),g!==void 0)return Jn(Dr(p,g));if(Z(p)||En(p)||po(p)||Ut(p)||cr(p))return p;if(Se(p),p[R])return p[R];P(!1)}function Bu(p,g){var S;return g!==void 0?S=Dr(p,g):br(p)||Ut(p)||cr(p)?S=Jn(p):S=Dr(p),S.name}var ca=Object.prototype.toString;function go(p,g,S){return S===void 0&&(S=-1),Qn(p,g,S)}function Qn(p,g,S,C,F){if(p===g)return p!==0||1/p===1/g;if(p==null||g==null)return!1;if(p!==p)return g!==g;var V=typeof p;if(V!=="function"&&V!=="object"&&typeof g!="object")return!1;var fe=ca.call(p);if(fe!==ca.call(g))return!1;switch(fe){case"[object RegExp]":case"[object String]":return""+p==""+g;case"[object Number]":return+p!=+p?+g!=+g:+p==0?1/+p===1/g:+p==+g;case"[object Date]":case"[object Boolean]":return+p==+g;case"[object Symbol]":return typeof Symbol<"u"&&Symbol.valueOf.call(p)===Symbol.valueOf.call(g);case"[object Map]":case"[object Set]":S>=0&&S++;break}p=da(p),g=da(g);var Me=fe==="[object Array]";if(!Me){if(typeof p!="object"||typeof g!="object")return!1;var ke=p.constructor,ct=g.constructor;if(ke!==ct&&!(typeof ke=="function"&&ke instanceof ke&&typeof ct=="function"&&ct instanceof ct)&&"constructor"in p&&"constructor"in g)return!1}if(S===0)return!1;S<0&&(S=-1),C=C||[],F=F||[];for(var dt=C.length;dt--;)if(C[dt]===p)return F[dt]===g;if(C.push(p),F.push(g),Me){if(dt=p.length,dt!==g.length)return!1;for(;dt--;)if(!Qn(p[dt],g[dt],S-1,C,F))return!1}else{var Et=Object.keys(p),xt=void 0;if(dt=Et.length,Object.keys(g).length!==dt)return!1;for(;dt--;)if(xt=Et[dt],!(_u(g,xt)&&Qn(p[xt],g[xt],S-1,C,F)))return!1}return C.pop(),F.pop(),!0}function da(p){return _r(p)?p.slice():Q(p)||Ut(p)||se(p)||cr(p)?Array.from(p.entries()):p}function _u(p,g){return Object.prototype.hasOwnProperty.call(p,g)}function mo(p){return p[Symbol.iterator]=ti,p}function ti(){return this}if(typeof Proxy>"u"||typeof Symbol>"u")throw new Error("[mobx] MobX 5+ requires Proxy and Symbol objects. If your environment doesn't support Symbol or Proxy objects, please downgrade to MobX 4. For React Native Android, consider upgrading JSCore.");try{}catch{var pa=uo();typeof u>"u"&&(pa.process={}),pa.process.env={}}(function(){function p(){}if(p.name!=="testCodeMinification"&&!1)var g})(),typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__=="object"&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy:Xi,extras:{getDebugName:Bu},$mobx:R})}).call(this,o(155),o(82))},function(s,f,o){o.d(f,"a",function(){return le}),o.d(f,"b",function(){return ue}),o.d(f,"c",function(){return _e}),o.d(f,"d",function(){return Xe}),o.d(f,"e",function(){return _}),o.d(f,"f",function(){return X}),o.d(f,"g",function(){return _}),o.d(f,"h",function(){return Ee}),o.d(f,"i",function(){return l}),o.d(f,"j",function(){return Be}),o.d(f,"k",function(){return A});var u,l,v,b,O,E,P,T={},M=[],N=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function D(k,Y){for(var q in Y)k[q]=Y[q];return k}function I(k){var Y=k.parentNode;Y&&Y.removeChild(k)}function _(k,Y,q){var he,Se,pe,He={};for(pe in Y)pe=="key"?he=Y[pe]:pe=="ref"?Se=Y[pe]:He[pe]=Y[pe];if(arguments.length>2&&(He.children=arguments.length>3?u.call(arguments,2):q),typeof k=="function"&&k.defaultProps!=null)for(pe in k.defaultProps)He[pe]===void 0&&(He[pe]=k.defaultProps[pe]);return $(k,He,he,Se,null)}function $(k,Y,q,he,Se){var pe={type:k,props:Y,key:q,ref:he,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:Se??++v};return Se==null&&l.vnode!=null&&l.vnode(pe),pe}function X(){return{current:null}}function ue(k){return k.children}function le(k,Y){this.props=k,this.context=Y}function ee(k,Y){if(Y==null)return k.__?ee(k.__,k.__.__k.indexOf(k)+1):null;for(var q;Y<k.__k.length;Y++)if((q=k.__k[Y])!=null&&q.__e!=null)return q.__e;return typeof k.type=="function"?ee(k):null}function Q(k){var Y,q;if((k=k.__)!=null&&k.__c!=null){for(k.__e=k.__c.base=null,Y=0;Y<k.__k.length;Y++)if((q=k.__k[Y])!=null&&q.__e!=null){k.__e=k.__c.base=q.__e;break}return Q(k)}}function se(k){(!k.__d&&(k.__d=!0)&&b.push(k)&&!z.__r++||E!==l.debounceRendering)&&((E=l.debounceRendering)||O)(z)}function z(){for(var k;z.__r=b.length;)k=b.sort(function(Y,q){return Y.__v.__b-q.__v.__b}),b=[],k.some(function(Y){var q,he,Se,pe,He,tt;Y.__d&&(He=(pe=(q=Y).__v).__e,(tt=q.__P)&&(he=[],(Se=D({},pe)).__v=pe.__v+1,be(tt,pe,Se,q.__n,tt.ownerSVGElement!==void 0,pe.__h!=null?[He]:null,he,He??ee(pe),pe.__h),xe(he,pe),pe.__e!=He&&Q(pe)))})}function U(k,Y,q,he,Se,pe,He,tt,Ke,it){var ve,lt,rt,ze,qe,At,vt,Ot=he&&he.__k||M,ie=Ot.length;for(q.__k=[],ve=0;ve<Y.length;ve++)if((ze=q.__k[ve]=(ze=Y[ve])==null||typeof ze=="boolean"?null:typeof ze=="string"||typeof ze=="number"||typeof ze=="bigint"?$(null,ze,null,null,ze):Array.isArray(ze)?$(ue,{children:ze},null,null,null):ze.__b>0?$(ze.type,ze.props,ze.key,null,ze.__v):ze)!=null){if(ze.__=q,ze.__b=q.__b+1,(rt=Ot[ve])===null||rt&&ze.key==rt.key&&ze.type===rt.type)Ot[ve]=void 0;else for(lt=0;lt<ie;lt++){if((rt=Ot[lt])&&ze.key==rt.key&&ze.type===rt.type){Ot[lt]=void 0;break}rt=null}be(k,ze,rt=rt||T,Se,pe,He,tt,Ke,it),qe=ze.__e,(lt=ze.ref)&&rt.ref!=lt&&(vt||(vt=[]),rt.ref&&vt.push(rt.ref,null,ze),vt.push(lt,ze.__c||qe,ze)),qe!=null?(At==null&&(At=qe),typeof ze.type=="function"&&ze.__k===rt.__k?ze.__d=Ke=L(ze,Ke,k):Ke=R(k,ze,rt,Ot,qe,Ke),typeof q.type=="function"&&(q.__d=Ke)):Ke&&rt.__e==Ke&&Ke.parentNode!=k&&(Ke=ee(rt))}for(q.__e=At,ve=ie;ve--;)Ot[ve]!=null&&(typeof q.type=="function"&&Ot[ve].__e!=null&&Ot[ve].__e==q.__d&&(q.__d=ee(he,ve+1)),Fe(Ot[ve],Ot[ve]));if(vt)for(ve=0;ve<vt.length;ve++)Ae(vt[ve],vt[++ve],vt[++ve])}function L(k,Y,q){for(var he,Se=k.__k,pe=0;Se&&pe<Se.length;pe++)(he=Se[pe])&&(he.__=k,Y=typeof he.type=="function"?L(he,Y,q):R(q,he,he,Se,he.__e,Y));return Y}function A(k,Y){return Y=Y||[],k==null||typeof k=="boolean"||(Array.isArray(k)?k.some(function(q){A(q,Y)}):Y.push(k)),Y}function R(k,Y,q,he,Se,pe){var He,tt,Ke;if(Y.__d!==void 0)He=Y.__d,Y.__d=void 0;else if(q==null||Se!=pe||Se.parentNode==null)e:if(pe==null||pe.parentNode!==k)k.appendChild(Se),He=null;else{for(tt=pe,Ke=0;(tt=tt.nextSibling)&&Ke<he.length;Ke+=2)if(tt==Se)break e;k.insertBefore(Se,pe),He=pe}return He!==void 0?He:Se.nextSibling}function W(k,Y,q,he,Se){var pe;for(pe in q)pe==="children"||pe==="key"||pe in Y||ce(k,pe,null,q[pe],he);for(pe in Y)Se&&typeof Y[pe]!="function"||pe==="children"||pe==="key"||pe==="value"||pe==="checked"||q[pe]===Y[pe]||ce(k,pe,Y[pe],q[pe],he)}function Z(k,Y,q){Y[0]==="-"?k.setProperty(Y,q):k[Y]=q==null?"":typeof q!="number"||N.test(Y)?q:q+"px"}function ce(k,Y,q,he,Se){var pe;e:if(Y==="style")if(typeof q=="string")k.style.cssText=q;else{if(typeof he=="string"&&(k.style.cssText=he=""),he)for(Y in he)q&&Y in q||Z(k.style,Y,"");if(q)for(Y in q)he&&q[Y]===he[Y]||Z(k.style,Y,q[Y])}else if(Y[0]==="o"&&Y[1]==="n")pe=Y!==(Y=Y.replace(/Capture$/,"")),Y=Y.toLowerCase()in k?Y.toLowerCase().slice(2):Y.slice(2),k.l||(k.l={}),k.l[Y+pe]=q,q?he||k.addEventListener(Y,pe?me:Pe,pe):k.removeEventListener(Y,pe?me:Pe,pe);else if(Y!=="dangerouslySetInnerHTML"){if(Se)Y=Y.replace(/xlink[H:h]/,"h").replace(/sName$/,"s");else if(Y!=="href"&&Y!=="list"&&Y!=="form"&&Y!=="tabIndex"&&Y!=="download"&&Y in k)try{k[Y]=q??"";break e}catch{}typeof q=="function"||(q!=null&&(q!==!1||Y[0]==="a"&&Y[1]==="r")?k.setAttribute(Y,q):k.removeAttribute(Y))}}function Pe(k){this.l[k.type+!1](l.event?l.event(k):k)}function me(k){this.l[k.type+!0](l.event?l.event(k):k)}function be(k,Y,q,he,Se,pe,He,tt,Ke){var it,ve,lt,rt,ze,qe,At,vt,Ot,ie,jt,St=Y.type;if(Y.constructor!==void 0)return null;q.__h!=null&&(Ke=q.__h,tt=Y.__e=q.__e,Y.__h=null,pe=[tt]),(it=l.__b)&&it(Y);try{e:if(typeof St=="function"){if(vt=Y.props,Ot=(it=St.contextType)&&he[it.__c],ie=it?Ot?Ot.props.value:it.__:he,q.__c?At=(ve=Y.__c=q.__c).__=ve.__E:("prototype"in St&&St.prototype.render?Y.__c=ve=new St(vt,ie):(Y.__c=ve=new le(vt,ie),ve.constructor=St,ve.render=Ve),Ot&&Ot.sub(ve),ve.props=vt,ve.state||(ve.state={}),ve.context=ie,ve.__n=he,lt=ve.__d=!0,ve.__h=[]),ve.__s==null&&(ve.__s=ve.state),St.getDerivedStateFromProps!=null&&(ve.__s==ve.state&&(ve.__s=D({},ve.__s)),D(ve.__s,St.getDerivedStateFromProps(vt,ve.__s))),rt=ve.props,ze=ve.state,lt)St.getDerivedStateFromProps==null&&ve.componentWillMount!=null&&ve.componentWillMount(),ve.componentDidMount!=null&&ve.__h.push(ve.componentDidMount);else{if(St.getDerivedStateFromProps==null&&vt!==rt&&ve.componentWillReceiveProps!=null&&ve.componentWillReceiveProps(vt,ie),!ve.__e&&ve.shouldComponentUpdate!=null&&ve.shouldComponentUpdate(vt,ve.__s,ie)===!1||Y.__v===q.__v){ve.props=vt,ve.state=ve.__s,Y.__v!==q.__v&&(ve.__d=!1),ve.__v=Y,Y.__e=q.__e,Y.__k=q.__k,Y.__k.forEach(function(mt){mt&&(mt.__=Y)}),ve.__h.length&&He.push(ve);break e}ve.componentWillUpdate!=null&&ve.componentWillUpdate(vt,ve.__s,ie),ve.componentDidUpdate!=null&&ve.__h.push(function(){ve.componentDidUpdate(rt,ze,qe)})}ve.context=ie,ve.props=vt,ve.state=ve.__s,(it=l.__r)&&it(Y),ve.__d=!1,ve.__v=Y,ve.__P=k,it=ve.render(ve.props,ve.state,ve.context),ve.state=ve.__s,ve.getChildContext!=null&&(he=D(D({},he),ve.getChildContext())),lt||ve.getSnapshotBeforeUpdate==null||(qe=ve.getSnapshotBeforeUpdate(rt,ze)),jt=it!=null&&it.type===ue&&it.key==null?it.props.children:it,U(k,Array.isArray(jt)?jt:[jt],Y,q,he,Se,pe,He,tt,Ke),ve.base=Y.__e,Y.__h=null,ve.__h.length&&He.push(ve),At&&(ve.__E=ve.__=null),ve.__e=!1}else pe==null&&Y.__v===q.__v?(Y.__k=q.__k,Y.__e=q.__e):Y.__e=Oe(q.__e,Y,q,he,Se,pe,He,Ke);(it=l.diffed)&&it(Y)}catch(mt){Y.__v=null,(Ke||pe!=null)&&(Y.__e=tt,Y.__h=!!Ke,pe[pe.indexOf(tt)]=null),l.__e(mt,Y,q)}}function xe(k,Y){l.__c&&l.__c(Y,k),k.some(function(q){try{k=q.__h,q.__h=[],k.some(function(he){he.call(q)})}catch(he){l.__e(he,q.__v)}})}function Oe(k,Y,q,he,Se,pe,He,tt){var Ke,it,ve,lt=q.props,rt=Y.props,ze=Y.type,qe=0;if(ze==="svg"&&(Se=!0),pe!=null){for(;qe<pe.length;qe++)if((Ke=pe[qe])&&"setAttribute"in Ke==!!ze&&(ze?Ke.localName===ze:Ke.nodeType===3)){k=Ke,pe[qe]=null;break}}if(k==null){if(ze===null)return document.createTextNode(rt);k=Se?document.createElementNS("http://www.w3.org/2000/svg",ze):document.createElement(ze,rt.is&&rt),pe=null,tt=!1}if(ze===null)lt===rt||tt&&k.data===rt||(k.data=rt);else{if(pe=pe&&u.call(k.childNodes),it=(lt=q.props||T).dangerouslySetInnerHTML,ve=rt.dangerouslySetInnerHTML,!tt){if(pe!=null)for(lt={},qe=0;qe<k.attributes.length;qe++)lt[k.attributes[qe].name]=k.attributes[qe].value;(ve||it)&&(ve&&(it&&ve.__html==it.__html||ve.__html===k.innerHTML)||(k.innerHTML=ve&&ve.__html||""))}if(W(k,rt,lt,Se,tt),ve)Y.__k=[];else if(qe=Y.props.children,U(k,Array.isArray(qe)?qe:[qe],Y,q,he,Se&&ze!=="foreignObject",pe,He,pe?pe[0]:q.__k&&ee(q,0),tt),pe!=null)for(qe=pe.length;qe--;)pe[qe]!=null&&I(pe[qe]);tt||("value"in rt&&(qe=rt.value)!==void 0&&(qe!==lt.value||qe!==k.value||ze==="progress"&&!qe)&&ce(k,"value",qe,lt.value,!1),"checked"in rt&&(qe=rt.checked)!==void 0&&qe!==k.checked&&ce(k,"checked",qe,lt.checked,!1))}return k}function Ae(k,Y,q){try{typeof k=="function"?k(Y):k.current=Y}catch(he){l.__e(he,q)}}function Fe(k,Y,q){var he,Se;if(l.unmount&&l.unmount(k),(he=k.ref)&&(he.current&&he.current!==k.__e||Ae(he,null,Y)),(he=k.__c)!=null){if(he.componentWillUnmount)try{he.componentWillUnmount()}catch(pe){l.__e(pe,Y)}he.base=he.__P=null}if(he=k.__k)for(Se=0;Se<he.length;Se++)he[Se]&&Fe(he[Se],Y,typeof k.type!="function");q||k.__e==null||I(k.__e),k.__e=k.__d=void 0}function Ve(k,Y,q){return this.constructor(k,q)}function Be(k,Y,q){var he,Se,pe;l.__&&l.__(k,Y),Se=(he=typeof q=="function")?null:q&&q.__k||Y.__k,pe=[],be(Y,k=(!he&&q||Y).__k=_(ue,null,[k]),Se||T,T,Y.ownerSVGElement!==void 0,!he&&q?[q]:Se?null:Y.firstChild?u.call(Y.childNodes):null,pe,!he&&q?q:Se?Se.__e:Y.firstChild,he),xe(pe,k)}function Ee(k,Y){Be(k,Y,Ee)}function _e(k,Y,q){var he,Se,pe,He=D({},k.props);for(pe in Y)pe=="key"?he=Y[pe]:pe=="ref"?Se=Y[pe]:He[pe]=Y[pe];return arguments.length>2&&(He.children=arguments.length>3?u.call(arguments,2):q),$(k.type,He,he||k.key,Se||k.ref,null)}function Xe(k,Y){var q={__c:Y="__cC"+P++,__:k,Consumer:function(he,Se){return he.children(Se)},Provider:function(he){var Se,pe;return this.getChildContext||(Se=[],(pe={})[Y]=this,this.getChildContext=function(){return pe},this.shouldComponentUpdate=function(He){this.props.value!==He.value&&Se.some(se)},this.sub=function(He){Se.push(He);var tt=He.componentWillUnmount;He.componentWillUnmount=function(){Se.splice(Se.indexOf(He),1),tt&&tt.call(He)}}),he.children}};return q.Provider.__=q.Consumer.contextType=q}u=M.slice,l={__e:function(k,Y){for(var q,he,Se;Y=Y.__;)if((q=Y.__c)&&!q.__)try{if((he=q.constructor)&&he.getDerivedStateFromError!=null&&(q.setState(he.getDerivedStateFromError(k)),Se=q.__d),q.componentDidCatch!=null&&(q.componentDidCatch(k),Se=q.__d),Se)return q.__E=q}catch(pe){k=pe}throw k}},v=0,le.prototype.setState=function(k,Y){var q;q=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=D({},this.state),typeof k=="function"&&(k=k(D({},q),this.props)),k&&D(q,k),k!=null&&this.__v&&(Y&&this.__h.push(Y),se(this))},le.prototype.forceUpdate=function(k){this.__v&&(this.__e=!0,k&&this.__h.push(k),se(this))},le.prototype.render=ue,b=[],O=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,z.__r=0,P=0},function(s,f,o){var u=o(116),l=o(44),v=o(178);u||l(Object.prototype,"toString",v,{unsafe:!0})},function(s,f,o){var u=o(39),l=o(83),v=o(71),b=o(56),O=o(111),E="Array Iterator",P=b.set,T=b.getterFor(E);s.exports=O(Array,"Array",function(M,N){P(this,{type:E,target:u(M),index:0,kind:N})},function(){var M=T(this),N=M.target,D=M.kind,I=M.index++;return!N||I>=N.length?(M.target=void 0,{value:void 0,done:!0}):D=="keys"?{value:I,done:!1}:D=="values"?{value:N[I],done:!1}:{value:[I,N[I]],done:!1}},"values"),v.Arguments=v.Array,l("keys"),l("values"),l("entries")},function(s,f,o){var u=o(7),l=o(147),v=o(148),b=o(3),O=o(57),E=o(27),P=E("iterator"),T=E("toStringTag"),M=b.values,N=function(I,_){if(I){if(I[P]!==M)try{O(I,P,M)}catch{I[P]=M}if(I[T]||O(I,T,_),l[_]){for(var $ in b)if(I[$]!==b[$])try{O(I,$,b[$])}catch{I[$]=b[$]}}}};for(var D in l)N(u[D]&&u[D].prototype,D);N(v,"DOMTokenList")},function(s,f,o){var u=o(16),l=o(7),v=o(46),b=o(77),O=o(35),E=o(15),P=o(65),T=o(36),M=o(109),N=o(18),D=o(34),I=o(99),_=o(28),$=o(33),X=o(58),ue=o(88),le=o(32),ee=o(38),Q=o(39),se=o(87),z=o(40),U=o(72),L=o(54),A=o(67),R=o(73),W=o(139),Z=o(112),ce=o(51),Pe=o(37),me=o(93),be=o(101),xe=o(44),Oe=o(84),Ae=o(91),Fe=o(70),Ve=o(85),Be=o(27),Ee=o(149),_e=o(150),Xe=o(74),k=o(56),Y=o(75).forEach,q=Ae("hidden"),he="Symbol",Se="prototype",pe=Be("toPrimitive"),He=k.set,tt=k.getterFor(he),Ke=Object[Se],it=l.Symbol,ve=it&&it[Se],lt=l.TypeError,rt=l.QObject,ze=v("JSON","stringify"),qe=ce.f,At=Pe.f,vt=W.f,Ot=me.f,ie=E([].push),jt=Oe("symbols"),St=Oe("op-symbols"),mt=Oe("string-to-symbol-registry"),Kt=Oe("symbol-to-string-registry"),yr=Oe("wks"),Jt=!rt||!rt[Se]||!rt[Se].findChild,Mr=T&&N(function(){return L(At({},"a",{get:function(){return At(this,"a",{value:7}).a}})).a!=7})?function(te,re,Te){var je=qe(Ke,re);je&&delete Ke[re],At(te,re,Te),je&&te!==Ke&&At(Ke,re,je)}:At,et=function(te,re){var Te=jt[te]=L(ve);return He(Te,{type:he,tag:te,description:re}),T||(Te.description=re),Te},Pt=function(re,Te,je){re===Ke&&Pt(St,Te,je),le(re);var Ye=se(Te);return le(je),D(jt,Ye)?(je.enumerable?(D(re,q)&&re[q][Ye]&&(re[q][Ye]=!1),je=L(je,{enumerable:U(0,!1)})):(D(re,q)||At(re,q,U(1,{})),re[q][Ye]=!0),Mr(re,Ye,je)):At(re,Ye,je)},ir=function(re,Te){le(re);var je=Q(Te),Ye=A(je).concat(ft(je));return Y(Ye,function(yt){(!T||O(We,je,yt))&&Pt(re,yt,je[yt])}),re},Ie=function(re,Te){return Te===void 0?L(re):ir(L(re),Te)},We=function(re){var Te=se(re),je=O(Ot,this,Te);return this===Ke&&D(jt,Te)&&!D(St,Te)?!1:je||!D(this,Te)||!D(jt,Te)||D(this,q)&&this[q][Te]?je:!0},at=function(re,Te){var je=Q(re),Ye=se(Te);if(!(je===Ke&&D(jt,Ye)&&!D(St,Ye))){var yt=qe(je,Ye);return yt&&D(jt,Ye)&&!(D(je,q)&&je[q][Ye])&&(yt.enumerable=!0),yt}},Je=function(re){var Te=vt(Q(re)),je=[];return Y(Te,function(Ye){!D(jt,Ye)&&!D(Fe,Ye)&&ie(je,Ye)}),je},ft=function(re){var Te=re===Ke,je=vt(Te?St:Q(re)),Ye=[];return Y(je,function(yt){D(jt,yt)&&(!Te||D(Ke,yt))&&ie(Ye,jt[yt])}),Ye};if(M||(it=function(){if(X(ve,this))throw lt("Symbol is not a constructor");var re=!arguments.length||arguments[0]===void 0?void 0:z(arguments[0]),Te=Ve(re),je=function(Ye){this===Ke&&O(je,St,Ye),D(this,q)&&D(this[q],Te)&&(this[q][Te]=!1),Mr(this,Te,U(1,Ye))};return T&&Jt&&Mr(Ke,Te,{configurable:!0,set:je}),et(Te,re)},ve=it[Se],xe(ve,"toString",function(){return tt(this).tag}),xe(it,"withoutSetter",function(te){return et(Ve(te),te)}),me.f=We,Pe.f=Pt,ce.f=at,R.f=W.f=Je,Z.f=ft,Ee.f=function(te){return et(Be(te),te)},T&&(At(ve,"description",{configurable:!0,get:function(){return tt(this).description}}),P||xe(Ke,"propertyIsEnumerable",We,{unsafe:!0}))),u({global:!0,wrap:!0,forced:!M,sham:!M},{Symbol:it}),Y(A(yr),function(te){_e(te)}),u({target:he,stat:!0,forced:!M},{for:function(te){var re=z(te);if(D(mt,re))return mt[re];var Te=it(re);return mt[re]=Te,Kt[Te]=re,Te},keyFor:function(re){if(!ue(re))throw lt(re+" is not a symbol");if(D(Kt,re))return Kt[re]},useSetter:function(){Jt=!0},useSimple:function(){Jt=!1}}),u({target:"Object",stat:!0,forced:!M,sham:!T},{create:Ie,defineProperty:Pt,defineProperties:ir,getOwnPropertyDescriptor:at}),u({target:"Object",stat:!0,forced:!M},{getOwnPropertyNames:Je,getOwnPropertySymbols:ft}),u({target:"Object",stat:!0,forced:N(function(){Z.f(1)})},{getOwnPropertySymbols:function(re){return Z.f(ee(re))}}),ze){var H=!M||N(function(){var te=it();return ze([te])!="[null]"||ze({a:te})!="{}"||ze(Object(te))!="{}"});u({target:"JSON",stat:!0,forced:H},{stringify:function(re,Te,je){var Ye=be(arguments),yt=Te;if(!(!$(Te)&&re===void 0||ue(re)))return I(Te)||(Te=function(Qt,qt){if(_(yt)&&(qt=O(yt,this,Qt,qt)),!ue(qt))return qt}),Ye[1]=Te,b(ze,null,Ye)}})}if(!ve[pe]){var J=ve.valueOf;xe(ve,pe,function(te){return O(J,this)})}Xe(it,he),Fe[q]=!0},function(s,f,o){var u=o(146).charAt,l=o(40),v=o(56),b=o(111),O="String Iterator",E=v.set,P=v.getterFor(O);b(String,"String",function(T){E(this,{type:O,string:l(T),index:0})},function(){var M=P(this),N=M.string,D=M.index,I;return D>=N.length?{value:void 0,done:!0}:(I=u(N,D),M.index+=I.length,{value:I,done:!1})})},function(s,f,o){(function(u){var l=function(v){return v&&v.Math==Math&&v};s.exports=l(typeof globalThis=="object"&&globalThis)||l(typeof window=="object"&&window)||l(typeof self=="object"&&self)||l(typeof u=="object"&&u)||function(){return this}()||Function("return this")()}).call(this,o(82))},function(s,f,o){var u=o(16),l=o(36),v=o(7),b=o(15),O=o(34),E=o(28),P=o(58),T=o(40),M=o(37).f,N=o(134),D=v.Symbol,I=D&&D.prototype;if(l&&E(D)&&(!("description"in I)||D().description!==void 0)){var _={},$=function(){var U=arguments.length<1||arguments[0]===void 0?void 0:T(arguments[0]),L=P(I,this)?new D(U):U===void 0?D():D(U);return U===""&&(_[L]=!0),L};N($,D),$.prototype=I,I.constructor=$;var X=String(D("test"))=="Symbol(test)",ue=b(I.toString),le=b(I.valueOf),ee=/^Symbol\((.*)\)[^)]+$/,Q=b("".replace),se=b("".slice);M(I,"description",{configurable:!0,get:function(){var U=le(this),L=ue(U);if(O(_,U))return"";var A=X?se(L,7,-1):Q(L,ee,"$1");return A===""?void 0:A}}),u({global:!0,forced:!0},{Symbol:$})}},function(s,f,o){var u=o(150);u("iterator")},function(s,f,o){o.d(f,"a",function(){return u.a}),o.d(f,"c",function(){return u.e}),o.d(f,"h",function(){return se}),o.d(f,"i",function(){return X}),o.d(f,"j",function(){return _}),o.d(f,"b",function(){return xe}),o.d(f,"e",function(){return Ve}),o.d(f,"f",function(){return Oe}),o.d(f,"g",function(){return We});var u=o(1),l,v,b,O=0,E=[],P=u.i.__b,T=u.i.__r,M=u.i.diffed,N=u.i.__c,D=u.i.unmount;function I(H,J){u.i.__h&&u.i.__h(v,H,O||J),O=0;var te=v.__H||(v.__H={__:[],__h:[]});return H>=te.__.length&&te.__.push({}),te.__[H]}function _(H){return O=1,$(Pe,H)}function $(H,J,te){var re=I(l++,2);return re.t=H,re.__c||(re.__=[te?te(J):Pe(void 0,J),function(Te){var je=re.t(re.__[0],Te);re.__[0]!==je&&(re.__=[je,re.__[1]],re.__c.setState({}))}],re.__c=v),re.__}function X(H,J){var te=I(l++,3);!u.i.__s&&ce(te.__H,J)&&(te.__=H,te.__H=J,v.__H.__h.push(te))}function ue(H,J){var te=I(l++,4);!u.i.__s&&ce(te.__H,J)&&(te.__=H,te.__H=J,v.__h.push(te))}function le(H){return O=5,Q(function(){return{current:H}},[])}function ee(H,J,te){O=6,ue(function(){typeof H=="function"?H(J()):H&&(H.current=J())},te==null?te:te.concat(H))}function Q(H,J){var te=I(l++,7);return ce(te.__H,J)&&(te.__=H(),te.__H=J,te.__h=H),te.__}function se(H,J){return O=8,Q(function(){return H},J)}function z(H){var J=v.context[H.__c],te=I(l++,9);return te.c=H,J?(te.__==null&&(te.__=!0,J.sub(v)),J.props.value):H.__}function U(H,J){u.i.useDebugValue&&u.i.useDebugValue(J?J(H):H)}function L(){var H;for(E.sort(function(J,te){return J.__v.__b-te.__v.__b});H=E.pop();)if(H.__P)try{H.__H.__h.forEach(W),H.__H.__h.forEach(Z),H.__H.__h=[]}catch(J){H.__H.__h=[],u.i.__e(J,H.__v)}}u.i.__b=function(H){v=null,P&&P(H)},u.i.__r=function(H){T&&T(H),l=0;var J=(v=H.__c).__H;J&&(J.__h.forEach(W),J.__h.forEach(Z),J.__h=[])},u.i.diffed=function(H){M&&M(H);var J=H.__c;J&&J.__H&&J.__H.__h.length&&(E.push(J)!==1&&b===u.i.requestAnimationFrame||((b=u.i.requestAnimationFrame)||R)(L)),v=null},u.i.__c=function(H,J){J.some(function(te){try{te.__h.forEach(W),te.__h=te.__h.filter(function(re){return!re.__||Z(re)})}catch(re){J.some(function(Te){Te.__h&&(Te.__h=[])}),J=[],u.i.__e(re,te.__v)}}),N&&N(H,J)},u.i.unmount=function(H){D&&D(H);var J,te=H.__c;te&&te.__H&&(te.__H.__.forEach(function(re){try{W(re)}catch(Te){J=Te}}),J&&u.i.__e(J,te.__v))};var A=typeof requestAnimationFrame=="function";function R(H){var J,te=function(){clearTimeout(re),A&&cancelAnimationFrame(J),setTimeout(H)},re=setTimeout(te,100);A&&(J=requestAnimationFrame(te))}function W(H){var J=v,te=H.__c;typeof te=="function"&&(H.__c=void 0,te()),v=J}function Z(H){var J=v;H.__c=H.__(),v=J}function ce(H,J){return!H||H.length!==J.length||J.some(function(te,re){return te!==H[re]})}function Pe(H,J){return typeof J=="function"?J(H):J}function me(H,J){for(var te in J)H[te]=J[te];return H}function be(H,J){for(var te in H)if(te!=="__source"&&!(te in J))return!0;for(var re in J)if(re!=="__source"&&H[re]!==J[re])return!0;return!1}function xe(H){this.props=H}function Oe(H,J){function te(Te){var je=this.props.ref,Ye=je==Te.ref;return!Ye&&je&&(je.call?je(null):je.current=null),J?!J(this.props,Te)||!Ye:be(this.props,Te)}function re(Te){return this.shouldComponentUpdate=te,Object(u.e)(H,Te)}return re.displayName="Memo("+(H.displayName||H.name)+")",re.prototype.isReactComponent=!0,re.__f=!0,re}(xe.prototype=new u.a).isPureReactComponent=!0,xe.prototype.shouldComponentUpdate=function(H,J){return be(this.props,H)||be(this.state,J)};var Ae=u.i.__b;u.i.__b=function(H){H.type&&H.type.__f&&H.ref&&(H.props.ref=H.ref,H.ref=null),Ae&&Ae(H)};var Fe=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.forward_ref")||3911;function Ve(H){function J(te,re){var Te=me({},te);return delete Te.ref,H(Te,!(re=te.ref||re)||typeof re=="object"&&!("current"in re)?null:re)}return J.$$typeof=Fe,J.render=J,J.prototype.isReactComponent=J.__f=!0,J.displayName="ForwardRef("+(H.displayName||H.name)+")",J}var Be=function(H,J){return H==null?null:Object(u.k)(Object(u.k)(H).map(J))},Ee={map:Be,forEach:Be,count:function(H){return H?Object(u.k)(H).length:0},only:function(H){var J=Object(u.k)(H);if(J.length!==1)throw"Children.only";return J[0]},toArray:u.k},_e=u.i.__e;u.i.__e=function(H,J,te){if(H.then){for(var re,Te=J;Te=Te.__;)if((re=Te.__c)&&re.__c)return J.__e==null&&(J.__e=te.__e,J.__k=te.__k),re.__c(H,J)}_e(H,J,te)};var Xe=u.i.unmount;function k(H,J,te){return H&&(H.__c&&H.__c.__H&&(H.__c.__H.__.forEach(function(re){typeof re.__c=="function"&&re.__c()}),H.__c.__H=null),(H=me({},H)).__c!=null&&(H.__c.__P===te&&(H.__c.__P=J),H.__c=null),H.__k=H.__k&&H.__k.map(function(re){return k(re,J,te)})),H}function Y(H,J,te){return H&&(H.__v=null,H.__k=H.__k&&H.__k.map(function(re){return Y(re,J,te)}),H.__c&&H.__c.__P===J&&(H.__e&&te.insertBefore(H.__e,H.__d),H.__c.__e=!0,H.__c.__P=te)),H}function q(){this.__u=0,this.t=null,this.__b=null}function he(H){var J=H.__.__c;return J&&J.__e&&J.__e(H)}function Se(H){var J,te,re;function Te(je){if(J||(J=H()).then(function(Ye){te=Ye.default||Ye},function(Ye){re=Ye}),re)throw re;if(!te)throw J;return Object(u.e)(te,je)}return Te.displayName="Lazy",Te.__f=!0,Te}function pe(){this.u=null,this.o=null}u.i.unmount=function(H){var J=H.__c;J&&J.__R&&J.__R(),J&&H.__h===!0&&(H.type=null),Xe&&Xe(H)},(q.prototype=new u.a).__c=function(H,J){var te=J.__c,re=this;re.t==null&&(re.t=[]),re.t.push(te);var Te=he(re.__v),je=!1,Ye=function(){je||(je=!0,te.__R=null,Te?Te(yt):yt())};te.__R=Ye;var yt=function(){if(!--re.__u){if(re.state.__e){var qt=re.state.__e;re.__v.__k[0]=Y(qt,qt.__c.__P,qt.__c.__O)}var Un;for(re.setState({__e:re.__b=null});Un=re.t.pop();)Un.forceUpdate()}},Qt=J.__h===!0;re.__u++||Qt||re.setState({__e:re.__b=re.__v.__k[0]}),H.then(Ye,Ye)},q.prototype.componentWillUnmount=function(){this.t=[]},q.prototype.render=function(H,J){if(this.__b){if(this.__v.__k){var te=document.createElement("div"),re=this.__v.__k[0].__c;this.__v.__k[0]=k(this.__b,te,re.__O=re.__P)}this.__b=null}var Te=J.__e&&Object(u.e)(u.b,null,H.fallback);return Te&&(Te.__h=null),[Object(u.e)(u.b,null,J.__e?null:H.children),Te]};var He=function(H,J,te){if(++te[1]===te[0]&&H.o.delete(J),H.props.revealOrder&&(H.props.revealOrder[0]!=="t"||!H.o.size))for(te=H.u;te;){for(;te.length>3;)te.pop()();if(te[1]<te[0])break;H.u=te=te[2]}};function tt(H){return this.getChildContext=function(){return H.context},H.children}function Ke(H){var J=this,te=H.i;J.componentWillUnmount=function(){Object(u.j)(null,J.l),J.l=null,J.i=null},J.i&&J.i!==te&&J.componentWillUnmount(),H.__v?(J.l||(J.i=te,J.l={nodeType:1,parentNode:te,childNodes:[],appendChild:function(re){this.childNodes.push(re),J.i.appendChild(re)},insertBefore:function(re,Te){this.childNodes.push(re),J.i.appendChild(re)},removeChild:function(re){this.childNodes.splice(this.childNodes.indexOf(re)>>>1,1),J.i.removeChild(re)}}),Object(u.j)(Object(u.e)(tt,{context:J.context},H.__v),J.l)):J.l&&J.componentWillUnmount()}function it(H,J){return Object(u.e)(Ke,{__v:H,i:J})}(pe.prototype=new u.a).__e=function(H){var J=this,te=he(J.__v),re=J.o.get(H);return re[0]++,function(Te){var je=function(){J.props.revealOrder?(re.push(Te),He(J,H,re)):Te()};te?te(je):je()}},pe.prototype.render=function(H){this.u=null,this.o=new Map;var J=Object(u.k)(H.children);H.revealOrder&&H.revealOrder[0]==="b"&&J.reverse();for(var te=J.length;te--;)this.o.set(J[te],this.u=[1,0,this.u]);return H.children},pe.prototype.componentDidUpdate=pe.prototype.componentDidMount=function(){var H=this;this.o.forEach(function(J,te){He(H,te,J)})};var ve=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.element")||60103,lt=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|marker(?!H|W|U)|overline|paint|stop|strikethrough|stroke|text(?!L)|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,rt=typeof document<"u",ze=function(H){return(typeof Symbol<"u"&&typeof Symbol()=="symbol"?/fil|che|rad/i:/fil|che|ra/i).test(H)};function qe(H,J,te){return J.__k==null&&(J.textContent=""),Object(u.j)(H,J),typeof te=="function"&&te(),H?H.__c:null}function At(H,J,te){return Object(u.h)(H,J),typeof te=="function"&&te(),H?H.__c:null}u.a.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(H){Object.defineProperty(u.a.prototype,H,{configurable:!0,get:function(){return this["UNSAFE_"+H]},set:function(J){Object.defineProperty(this,H,{configurable:!0,writable:!0,value:J})}})});var vt=u.i.event;function Ot(){}function ie(){return this.cancelBubble}function jt(){return this.defaultPrevented}u.i.event=function(H){return vt&&(H=vt(H)),H.persist=Ot,H.isPropagationStopped=ie,H.isDefaultPrevented=jt,H.nativeEvent=H};var St,mt={configurable:!0,get:function(){return this.class}},Kt=u.i.vnode;u.i.vnode=function(H){var J=H.type,te=H.props,re=te;if(typeof J=="string"){var Te=J.indexOf("-")===-1;for(var je in re={},te){var Ye=te[je];rt&&je==="children"&&J==="noscript"||je==="value"&&"defaultValue"in te&&Ye==null||(je==="defaultValue"&&"value"in te&&te.value==null?je="value":je==="download"&&Ye===!0?Ye="":/ondoubleclick/i.test(je)?je="ondblclick":/^onchange(textarea|input)/i.test(je+J)&&!ze(te.type)?je="oninput":/^onfocus$/i.test(je)?je="onfocusin":/^onblur$/i.test(je)?je="onfocusout":/^on(Ani|Tra|Tou|BeforeInp)/.test(je)?je=je.toLowerCase():Te&&lt.test(je)?je=je.replace(/[A-Z0-9]/,"-$&").toLowerCase():Ye===null&&(Ye=void 0),re[je]=Ye)}J=="select"&&re.multiple&&Array.isArray(re.value)&&(re.value=Object(u.k)(te.children).forEach(function(yt){yt.props.selected=re.value.indexOf(yt.props.value)!=-1})),J=="select"&&re.defaultValue!=null&&(re.value=Object(u.k)(te.children).forEach(function(yt){yt.props.selected=re.multiple?re.defaultValue.indexOf(yt.props.value)!=-1:re.defaultValue==yt.props.value})),H.props=re,te.class!=te.className&&(mt.enumerable="className"in te,te.className!=null&&(re.class=te.className),Object.defineProperty(re,"className",mt))}H.$$typeof=ve,Kt&&Kt(H)};var yr=u.i.__r;u.i.__r=function(H){yr&&yr(H),St=H.__c};var Jt={ReactCurrentDispatcher:{current:{readContext:function(H){return St.__n[H.__c].props.value}}}};function Mr(H){return u.e.bind(null,H)}function et(H){return!!H&&H.$$typeof===ve}function Pt(H){return et(H)?u.c.apply(null,arguments):H}function ir(H){return!!H.__k&&(Object(u.j)(null,H),!0)}function Ie(H){return H&&(H.base||H.nodeType===1&&H)||null}var We=function(H,J){return H(J)},at=function(H,J){return H(J)},Je=u.b,ft={useState:_,useReducer:$,useEffect:X,useLayoutEffect:ue,useRef:le,useImperativeHandle:ee,useMemo:Q,useCallback:se,useContext:z,useDebugValue:U,version:"17.0.2",Children:Ee,render:qe,hydrate:At,unmountComponentAtNode:ir,createPortal:it,createElement:u.e,createContext:u.d,createFactory:Mr,cloneElement:Pt,createRef:u.f,Fragment:u.b,isValidElement:et,findDOMNode:Ie,Component:u.a,PureComponent:xe,memo:Oe,forwardRef:Ve,flushSync:at,unstable_batchedUpdates:We,StrictMode:Je,Suspense:q,SuspenseList:pe,lazy:Se,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:Jt};f.d=ft},function(s,f,o){var u=o(7),l=o(147),v=o(148),b=o(179),O=o(57),E=function(T){if(T&&T.forEach!==b)try{O(T,"forEach",b)}catch{T.forEach=b}};for(var P in l)l[P]&&E(u[P]&&u[P].prototype);E(v)},function(s,f,o){var u=o(16),l=o(97);u({target:"Object",stat:!0},{setPrototypeOf:l})},function(s,f,o){var u=o(16),l=o(18),v=o(38),b=o(96),O=o(137),E=l(function(){b(1)});u({target:"Object",stat:!0,forced:E,sham:!O},{getPrototypeOf:function(T){return b(v(T))}})},function(s,f,o){var u=o(16),l=o(46),v=o(77),b=o(199),O=o(157),E=o(32),P=o(33),T=o(54),M=o(18),N=l("Reflect","construct"),D=Object.prototype,I=[].push,_=M(function(){function ue(){}return!(N(function(){},[],ue)instanceof ue)}),$=!M(function(){N(function(){})}),X=_||$;u({target:"Reflect",stat:!0,forced:X,sham:X},{construct:function(le,ee){O(le),E(ee);var Q=arguments.length<3?le:O(arguments[2]);if($&&!_)return N(le,ee,Q);if(le==Q){switch(ee.length){case 0:return new le;case 1:return new le(ee[0]);case 2:return new le(ee[0],ee[1]);case 3:return new le(ee[0],ee[1],ee[2]);case 4:return new le(ee[0],ee[1],ee[2],ee[3])}var se=[null];return v(I,se,ee),new(v(b,le,se))}var z=Q.prototype,U=T(P(z)?z:D),L=v(le,U,ee);return P(L)?L:U}})},function(s,f){var o=Function.prototype,u=o.bind,l=o.call,v=u&&u.bind(l);s.exports=u?function(b){return b&&v(l,b)}:function(b){return b&&function(){return l.apply(b,arguments)}}},function(s,f,o){var u=o(7),l=o(51).f,v=o(57),b=o(44),O=o(108),E=o(134),P=o(95);s.exports=function(T,M){var N=T.target,D=T.global,I=T.stat,_,$,X,ue,le,ee;if(D?$=u:I?$=u[N]||O(N,{}):$=(u[N]||{}).prototype,$)for(X in M){if(le=M[X],T.noTargetGet?(ee=l($,X),ue=ee&&ee.value):ue=$[X],_=P(D?X:N+(I?".":"#")+X,T.forced),!_&&ue!==void 0){if(typeof le==typeof ue)continue;E(le,ue)}(T.sham||ue&&ue.sham)&&v(le,"sham",!0),b($,X,le,T)}}},function(s,f,o){var u=o(16),l=o(7),v=o(99),b=o(100),O=o(33),E=o(68),P=o(43),T=o(39),M=o(61),N=o(27),D=o(76),I=o(101),_=D("slice"),$=N("species"),X=l.Array,ue=Math.max;u({target:"Array",proto:!0,forced:!_},{slice:function(ee,Q){var se=T(this),z=P(se),U=E(ee,z),L=E(Q===void 0?z:Q,z),A,R,W;if(v(se)&&(A=se.constructor,b(A)&&(A===X||v(A.prototype))?A=void 0:O(A)&&(A=A[$],A===null&&(A=void 0)),A===X||A===void 0))return I(se,U,L);for(R=new(A===void 0?X:A)(ue(L-U,0)),W=0;U<L;U++,W++)U in se&&M(R,W,se[U]);return R.length=W,R}})},function(s,f){s.exports=function(o){try{return!!o()}catch{return!0}}},function(s,f,o){var u=o(16),l=o(102);u({target:"RegExp",proto:!0,forced:/./.exec!==l},{exec:l})},function(s,f,o){var u=o(16),l=o(38),v=o(67),b=o(18),O=b(function(){v(1)});u({target:"Object",stat:!0,forced:O},{keys:function(P){return v(l(P))}})},function(s,f,o){var u=o(16),l=o(18),v=o(39),b=o(51).f,O=o(36),E=l(function(){b(1)}),P=!O||E;u({target:"Object",stat:!0,forced:P,sham:!O},{getOwnPropertyDescriptor:function(M,N){return b(v(M),N)}})},function(s,f,o){var u=o(16),l=o(75).filter,v=o(76),b=v("filter");u({target:"Array",proto:!0,forced:!b},{filter:function(E){return l(this,E,arguments.length>1?arguments[1]:void 0)}})},function(s,f,o){var u=o(36),l=o(94).EXISTS,v=o(15),b=o(37).f,O=Function.prototype,E=v(O.toString),P=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,T=v(P.exec),M="name";u&&!l&&b(O,M,{configurable:!0,get:function(){try{return T(P,E(this))[1]}catch{return""}}})},function(s,f,o){var u=o(16),l=o(36),v=o(135),b=o(39),O=o(51),E=o(61);u({target:"Object",stat:!0,sham:!l},{getOwnPropertyDescriptors:function(T){for(var M=b(T),N=O.f,D=v(M),I={},_=0,$,X;D.length>_;)X=N(M,$=D[_++]),X!==void 0&&E(I,$,X);return I}})},function(s,f,o){var u=o(16),l=o(182),v=o(118),b=!v(function(O){Array.from(O)});u({target:"Array",stat:!0,forced:b},{from:l})},,function(s,f,o){var u=o(7),l=o(84),v=o(34),b=o(85),O=o(109),E=o(128),P=l("wks"),T=u.Symbol,M=T&&T.for,N=E?T:T&&T.withoutSetter||b;s.exports=function(D){if(!v(P,D)||!(O||typeof P[D]=="string")){var I="Symbol."+D;O&&v(T,D)?P[D]=T[D]:E&&M?P[D]=M(I):P[D]=N(I)}return P[D]}},function(s,f){s.exports=function(o){return typeof o=="function"}},function(s,f,o){var u=o(16),l=o(7),v=o(18),b=o(99),O=o(33),E=o(38),P=o(43),T=o(61),M=o(119),N=o(76),D=o(27),I=o(66),_=D("isConcatSpreadable"),$=9007199254740991,X="Maximum allowed index exceeded",ue=l.TypeError,le=I>=51||!v(function(){var z=[];return z[_]=!1,z.concat()[0]!==z}),ee=N("concat"),Q=function(z){if(!O(z))return!1;var U=z[_];return U!==void 0?!!U:b(z)},se=!le||!ee;u({target:"Array",proto:!0,forced:se},{concat:function(U){var L=E(this),A=M(L,0),R=0,W,Z,ce,Pe,me;for(W=-1,ce=arguments.length;W<ce;W++)if(me=W===-1?L:arguments[W],Q(me)){if(Pe=P(me),R+Pe>$)throw ue(X);for(Z=0;Z<Pe;Z++,R++)Z in me&&T(A,R,me[Z])}else{if(R>=$)throw ue(X);T(A,R++,me)}return A.length=R,A}})},function(s,f,o){var u=o(16),l=o(198);u({target:"Object",stat:!0,forced:Object.assign!==l},{assign:l})},function(s,f,o){var u=o(105),l=typeof self=="object"&&self&&self.Object===Object&&self,v=u.a||l||Function("return this")();f.a=v},function(s,f,o){var u=o(7),l=o(33),v=u.String,b=u.TypeError;s.exports=function(O){if(l(O))return O;throw b(v(O)+" is not an object")}},function(s,f,o){var u=o(28);s.exports=function(l){return typeof l=="object"?l!==null:u(l)}},function(s,f,o){var u=o(15),l=o(38),v=u({}.hasOwnProperty);s.exports=Object.hasOwn||function(O,E){return v(l(O),E)}},function(s,f){var o=Function.prototype.call;s.exports=o.bind?o.bind(o):function(){return o.apply(o,arguments)}},function(s,f,o){var u=o(18);s.exports=!u(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7})},function(s,f,o){var u=o(7),l=o(36),v=o(129),b=o(32),O=o(87),E=u.TypeError,P=Object.defineProperty;f.f=l?P:function(M,N,D){if(b(M),N=O(N),b(D),v)try{return P(M,N,D)}catch{}if("get"in D||"set"in D)throw E("Accessors not supported");return"value"in D&&(M[N]=D.value),M}},function(s,f,o){var u=o(7),l=o(45),v=u.Object;s.exports=function(b){return v(l(b))}},function(s,f,o){var u=o(81),l=o(45);s.exports=function(v){return u(l(v))}},function(s,f,o){var u=o(7),l=o(98),v=u.String;s.exports=function(b){if(l(b)==="Symbol")throw TypeError("Cannot convert a Symbol value to a string");return v(b)}},function(s,f,o){var u=o(16),l=o(75).map,v=o(76),b=v("map");u({target:"Array",proto:!0,forced:!b},{map:function(E){return l(this,E,arguments.length>1?arguments[1]:void 0)}})},function(s,f,o){(function(u){o.d(f,"d",function(){return b}),o.d(f,"c",function(){return O}),o.d(f,"b",function(){return E}),o.d(f,"a",function(){return T});var l=o(10),v=function(M,N){var D=typeof Symbol=="function"&&M[Symbol.iterator];if(!D)return M;var I=D.call(M),_,$=[],X;try{for(;(N===void 0||N-- >0)&&!(_=I.next()).done;)$.push(_.value)}catch(ue){X={error:ue}}finally{try{_&&!_.done&&(D=I.return)&&D.call(I)}finally{if(X)throw X.error}}return $};function b(){var M=v(Object(l.j)(0),2),N=M[1],D=Object(l.h)(function(){N(function(I){return I+1})},[]);return D}function O(M){if(!M||typeof M!="object")return!1;var N=Object.getPrototypeOf(M);return!N||N===Object.prototype}function E(M){return typeof Symbol=="function"?Symbol.for(M):"__$mobx-react "+M+"__"}var P={};function T(){return typeof window<"u"?window:typeof u<"u"?u:typeof self<"u"?self:P}}).call(this,o(82))},function(s,f,o){var u=o(90);s.exports=function(l){return u(l.length)}},function(s,f,o){var u=o(7),l=o(28),v=o(34),b=o(57),O=o(108),E=o(92),P=o(56),T=o(94).CONFIGURABLE,M=P.get,N=P.enforce,D=String(String).split("String");(s.exports=function(I,_,$,X){var ue=X?!!X.unsafe:!1,le=X?!!X.enumerable:!1,ee=X?!!X.noTargetGet:!1,Q=X&&X.name!==void 0?X.name:_,se;if(l($)&&(String(Q).slice(0,7)==="Symbol("&&(Q="["+String(Q).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),(!v($,"name")||T&&$.name!==Q)&&b($,"name",Q),se=N($),se.source||(se.source=D.join(typeof Q=="string"?Q:""))),I===u){le?I[_]=$:O(_,$);return}else ue?!ee&&I[_]&&(le=!0):delete I[_];le?I[_]=$:b(I,_,$)})(Function.prototype,"toString",function(){return l(this)&&M(this).source||E(this)})},function(s,f,o){var u=o(7),l=u.TypeError;s.exports=function(v){if(v==null)throw l("Can't call method on "+v);return v}},function(s,f,o){var u=o(7),l=o(28),v=function(b){return l(b)?b:void 0};s.exports=function(b,O){return arguments.length<2?v(u[b]):u[b]&&u[b][O]}},function(s,f,o){var u=o(16),l=o(35),v=o(33),b=o(32),O=o(200),E=o(51),P=o(96);function T(M,N){var D=arguments.length<3?M:arguments[2],I,_;if(b(M)===D)return M[N];if(I=E.f(M,N),I)return O(I)?I.value:I.get===void 0?void 0:l(I.get,D);if(v(_=P(M)))return T(_,N,D)}u({target:"Reflect",stat:!0},{get:T})},function(s,f,o){(function(u){var l=o(31),v=o(165),b=d&&!d.nodeType&&d,O=b&&typeof u=="object"&&u&&!u.nodeType&&u,E=O&&O.exports===b,P=E?l.a.Buffer:void 0,T=P?P.isBuffer:void 0,M=T||v.a;f.a=M}).call(this,o(121)(s))},function(s,f,o){(function(u){var l=o(105),v=d&&!d.nodeType&&d,b=v&&typeof u=="object"&&u&&!u.nodeType&&u,O=b&&b.exports===v,E=O&&l.a.process,P=function(){try{var T=b&&b.require&&b.require("util").types;return T||E&&E.binding&&E.binding("util")}catch{}}();f.a=P}).call(this,o(121)(s))},function(s,f,o){var u=o(15),l=u({}.toString),v=u("".slice);s.exports=function(b){return v(l(b),8,-1)}},function(s,f,o){var u=o(36),l=o(35),v=o(93),b=o(72),O=o(39),E=o(87),P=o(34),T=o(129),M=Object.getOwnPropertyDescriptor;f.f=u?M:function(D,I){if(D=O(D),I=E(I),T)try{return M(D,I)}catch{}if(P(D,I))return b(!l(v.f,D,I),D[I])}},function(s,f,o){var u=o(16),l=o(213).entries;u({target:"Object",stat:!0},{entries:function(b){return l(b)}})},function(s,f,o){var u=o(46);s.exports=u("navigator","userAgent")||""},function(s,f,o){var u=o(32),l=o(168),v=o(110),b=o(70),O=o(133),E=o(86),P=o(91),T=">",M="<",N="prototype",D="script",I=P("IE_PROTO"),_=function(){},$=function(Q){return M+D+T+Q+M+"/"+D+T},X=function(Q){Q.write($("")),Q.close();var se=Q.parentWindow.Object;return Q=null,se},ue=function(){var Q=E("iframe"),se="java"+D+":",z;return Q.style.display="none",O.appendChild(Q),Q.src=String(se),z=Q.contentWindow.document,z.open(),z.write($("document.F=Object")),z.close(),z.F},le,ee=function(){try{le=new ActiveXObject("htmlfile")}catch{}ee=typeof document<"u"?document.domain&&le?X(le):ue():X(le);for(var Q=v.length;Q--;)delete ee[N][v[Q]];return ee()};b[I]=!0,s.exports=Object.create||function(se,z){var U;return se!==null?(_[N]=u(se),U=new _,_[N]=null,U[I]=se):U=ee(),z===void 0?U:l(U,z)}},function(s,f,o){var u=o(7),l=o(28),v=o(89),b=u.TypeError;s.exports=function(O){if(l(O))return O;throw b(v(O)+" is not a function")}},function(s,f,o){var u=o(170),l=o(7),v=o(15),b=o(33),O=o(57),E=o(34),P=o(107),T=o(91),M=o(70),N="Object already initialized",D=l.TypeError,I=l.WeakMap,_,$,X,ue=function(L){return X(L)?$(L):_(L,{})},le=function(L){return function(A){var R;if(!b(A)||(R=$(A)).type!==L)throw D("Incompatible receiver, "+L+" required");return R}};if(u||P.state){var ee=P.state||(P.state=new I),Q=v(ee.get),se=v(ee.has),z=v(ee.set);_=function(L,A){if(se(ee,L))throw new D(N);return A.facade=L,z(ee,L,A),A},$=function(L){return Q(ee,L)||{}},X=function(L){return se(ee,L)}}else{var U=T("state");M[U]=!0,_=function(L,A){if(E(L,U))throw new D(N);return A.facade=L,O(L,U,A),A},$=function(L){return E(L,U)?L[U]:{}},X=function(L){return E(L,U)}}s.exports={set:_,get:$,has:X,enforce:ue,getterFor:le}},function(s,f,o){var u=o(36),l=o(37),v=o(72);s.exports=u?function(b,O,E){return l.f(b,O,v(1,E))}:function(b,O,E){return b[O]=E,b}},function(s,f,o){var u=o(15);s.exports=u({}.isPrototypeOf)},function(s,f,o){var u=o(55);s.exports=function(l,v){var b=l[v];return b==null?void 0:u(b)}},function(s,f,o){var u=o(173),l=o(177);u("Map",function(v){return function(){return v(this,arguments.length?arguments[0]:void 0)}},l)},function(s,f,o){var u=o(87),l=o(37),v=o(72);s.exports=function(b,O,E){var P=u(O);P in b?l.f(b,P,v(0,E)):b[P]=E}},function(s,f,o){var u=o(15),l=o(55),v=u(u.bind);s.exports=function(b,O){return l(b),O===void 0?b:v?v(b,O):function(){return b.apply(O,arguments)}}},function(s,f,o){var u=o(16),l=o(15),v=o(81),b=o(39),O=o(120),E=l([].join),P=v!=Object,T=O("join",",");u({target:"Array",proto:!0,forced:P||!T},{join:function(N){return E(b(this),N===void 0?",":N)}})},function(s,f,o){var u=o(16),l=o(214),v=o(83);u({target:"Array",proto:!0},{fill:l}),v("fill")},function(s,f){s.exports=!1},function(s,f,o){var u=o(7),l=o(53),v=u.process,b=u.Deno,O=v&&v.versions||b&&b.version,E=O&&O.v8,P,T;E&&(P=E.split("."),T=P[0]>0&&P[0]<4?1:+(P[0]+P[1])),!T&&l&&(P=l.match(/Edge\/(\d+)/),(!P||P[1]>=74)&&(P=l.match(/Chrome\/(\d+)/),P&&(T=+P[1]))),s.exports=T},function(s,f,o){var u=o(131),l=o(110);s.exports=Object.keys||function(b){return u(b,l)}},function(s,f,o){var u=o(69),l=Math.max,v=Math.min;s.exports=function(b,O){var E=u(b);return E<0?l(E+O,0):v(E,O)}},function(s,f){var o=Math.ceil,u=Math.floor;s.exports=function(l){var v=+l;return v!==v||v===0?0:(v>0?u:o)(v)}},function(s,f){s.exports={}},function(s,f){s.exports={}},function(s,f){s.exports=function(o,u){return{enumerable:!(o&1),configurable:!(o&2),writable:!(o&4),value:u}}},function(s,f,o){var u=o(131),l=o(110),v=l.concat("length","prototype");f.f=Object.getOwnPropertyNames||function(O){return u(O,v)}},function(s,f,o){var u=o(37).f,l=o(34),v=o(27),b=v("toStringTag");s.exports=function(O,E,P){O&&!l(O=P?O:O.prototype,b)&&u(O,b,{configurable:!0,value:E})}},function(s,f,o){var u=o(62),l=o(15),v=o(81),b=o(38),O=o(43),E=o(119),P=l([].push),T=function(M){var N=M==1,D=M==2,I=M==3,_=M==4,$=M==6,X=M==7,ue=M==5||$;return function(le,ee,Q,se){for(var z=b(le),U=v(z),L=u(ee,Q),A=O(U),R=0,W=se||E,Z=N?W(le,A):D||X?W(le,0):void 0,ce,Pe;A>R;R++)if((ue||R in U)&&(ce=U[R],Pe=L(ce,R,z),M))if(N)Z[R]=Pe;else if(Pe)switch(M){case 3:return!0;case 5:return ce;case 6:return R;case 2:P(Z,ce)}else switch(M){case 4:return!1;case 7:P(Z,ce)}return $?-1:I||_?_:Z}};s.exports={forEach:T(0),map:T(1),filter:T(2),some:T(3),every:T(4),find:T(5),findIndex:T(6),filterReject:T(7)}},function(s,f,o){var u=o(18),l=o(27),v=o(66),b=l("species");s.exports=function(O){return v>=51||!u(function(){var E=[],P=E.constructor={};return P[b]=function(){return{foo:1}},E[O](Boolean).foo!==1})}},function(s,f){var o=Function.prototype,u=o.apply,l=o.bind,v=o.call;s.exports=typeof Reflect=="object"&&Reflect.apply||(l?v.bind(u):function(){return v.apply(u,arguments)})},function(s,f,o){var u=o(77),l=o(35),v=o(15),b=o(122),O=o(154),E=o(32),P=o(45),T=o(156),M=o(123),N=o(90),D=o(40),I=o(59),_=o(113),$=o(124),X=o(102),ue=o(151),le=o(18),ee=ue.UNSUPPORTED_Y,Q=4294967295,se=Math.min,z=[].push,U=v(/./.exec),L=v(z),A=v("".slice),R=!le(function(){var W=/(?:)/,Z=W.exec;W.exec=function(){return Z.apply(this,arguments)};var ce="ab".split(W);return ce.length!==2||ce[0]!=="a"||ce[1]!=="b"});b("split",function(W,Z,ce){var Pe;return"abbc".split(/(b)*/)[1]=="c"||"test".split(/(?:)/,-1).length!=4||"ab".split(/(?:ab)*/).length!=2||".".split(/(.?)(.?)/).length!=4||".".split(/()()/).length>1||"".split(/.?/).length?Pe=function(me,be){var xe=D(P(this)),Oe=be===void 0?Q:be>>>0;if(Oe===0)return[];if(me===void 0)return[xe];if(!O(me))return l(Z,xe,me,Oe);for(var Ae=[],Fe=(me.ignoreCase?"i":"")+(me.multiline?"m":"")+(me.unicode?"u":"")+(me.sticky?"y":""),Ve=0,Be=new RegExp(me.source,Fe+"g"),Ee,_e,Xe;(Ee=l(X,Be,xe))&&(_e=Be.lastIndex,!(_e>Ve&&(L(Ae,A(xe,Ve,Ee.index)),Ee.length>1&&Ee.index<xe.length&&u(z,Ae,_(Ee,1)),Xe=Ee[0].length,Ve=_e,Ae.length>=Oe)));)Be.lastIndex===Ee.index&&Be.lastIndex++;return Ve===xe.length?(Xe||!U(Be,""))&&L(Ae,""):L(Ae,A(xe,Ve)),Ae.length>Oe?_(Ae,0,Oe):Ae}:"0".split(void 0,0).length?Pe=function(me,be){return me===void 0&&be===0?[]:l(Z,this,me,be)}:Pe=Z,[function(be,xe){var Oe=P(this),Ae=be==null?void 0:I(be,W);return Ae?l(Ae,be,Oe,xe):l(Pe,D(Oe),be,xe)},function(me,be){var xe=E(this),Oe=D(me),Ae=ce(Pe,xe,Oe,be,Pe!==Z);if(Ae.done)return Ae.value;var Fe=T(xe,RegExp),Ve=xe.unicode,Be=(xe.ignoreCase?"i":"")+(xe.multiline?"m":"")+(xe.unicode?"u":"")+(ee?"g":"y"),Ee=new Fe(ee?"^(?:"+xe.source+")":xe,Be),_e=be===void 0?Q:be>>>0;if(_e===0)return[];if(Oe.length===0)return $(Ee,Oe)===null?[Oe]:[];for(var Xe=0,k=0,Y=[];k<Oe.length;){Ee.lastIndex=ee?0:k;var q=$(Ee,ee?A(Oe,k):Oe),he;if(q===null||(he=se(N(Ee.lastIndex+(ee?k:0)),Oe.length))===Xe)k=M(Oe,k,Ve);else{if(L(Y,A(Oe,Xe,k)),Y.length===_e)return Y;for(var Se=1;Se<=q.length-1;Se++)if(L(Y,q[Se]),Y.length===_e)return Y;k=Xe=he}}return L(Y,A(Oe,Xe)),Y}]},!R,ee)},function(s,f,o){var u=o(36),l=o(7),v=o(15),b=o(95),O=o(44),E=o(34),P=o(143),T=o(58),M=o(88),N=o(130),D=o(18),I=o(73).f,_=o(51).f,$=o(37).f,X=o(196),ue=o(159).trim,le="Number",ee=l[le],Q=ee.prototype,se=l.TypeError,z=v("".slice),U=v("".charCodeAt),L=function(Pe){var me=N(Pe,"number");return typeof me=="bigint"?me:A(me)},A=function(Pe){var me=N(Pe,"number"),be,xe,Oe,Ae,Fe,Ve,Be,Ee;if(M(me))throw se("Cannot convert a Symbol value to a number");if(typeof me=="string"&&me.length>2){if(me=ue(me),be=U(me,0),be===43||be===45){if(xe=U(me,2),xe===88||xe===120)return NaN}else if(be===48){switch(U(me,1)){case 66:case 98:Oe=2,Ae=49;break;case 79:case 111:Oe=8,Ae=55;break;default:return+me}for(Fe=z(me,2),Ve=Fe.length,Be=0;Be<Ve;Be++)if(Ee=U(Fe,Be),Ee<48||Ee>Ae)return NaN;return parseInt(Fe,Oe)}}return+me};if(b(le,!ee(" 0o1")||!ee("0b1")||ee("+0x1"))){for(var R=function(me){var be=arguments.length<1?0:ee(L(me)),xe=this;return T(Q,xe)&&D(function(){X(xe)})?P(Object(be),xe,R):be},W=u?I(ee):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),Z=0,ce;W.length>Z;Z++)E(ee,ce=W[Z])&&!E(R,ce)&&$(R,ce,_(ee,ce));R.prototype=Q,Q.constructor=R,O(l,le,R)}},function(s,f,o){var u=o(16);u({target:"Number",stat:!0},{MAX_SAFE_INTEGER:9007199254740991})},function(s,f,o){var u=o(7),l=o(15),v=o(18),b=o(50),O=u.Object,E=l("".split);s.exports=v(function(){return!O("z").propertyIsEnumerable(0)})?function(P){return b(P)=="String"?E(P,""):O(P)}:O},function(s,f){var o;o=function(){return this}();try{o=o||new Function("return this")()}catch{typeof window=="object"&&(o=window)}s.exports=o},function(s,f,o){var u=o(27),l=o(54),v=o(37),b=u("unscopables"),O=Array.prototype;O[b]==null&&v.f(O,b,{configurable:!0,value:l(null)}),s.exports=function(E){O[b][E]=!0}},function(s,f,o){var u=o(65),l=o(107);(s.exports=function(v,b){return l[v]||(l[v]=b!==void 0?b:{})})("versions",[]).push({version:"3.19.3",mode:u?"pure":"global",copyright:" 2021 Denis Pushkarev (zloirock.ru)"})},function(s,f,o){var u=o(15),l=0,v=Math.random(),b=u(1 .toString);s.exports=function(O){return"Symbol("+(O===void 0?"":O)+")_"+b(++l+v,36)}},function(s,f,o){var u=o(7),l=o(33),v=u.document,b=l(v)&&l(v.createElement);s.exports=function(O){return b?v.createElement(O):{}}},function(s,f,o){var u=o(130),l=o(88);s.exports=function(v){var b=u(v,"string");return l(b)?b:b+""}},function(s,f,o){var u=o(7),l=o(46),v=o(28),b=o(58),O=o(128),E=u.Object;s.exports=O?function(P){return typeof P=="symbol"}:function(P){var T=l("Symbol");return v(T)&&b(T.prototype,E(P))}},function(s,f,o){var u=o(7),l=u.String;s.exports=function(v){try{return l(v)}catch{return"Object"}}},function(s,f,o){var u=o(69),l=Math.min;s.exports=function(v){return v>0?l(u(v),9007199254740991):0}},function(s,f,o){var u=o(84),l=o(85),v=u("keys");s.exports=function(b){return v[b]||(v[b]=l(b))}},function(s,f,o){var u=o(15),l=o(28),v=o(107),b=u(Function.toString);l(v.inspectSource)||(v.inspectSource=function(O){return b(O)}),s.exports=v.inspectSource},function(s,f,o){var u={}.propertyIsEnumerable,l=Object.getOwnPropertyDescriptor,v=l&&!u.call({1:2},1);f.f=v?function(O){var E=l(this,O);return!!E&&E.enumerable}:u},function(s,f,o){var u=o(36),l=o(34),v=Function.prototype,b=u&&Object.getOwnPropertyDescriptor,O=l(v,"name"),E=O&&function(){}.name==="something",P=O&&(!u||u&&b(v,"name").configurable);s.exports={EXISTS:O,PROPER:E,CONFIGURABLE:P}},function(s,f,o){var u=o(18),l=o(28),v=/#|\.prototype\./,b=function(M,N){var D=E[O(M)];return D==T?!0:D==P?!1:l(N)?u(N):!!N},O=b.normalize=function(M){return String(M).replace(v,".").toLowerCase()},E=b.data={},P=b.NATIVE="N",T=b.POLYFILL="P";s.exports=b},function(s,f,o){var u=o(7),l=o(34),v=o(28),b=o(38),O=o(91),E=o(137),P=O("IE_PROTO"),T=u.Object,M=T.prototype;s.exports=E?T.getPrototypeOf:function(N){var D=b(N);if(l(D,P))return D[P];var I=D.constructor;return v(I)&&D instanceof I?I.prototype:D instanceof T?M:null}},function(s,f,o){var u=o(15),l=o(32),v=o(172);s.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var b=!1,O={},E;try{E=u(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set),E(O,[]),b=O instanceof Array}catch{}return function(T,M){return l(T),v(M),b?E(T,M):T.__proto__=M,T}}():void 0)},function(s,f,o){var u=o(7),l=o(116),v=o(28),b=o(50),O=o(27),E=O("toStringTag"),P=u.Object,T=b(function(){return arguments}())=="Arguments",M=function(N,D){try{return N[D]}catch{}};s.exports=l?b:function(N){var D,I,_;return N===void 0?"Undefined":N===null?"Null":typeof(I=M(D=P(N),E))=="string"?I:T?b(D):(_=b(D))=="Object"&&v(D.callee)?"Arguments":_}},function(s,f,o){var u=o(50);s.exports=Array.isArray||function(v){return u(v)=="Array"}},function(s,f,o){var u=o(15),l=o(18),v=o(28),b=o(98),O=o(46),E=o(92),P=function(){},T=[],M=O("Reflect","construct"),N=/^\s*(?:class|function)\b/,D=u(N.exec),I=!N.exec(P),_=function(X){if(!v(X))return!1;try{return M(P,T,X),!0}catch{return!1}},$=function(X){if(!v(X))return!1;switch(b(X)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}return I||!!D(N,E(X))};s.exports=!M||l(function(){var X;return _(_.call)||!_(Object)||!_(function(){X=!0})||X})?$:_},function(s,f,o){var u=o(15);s.exports=u([].slice)},function(s,f,o){var u=o(35),l=o(15),v=o(40),b=o(184),O=o(151),E=o(84),P=o(54),T=o(56).get,M=o(185),N=o(186),D=E("native-string-replace",String.prototype.replace),I=RegExp.prototype.exec,_=I,$=l("".charAt),X=l("".indexOf),ue=l("".replace),le=l("".slice),ee=function(){var U=/a/,L=/b*/g;return u(I,U,"a"),u(I,L,"a"),U.lastIndex!==0||L.lastIndex!==0}(),Q=O.BROKEN_CARET,se=/()??/.exec("")[1]!==void 0,z=ee||se||Q||M||N;z&&(_=function(L){var A=this,R=T(A),W=v(L),Z=R.raw,ce,Pe,me,be,xe,Oe,Ae;if(Z)return Z.lastIndex=A.lastIndex,ce=u(_,Z,W),A.lastIndex=Z.lastIndex,ce;var Fe=R.groups,Ve=Q&&A.sticky,Be=u(b,A),Ee=A.source,_e=0,Xe=W;if(Ve&&(Be=ue(Be,"y",""),X(Be,"g")===-1&&(Be+="g"),Xe=le(W,A.lastIndex),A.lastIndex>0&&(!A.multiline||A.multiline&&$(W,A.lastIndex-1)!==`
`)&&(Ee="(?: "+Ee+")",Xe=" "+Xe,_e++),Pe=new RegExp("^(?:"+Ee+")",Be)),se&&(Pe=new RegExp("^"+Ee+"$(?!\\s)",Be)),ee&&(me=A.lastIndex),be=u(I,Ve?Pe:A,Xe),Ve?be?(be.input=le(be.input,_e),be[0]=le(be[0],_e),be.index=A.lastIndex,A.lastIndex+=be[0].length):A.lastIndex=0:ee&&be&&(A.lastIndex=A.global?be.index+be[0].length:me),se&&be&&be.length>1&&u(D,be[0],Pe,function(){for(xe=1;xe<arguments.length-2;xe++)arguments[xe]===void 0&&(be[xe]=void 0)}),be&&Fe)for(be.groups=Oe=P(null),xe=0;xe<Fe.length;xe++)Ae=Fe[xe],Oe[Ae[0]]=be[Ae[1]];return be}),s.exports=_},function(s,f,o){var u=o(16),l=o(7),v=o(68),b=o(69),O=o(43),E=o(38),P=o(119),T=o(61),M=o(76),N=M("splice"),D=l.TypeError,I=Math.max,_=Math.min,$=9007199254740991,X="Maximum allowed length exceeded";u({target:"Array",proto:!0,forced:!N},{splice:function(le,ee){var Q=E(this),se=O(Q),z=v(le,se),U=arguments.length,L,A,R,W,Z,ce;if(U===0?L=A=0:U===1?(L=0,A=se-z):(L=U-2,A=_(I(b(ee),0),se-z)),se+L-A>$)throw D(X);for(R=P(Q,A),W=0;W<A;W++)Z=z+W,Z in Q&&T(R,W,Q[Z]);if(R.length=A,L<A){for(W=z;W<se-A;W++)Z=W+A,ce=W+L,Z in Q?Q[ce]=Q[Z]:delete Q[ce];for(W=se;W>se-A+L;W--)delete Q[W-1]}else if(L>A)for(W=se-A;W>z;W--)Z=W+A-1,ce=W+L-1,Z in Q?Q[ce]=Q[Z]:delete Q[ce];for(W=0;W<L;W++)Q[W+z]=arguments[W+2];return Q.length=se-A+L,R}})},function(s,f,o){var u=o(16),l=o(201),v=o(202);u({target:"String",proto:!0,forced:v("anchor")},{anchor:function(O){return l(this,"a","name",O)}})},function(s,f,o){(function(u){var l=typeof u=="object"&&u&&u.Object===Object&&u;f.a=l}).call(this,o(82))},function(s,f,o){(function(u){var l=o(31),v=d&&!d.nodeType&&d,b=v&&typeof u=="object"&&u&&!u.nodeType&&u,O=b&&b.exports===v,E=O?l.a.Buffer:void 0,P=E?E.allocUnsafe:void 0;function T(M,N){if(N)return M.slice();var D=M.length,I=P?P(D):new M.constructor(D);return M.copy(I),I}f.a=T}).call(this,o(121)(s))},function(s,f,o){var u=o(7),l=o(108),v="__core-js_shared__",b=u[v]||l(v,{});s.exports=b},function(s,f,o){var u=o(7),l=Object.defineProperty;s.exports=function(v,b){try{l(u,v,{value:b,configurable:!0,writable:!0})}catch{u[v]=b}return b}},function(s,f,o){var u=o(66),l=o(18);s.exports=!!Object.getOwnPropertySymbols&&!l(function(){var v=Symbol();return!String(v)||!(Object(v)instanceof Symbol)||!Symbol.sham&&u&&u<41})},function(s,f){s.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(s,f,o){var u=o(16),l=o(35),v=o(65),b=o(94),O=o(28),E=o(171),P=o(96),T=o(97),M=o(74),N=o(57),D=o(44),I=o(27),_=o(71),$=o(136),X=b.PROPER,ue=b.CONFIGURABLE,le=$.IteratorPrototype,ee=$.BUGGY_SAFARI_ITERATORS,Q=I("iterator"),se="keys",z="values",U="entries",L=function(){return this};s.exports=function(A,R,W,Z,ce,Pe,me){E(W,R,Z);var be=function(k){if(k===ce&&Ve)return Ve;if(!ee&&k in Ae)return Ae[k];switch(k){case se:return function(){return new W(this,k)};case z:return function(){return new W(this,k)};case U:return function(){return new W(this,k)}}return function(){return new W(this)}},xe=R+" Iterator",Oe=!1,Ae=A.prototype,Fe=Ae[Q]||Ae["@@iterator"]||ce&&Ae[ce],Ve=!ee&&Fe||be(ce),Be=R=="Array"&&Ae.entries||Fe,Ee,_e,Xe;if(Be&&(Ee=P(Be.call(new A)),Ee!==Object.prototype&&Ee.next&&(!v&&P(Ee)!==le&&(T?T(Ee,le):O(Ee[Q])||D(Ee,Q,L)),M(Ee,xe,!0,!0),v&&(_[xe]=L))),X&&ce==z&&Fe&&Fe.name!==z&&(!v&&ue?N(Ae,"name",z):(Oe=!0,Ve=function(){return l(Fe,this)})),ce)if(_e={values:be(z),keys:Pe?Ve:be(se),entries:be(U)},me)for(Xe in _e)(ee||Oe||!(Xe in Ae))&&D(Ae,Xe,_e[Xe]);else u({target:R,proto:!0,forced:ee||Oe},_e);return(!v||me)&&Ae[Q]!==Ve&&D(Ae,Q,Ve,{name:ce}),_[R]=Ve,_e}},function(s,f){f.f=Object.getOwnPropertySymbols},function(s,f,o){var u=o(7),l=o(68),v=o(43),b=o(61),O=u.Array,E=Math.max;s.exports=function(P,T,M){for(var N=v(P),D=l(T,N),I=l(M===void 0?N:M,N),_=O(E(I-D,0)),$=0;D<I;D++,$++)b(_,$,P[D]);return _.length=$,_}},function(s,f,o){var u=o(7),l=o(62),v=o(35),b=o(32),O=o(89),E=o(140),P=o(43),T=o(58),M=o(141),N=o(115),D=o(142),I=u.TypeError,_=function(X,ue){this.stopped=X,this.result=ue},$=_.prototype;s.exports=function(X,ue,le){var ee=le&&le.that,Q=!!(le&&le.AS_ENTRIES),se=!!(le&&le.IS_ITERATOR),z=!!(le&&le.INTERRUPTED),U=l(ue,ee),L,A,R,W,Z,ce,Pe,me=function(xe){return L&&D(L,"normal",xe),new _(!0,xe)},be=function(xe){return Q?(b(xe),z?U(xe[0],xe[1],me):U(xe[0],xe[1])):z?U(xe,me):U(xe)};if(se)L=X;else{if(A=N(X),!A)throw I(O(X)+" is not iterable");if(E(A)){for(R=0,W=P(X);W>R;R++)if(Z=be(X[R]),Z&&T($,Z))return Z;return new _(!1)}L=M(X,A)}for(ce=L.next;!(Pe=v(ce,L)).done;){try{Z=be(Pe.value)}catch(xe){D(L,"throw",xe)}if(typeof Z=="object"&&Z&&T($,Z))return Z}return new _(!1)}},function(s,f,o){var u=o(98),l=o(59),v=o(71),b=o(27),O=b("iterator");s.exports=function(E){if(E!=null)return l(E,O)||l(E,"@@iterator")||v[u(E)]}},function(s,f,o){var u=o(27),l=u("toStringTag"),v={};v[l]="z",s.exports=String(v)==="[object z]"},function(s,f,o){var u=o(7),l=o(58),v=u.TypeError;s.exports=function(b,O){if(l(O,b))return b;throw v("Incorrect invocation")}},function(s,f,o){var u=o(27),l=u("iterator"),v=!1;try{var b=0,O={next:function(){return{done:!!b++}},return:function(){v=!0}};O[l]=function(){return this},Array.from(O,function(){throw 2})}catch{}s.exports=function(E,P){if(!P&&!v)return!1;var T=!1;try{var M={};M[l]=function(){return{next:function(){return{done:T=!0}}}},E(M)}catch{}return T}},function(s,f,o){var u=o(180);s.exports=function(l,v){return new(u(l))(v===0?0:v)}},function(s,f,o){var u=o(18);s.exports=function(l,v){var b=[][l];return!!b&&u(function(){b.call(null,v||function(){throw 1},1)})}},function(s,f){s.exports=function(o){if(!o.webpackPolyfill){var u=Object.create(o);u.children||(u.children=[]),Object.defineProperty(u,"loaded",{enumerable:!0,get:function(){return u.l}}),Object.defineProperty(u,"id",{enumerable:!0,get:function(){return u.i}}),Object.defineProperty(u,"exports",{enumerable:!0}),u.webpackPolyfill=1}return u}},function(s,f,o){o(19);var u=o(15),l=o(44),v=o(102),b=o(18),O=o(27),E=o(57),P=O("species"),T=RegExp.prototype;s.exports=function(M,N,D,I){var _=O(M),$=!b(function(){var ee={};return ee[_]=function(){return 7},""[M](ee)!=7}),X=$&&!b(function(){var ee=!1,Q=/a/;return M==="split"&&(Q={},Q.constructor={},Q.constructor[P]=function(){return Q},Q.flags="",Q[_]=/./[_]),Q.exec=function(){return ee=!0,null},Q[_](""),!ee});if(!$||!X||D){var ue=u(/./[_]),le=N(_,""[M],function(ee,Q,se,z,U){var L=u(ee),A=Q.exec;return A===v||A===T.exec?$&&!U?{done:!0,value:ue(Q,se,z)}:{done:!0,value:L(se,Q,z)}:{done:!1}});l(String.prototype,M,le[0]),l(T,_,le[1])}I&&E(T[_],"sham",!0)}},function(s,f,o){var u=o(146).charAt;s.exports=function(l,v,b){return v+(b?u(l,v).length:1)}},function(s,f,o){var u=o(7),l=o(35),v=o(32),b=o(28),O=o(50),E=o(102),P=u.TypeError;s.exports=function(T,M){var N=T.exec;if(b(N)){var D=l(N,T,M);return D!==null&&v(D),D}if(O(T)==="RegExp")return l(E,T,M);throw P("RegExp#exec called on incompatible receiver")}},function(s,f,o){var u=o(77),l=o(35),v=o(15),b=o(122),O=o(18),E=o(32),P=o(28),T=o(69),M=o(90),N=o(40),D=o(45),I=o(123),_=o(59),$=o(197),X=o(124),ue=o(27),le=ue("replace"),ee=Math.max,Q=Math.min,se=v([].concat),z=v([].push),U=v("".indexOf),L=v("".slice),A=function(ce){return ce===void 0?ce:String(ce)},R=function(){return"a".replace(/./,"$0")==="$0"}(),W=function(){return/./[le]?/./[le]("a","$0")==="":!1}(),Z=!O(function(){var ce=/./;return ce.exec=function(){var Pe=[];return Pe.groups={a:"7"},Pe},"".replace(ce,"$<a>")!=="7"});b("replace",function(ce,Pe,me){var be=W?"$":"$0";return[function(Oe,Ae){var Fe=D(this),Ve=Oe==null?void 0:_(Oe,le);return Ve?l(Ve,Oe,Fe,Ae):l(Pe,N(Fe),Oe,Ae)},function(xe,Oe){var Ae=E(this),Fe=N(xe);if(typeof Oe=="string"&&U(Oe,be)===-1&&U(Oe,"$<")===-1){var Ve=me(Pe,Ae,Fe,Oe);if(Ve.done)return Ve.value}var Be=P(Oe);Be||(Oe=N(Oe));var Ee=Ae.global;if(Ee){var _e=Ae.unicode;Ae.lastIndex=0}for(var Xe=[];;){var k=X(Ae,Fe);if(k===null||(z(Xe,k),!Ee))break;var Y=N(k[0]);Y===""&&(Ae.lastIndex=I(Fe,M(Ae.lastIndex),_e))}for(var q="",he=0,Se=0;Se<Xe.length;Se++){k=Xe[Se];for(var pe=N(k[0]),He=ee(Q(T(k.index),Fe.length),0),tt=[],Ke=1;Ke<k.length;Ke++)z(tt,A(k[Ke]));var it=k.groups;if(Be){var ve=se([pe],tt,He,Fe);it!==void 0&&z(ve,it);var lt=N(u(Oe,void 0,ve))}else lt=$(pe,Fe,He,tt,it,Oe);He>=he&&(q+=L(Fe,he,He)+lt,he=He+pe.length)}return q+L(Fe,he)}]},!Z||!R||W)},function(s,f,o){var u=o(50),l=o(7);s.exports=u(l.process)=="process"},function(s,f,o){var u=o(16);u({target:"Number",stat:!0},{MIN_SAFE_INTEGER:-9007199254740991})},function(s,f,o){var u=o(109);s.exports=u&&!Symbol.sham&&typeof Symbol.iterator=="symbol"},function(s,f,o){var u=o(36),l=o(18),v=o(86);s.exports=!u&&!l(function(){return Object.defineProperty(v("div"),"a",{get:function(){return 7}}).a!=7})},function(s,f,o){var u=o(7),l=o(35),v=o(33),b=o(88),O=o(59),E=o(169),P=o(27),T=u.TypeError,M=P("toPrimitive");s.exports=function(N,D){if(!v(N)||b(N))return N;var I=O(N,M),_;if(I){if(D===void 0&&(D="default"),_=l(I,N,D),!v(_)||b(_))return _;throw T("Can't convert object to primitive value")}return D===void 0&&(D="number"),E(N,D)}},function(s,f,o){var u=o(15),l=o(34),v=o(39),b=o(132).indexOf,O=o(70),E=u([].push);s.exports=function(P,T){var M=v(P),N=0,D=[],I;for(I in M)!l(O,I)&&l(M,I)&&E(D,I);for(;T.length>N;)l(M,I=T[N++])&&(~b(D,I)||E(D,I));return D}},function(s,f,o){var u=o(39),l=o(68),v=o(43),b=function(O){return function(E,P,T){var M=u(E),N=v(M),D=l(T,N),I;if(O&&P!=P){for(;N>D;)if(I=M[D++],I!=I)return!0}else for(;N>D;D++)if((O||D in M)&&M[D]===P)return O||D||0;return!O&&-1}};s.exports={includes:b(!0),indexOf:b(!1)}},function(s,f,o){var u=o(46);s.exports=u("document","documentElement")},function(s,f,o){var u=o(34),l=o(135),v=o(51),b=o(37);s.exports=function(O,E){for(var P=l(E),T=b.f,M=v.f,N=0;N<P.length;N++){var D=P[N];u(O,D)||T(O,D,M(E,D))}}},function(s,f,o){var u=o(46),l=o(15),v=o(73),b=o(112),O=o(32),E=l([].concat);s.exports=u("Reflect","ownKeys")||function(T){var M=v.f(O(T)),N=b.f;return N?E(M,N(T)):M}},function(s,f,o){var u=o(18),l=o(28),v=o(54),b=o(96),O=o(44),E=o(27),P=o(65),T=E("iterator"),M=!1,N,D,I;[].keys&&(I=[].keys(),"next"in I?(D=b(b(I)),D!==Object.prototype&&(N=D)):M=!0);var _=N==null||u(function(){var $={};return N[T].call($)!==$});_?N={}:P&&(N=v(N)),l(N[T])||O(N,T,function(){return this}),s.exports={IteratorPrototype:N,BUGGY_SAFARI_ITERATORS:M}},function(s,f,o){var u=o(18);s.exports=!u(function(){function l(){}return l.prototype.constructor=null,Object.getPrototypeOf(new l)!==l.prototype})},function(s,f,o){var u=o(16),l=o(15),v=o(70),b=o(33),O=o(34),E=o(37).f,P=o(73),T=o(139),M=o(174),N=o(85),D=o(176),I=!1,_=N("meta"),$=0,X=function(z){E(z,_,{value:{objectID:"O"+$++,weakData:{}}})},ue=function(z,U){if(!b(z))return typeof z=="symbol"?z:(typeof z=="string"?"S":"P")+z;if(!O(z,_)){if(!M(z))return"F";if(!U)return"E";X(z)}return z[_].objectID},le=function(z,U){if(!O(z,_)){if(!M(z))return!0;if(!U)return!1;X(z)}return z[_].weakData},ee=function(z){return D&&I&&M(z)&&!O(z,_)&&X(z),z},Q=function(){se.enable=function(){},I=!0;var z=P.f,U=l([].splice),L={};L[_]=1,z(L).length&&(P.f=function(A){for(var R=z(A),W=0,Z=R.length;W<Z;W++)if(R[W]===_){U(R,W,1);break}return R},u({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:T.f}))},se=s.exports={enable:Q,fastKey:ue,getWeakData:le,onFreeze:ee};v[_]=!0},function(s,f,o){var u=o(50),l=o(39),v=o(73).f,b=o(113),O=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],E=function(P){try{return v(P)}catch{return b(O)}};s.exports.f=function(T){return O&&u(T)=="Window"?E(T):v(l(T))}},function(s,f,o){var u=o(27),l=o(71),v=u("iterator"),b=Array.prototype;s.exports=function(O){return O!==void 0&&(l.Array===O||b[v]===O)}},function(s,f,o){var u=o(7),l=o(35),v=o(55),b=o(32),O=o(89),E=o(115),P=u.TypeError;s.exports=function(T,M){var N=arguments.length<2?E(T):M;if(v(N))return b(l(N,T));throw P(O(T)+" is not iterable")}},function(s,f,o){var u=o(35),l=o(32),v=o(59);s.exports=function(b,O,E){var P,T;l(b);try{if(P=v(b,"return"),!P){if(O==="throw")throw E;return E}P=u(P,b)}catch(M){T=!0,P=M}if(O==="throw")throw E;if(T)throw P;return l(P),E}},function(s,f,o){var u=o(28),l=o(33),v=o(97);s.exports=function(b,O,E){var P,T;return v&&u(P=O.constructor)&&P!==E&&l(T=P.prototype)&&T!==E.prototype&&v(b,T),b}},function(s,f,o){var u=o(44);s.exports=function(l,v,b){for(var O in v)u(l,O,v[O],b);return l}},function(s,f,o){var u=o(46),l=o(37),v=o(27),b=o(36),O=v("species");s.exports=function(E){var P=u(E),T=l.f;b&&P&&!P[O]&&T(P,O,{configurable:!0,get:function(){return this}})}},function(s,f,o){var u=o(15),l=o(69),v=o(40),b=o(45),O=u("".charAt),E=u("".charCodeAt),P=u("".slice),T=function(M){return function(N,D){var I=v(b(N)),_=l(D),$=I.length,X,ue;return _<0||_>=$?M?"":void 0:(X=E(I,_),X<55296||X>56319||_+1===$||(ue=E(I,_+1))<56320||ue>57343?M?O(I,_):X:M?P(I,_,_+2):(X-55296<<10)+(ue-56320)+65536)}};s.exports={codeAt:T(!1),charAt:T(!0)}},function(s,f){s.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},function(s,f,o){var u=o(86),l=u("span").classList,v=l&&l.constructor&&l.constructor.prototype;s.exports=v===Object.prototype?void 0:v},function(s,f,o){var u=o(27);f.f=u},function(s,f,o){var u=o(181),l=o(34),v=o(149),b=o(37).f;s.exports=function(O){var E=u.Symbol||(u.Symbol={});l(E,O)||b(E,O,{value:v.f(O)})}},function(s,f,o){var u=o(18),l=o(7),v=l.RegExp,b=u(function(){var P=v("a","y");return P.lastIndex=2,P.exec("abcd")!=null}),O=b||u(function(){return!v("a","y").sticky}),E=b||u(function(){var P=v("^r","gy");return P.lastIndex=2,P.exec("str")!=null});s.exports={BROKEN_CARET:E,MISSED_STICKY:O,UNSUPPORTED_Y:b}},function(s,f,o){var u=o(16),l=o(132).includes,v=o(83);u({target:"Array",proto:!0},{includes:function(O){return l(this,O,arguments.length>1?arguments[1]:void 0)}}),v("includes")},function(s,f,o){var u=o(16),l=o(15),v=o(193),b=o(45),O=o(40),E=o(194),P=l("".indexOf);u({target:"String",proto:!0,forced:!E("includes")},{includes:function(M){return!!~P(O(b(this)),O(v(M)),arguments.length>1?arguments[1]:void 0)}})},function(s,f,o){var u=o(33),l=o(50),v=o(27),b=v("match");s.exports=function(O){var E;return u(O)&&((E=O[b])!==void 0?!!E:l(O)=="RegExp")}},function(s,f){var o=s.exports={},u,l;function v(){throw new Error("setTimeout has not been defined")}function b(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?u=setTimeout:u=v}catch{u=v}try{typeof clearTimeout=="function"?l=clearTimeout:l=b}catch{l=b}})();function O(X){if(u===setTimeout)return setTimeout(X,0);if((u===v||!u)&&setTimeout)return u=setTimeout,setTimeout(X,0);try{return u(X,0)}catch{try{return u.call(null,X,0)}catch{return u.call(this,X,0)}}}function E(X){if(l===clearTimeout)return clearTimeout(X);if((l===b||!l)&&clearTimeout)return l=clearTimeout,clearTimeout(X);try{return l(X)}catch{try{return l.call(null,X)}catch{return l.call(this,X)}}}var P=[],T=!1,M,N=-1;function D(){!T||!M||(T=!1,M.length?P=M.concat(P):N=-1,P.length&&I())}function I(){if(!T){var X=O(D);T=!0;for(var ue=P.length;ue;){for(M=P,P=[];++N<ue;)M&&M[N].run();N=-1,ue=P.length}M=null,T=!1,E(X)}}o.nextTick=function(X){var ue=new Array(arguments.length-1);if(arguments.length>1)for(var le=1;le<arguments.length;le++)ue[le-1]=arguments[le];P.push(new _(X,ue)),P.length===1&&!T&&O(I)};function _(X,ue){this.fun=X,this.array=ue}_.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={};function $(){}o.on=$,o.addListener=$,o.once=$,o.off=$,o.removeListener=$,o.removeAllListeners=$,o.emit=$,o.prependListener=$,o.prependOnceListener=$,o.listeners=function(X){return[]},o.binding=function(X){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(X){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(s,f,o){var u=o(32),l=o(157),v=o(27),b=v("species");s.exports=function(O,E){var P=u(O).constructor,T;return P===void 0||(T=u(P)[b])==null?E:l(T)}},function(s,f,o){var u=o(7),l=o(100),v=o(89),b=u.TypeError;s.exports=function(O){if(l(O))return O;throw b(v(O)+" is not a constructor")}},function(s,f,o){var u=o(16),l=o(159).trim,v=o(195);u({target:"String",proto:!0,forced:v("trim")},{trim:function(){return l(this)}})},function(s,f,o){var u=o(15),l=o(45),v=o(40),b=o(160),O=u("".replace),E="["+b+"]",P=RegExp("^"+E+E+"*"),T=RegExp(E+E+"*$"),M=function(N){return function(D){var I=v(l(D));return N&1&&(I=O(I,P,"")),N&2&&(I=O(I,T,"")),I}};s.exports={start:M(1),end:M(2),trim:M(3)}},function(s,f){s.exports=`	
\v\f\r \u2028\u2029\uFEFF`},function(s,f,o){var u=o(35),l=o(122),v=o(32),b=o(90),O=o(40),E=o(45),P=o(59),T=o(123),M=o(124);l("match",function(N,D,I){return[function($){var X=E(this),ue=$==null?void 0:P($,N);return ue?u(ue,$,X):new RegExp($)[N](O(X))},function(_){var $=v(this),X=O(_),ue=I(D,$,X);if(ue.done)return ue.value;if(!$.global)return M($,X);var le=$.unicode;$.lastIndex=0;for(var ee=[],Q=0,se;(se=M($,X))!==null;){var z=O(se[0]);ee[Q]=z,z===""&&($.lastIndex=T(X,b($.lastIndex),le)),Q++}return Q===0?null:ee}]})},function(s,f,o){var u=o(7),l=o(77),v=o(62),b=o(28),O=o(34),E=o(18),P=o(133),T=o(101),M=o(86),N=o(163),D=o(126),I=u.setImmediate,_=u.clearImmediate,$=u.process,X=u.Dispatch,ue=u.Function,le=u.MessageChannel,ee=u.String,Q=0,se={},z="onreadystatechange",U,L,A,R;try{U=u.location}catch{}var W=function(me){if(O(se,me)){var be=se[me];delete se[me],be()}},Z=function(me){return function(){W(me)}},ce=function(me){W(me.data)},Pe=function(me){u.postMessage(ee(me),U.protocol+"//"+U.host)};(!I||!_)&&(I=function(be){var xe=T(arguments,1);return se[++Q]=function(){l(b(be)?be:ue(be),void 0,xe)},L(Q),Q},_=function(be){delete se[be]},D?L=function(me){$.nextTick(Z(me))}:X&&X.now?L=function(me){X.now(Z(me))}:le&&!N?(A=new le,R=A.port2,A.port1.onmessage=ce,L=v(R.postMessage,R)):u.addEventListener&&b(u.postMessage)&&!u.importScripts&&U&&U.protocol!=="file:"&&!E(Pe)?(L=Pe,u.addEventListener("message",ce,!1)):z in M("script")?L=function(me){P.appendChild(M("script"))[z]=function(){P.removeChild(this),W(me)}}:L=function(me){setTimeout(Z(me),0)}),s.exports={set:I,clear:_}},function(s,f,o){var u=o(53);s.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(u)},function(s,f,o){var u=o(55),l=function(v){var b,O;this.promise=new v(function(E,P){if(b!==void 0||O!==void 0)throw TypeError("Bad Promise constructor");b=E,O=P}),this.resolve=u(b),this.reject=u(O)};s.exports.f=function(v){return new l(v)}},function(s,f,o){function u(){return!1}f.a=u},function(s,f,o){(function(u){o.d(f,"a",function(){return Q});var l=o(0);function v(z){throw new Error("[mobx-utils] "+z)}function b(z,U){U===void 0&&(U="Illegal state"),z||v(U)}var O=function(z){return z&&z!==Object.prototype&&Object.getOwnPropertyNames(z).concat(O(Object.getPrototypeOf(z))||[])},E=function(z){var U=O(z),L=U.filter(function(A,R){return U.indexOf(A)===R});return L},P=function(z){return E(z).filter(function(U){return U!=="constructor"&&!~U.indexOf("__")})},T="pending",M="fulfilled",N="rejected";function D(z){switch(this.state){case T:return z.pending&&z.pending(this.value);case N:return z.rejected&&z.rejected(this.value);case M:return z.fulfilled?z.fulfilled(this.value):this.value}}function I(z,U){if(b(arguments.length<=2,"fromPromise expects up to two arguments"),b(typeof z=="function"||typeof z=="object"&&z&&typeof z.then=="function","Please pass a promise or function to fromPromise"),z.isPromiseBasedObservable===!0)return z;typeof z=="function"&&(z=new Promise(z));var L=z;z.then(Object(l.k)("observableFromPromise-resolve",function(R){L.value=R,L.state=M}),Object(l.k)("observableFromPromise-reject",function(R){L.value=R,L.state=N})),L.isPromiseBasedObservable=!0,L.case=D;var A=U&&U.state===M?U.value:void 0;return Object(l.q)(L,{value:A,state:T},{},{deep:!1}),L}(function(z){z.reject=Object(l.k)("fromPromise.reject",function(L){var A=z(Promise.reject(L));return A.state=N,A.value=L,A});function U(L){L===void 0&&(L=void 0);var A=z(Promise.resolve(L));return A.state=M,A.value=L,A}z.resolve=Object(l.k)("fromPromise.resolve",U)})(I||(I={}));var _=function(z,U,L,A){var R=arguments.length,W=R<3?U:A===null?A=Object.getOwnPropertyDescriptor(U,L):A,Z;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")W=Reflect.decorate(z,U,L,A);else for(var ce=z.length-1;ce>=0;ce--)(Z=z[ce])&&(W=(R<3?Z(W):R>3?Z(U,L,W):Z(U,L))||W);return R>3&&W&&Object.defineProperty(U,L,W),W};(function(){function z(U,L){var A=this;Object(l.G)(function(){A.current=L,A.subscription=U.subscribe(A)})}return z.prototype.dispose=function(){this.subscription&&this.subscription.unsubscribe()},z.prototype.next=function(U){this.current=U},z.prototype.complete=function(){this.dispose()},z.prototype.error=function(U){this.current=U,this.dispose()},_([l.C.ref],z.prototype,"current",void 0),_([l.k.bound],z.prototype,"next",null),_([l.k.bound],z.prototype,"complete",null),_([l.k.bound],z.prototype,"error",null),z})();var $=function(){return $=Object.assign||function(z){for(var U,L=1,A=arguments.length;L<A;L++){U=arguments[L];for(var R in U)Object.prototype.hasOwnProperty.call(U,R)&&(z[R]=U[R])}return z},$.apply(this,arguments)},X=function(z,U,L,A){var R=arguments.length,W=R<3?U:A===null?A=Object.getOwnPropertyDescriptor(U,L):A,Z;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")W=Reflect.decorate(z,U,L,A);else for(var ce=z.length-1;ce>=0;ce--)(Z=z[ce])&&(W=(R<3?Z(W):R>3?Z(U,L,W):Z(U,L))||W);return R>3&&W&&Object.defineProperty(U,L,W),W},ue=["model","reset","submit","isDirty","isPropertyDirty","resetProperty"];(function(){function z(U){var L=this;this.model=U,this.localValues=l.C.map({}),this.localComputedValues=l.C.map({}),this.isPropertyDirty=function(A){return L.localValues.has(A)},b(Object(l.A)(U),"createViewModel expects an observable object"),P(U).forEach(function(A){if(!(A===l.a||A==="__mobxDidRunLazyInitializers")){if(b(ue.indexOf(A)===-1,"The propertyname "+A+" is reserved and cannot be used with viewModels"),Object(l.w)(U,A)){var R=Object(l.h)(U,A).derivation;L.localComputedValues.set(A,Object(l.m)(R.bind(L)))}var W=Object.getOwnPropertyDescriptor(U,A),Z=W?{enumerable:W.enumerable}:{};Object.defineProperty(L,A,$($({},Z),{configurable:!0,get:function(){return Object(l.w)(U,A)?L.localComputedValues.get(A).get():L.isPropertyDirty(A)?L.localValues.get(A):L.model[A]},set:Object(l.k)(function(ce){ce!==L.model[A]?L.localValues.set(A,ce):L.localValues.delete(A)})}))}})}return Object.defineProperty(z.prototype,"isDirty",{get:function(){return this.localValues.size>0},enumerable:!1,configurable:!0}),Object.defineProperty(z.prototype,"changedValues",{get:function(){return this.localValues.toJS()},enumerable:!1,configurable:!0}),z.prototype.submit=function(){var U=this;Object(l.B)(this.localValues).forEach(function(L){var A=U.localValues.get(L),R=U.model[L];Object(l.y)(R)?R.replace(A):Object(l.z)(R)?(R.clear(),R.merge(A)):Object(l.v)(A)||(U.model[L]=A)}),this.localValues.clear()},z.prototype.reset=function(){this.localValues.clear()},z.prototype.resetProperty=function(U){this.localValues.delete(U)},X([l.m],z.prototype,"isDirty",null),X([l.m],z.prototype,"changedValues",null),X([l.k.bound],z.prototype,"submit",null),X([l.k.bound],z.prototype,"reset",null),X([l.k.bound],z.prototype,"resetProperty",null),z})();function le(z){if(!z)return"ROOT";for(var U=[];z.parent;)U.push(z.path),z=z.parent;return U.reverse().join("/")}function ee(z){return Object(l.A)(z)||Object(l.y)(z)||Object(l.z)(z)}function Q(z,U){var L=new WeakMap;function A(ce){var Pe=L.get(ce.object);R(ce,Pe),U(ce,le(Pe),z)}function R(ce,Pe){switch(ce.type){case"add":W(ce.newValue,Pe,ce.name);break;case"update":Z(ce.oldValue),W(ce.newValue,Pe,ce.name||""+ce.index);break;case"remove":case"delete":Z(ce.oldValue);break;case"splice":ce.removed.map(Z),ce.added.forEach(function(xe,Oe){return W(xe,Pe,""+(ce.index+Oe))});for(var me=ce.index+ce.addedCount;me<ce.object.length;me++)if(ee(ce.object[me])){var be=L.get(ce.object[me]);be&&(be.path=""+me)}break}}function W(ce,Pe,me){if(ee(ce)){var be=L.get(ce);if(be){if(be.parent!==Pe||be.path!==me)throw new Error("The same observable object cannot appear twice in the same tree,"+(" trying to assign it to '"+le(Pe)+"/"+me+"',")+(" but it already exists at '"+le(be.parent)+"/"+be.path+"'"))}else{var xe={parent:Pe,path:me,dispose:Object(l.D)(ce,A)};L.set(ce,xe),Object(l.p)(ce).forEach(function(Oe){var Ae=Oe[0],Fe=Oe[1];return W(Fe,xe,Ae)})}}}function Z(ce){if(ee(ce)){var Pe=L.get(ce);if(!Pe)return;L.delete(ce),Pe.dispose(),Object(l.L)(ce).forEach(Z)}}return W(z,void 0,""),function(){Z(z)}}var se=function(){var z=function(U,L){return z=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A,R){A.__proto__=R}||function(A,R){for(var W in R)R.hasOwnProperty(W)&&(A[W]=R[W])},z(U,L)};return function(U,L){z(U,L);function A(){this.constructor=U}U.prototype=L===null?Object.create(L):(A.prototype=L.prototype,new A)}}();(function(z){se(U,z);function U(L,A,R){var W=R===void 0?{}:R,Z=W.name,ce=Z===void 0?"ogm"+(Math.random()*1e3|0):Z,Pe=W.keyToName,me=Pe===void 0?function(Oe){return""+Oe}:Pe,be=z.call(this)||this;be._keyToName=me,be._groupBy=A,be._ogmInfoKey=Symbol("ogmInfo"+ce),be._base=L;for(var xe=0;xe<L.length;xe++)be._addItem(L[xe]);return be._disposeBaseObserver=Object(l.D)(be._base,function(Oe){if(Oe.type==="splice")Object(l.J)(function(){for(var Ae=0,Fe=Oe.removed;Ae<Fe.length;Ae++){var Ve=Fe[Ae];be._removeItem(Ve)}for(var Be=0,Ee=Oe.added;Be<Ee.length;Be++){var _e=Ee[Be];be._addItem(_e)}});else if(Oe.type==="update")Object(l.J)(function(){be._removeItem(Oe.oldValue),be._addItem(Oe.newValue)});else throw new Error("illegal state")}),be}return U.prototype.clear=function(){throw new Error("not supported")},U.prototype.delete=function(L){throw new Error("not supported")},U.prototype.set=function(L,A){throw new Error("not supported")},U.prototype.dispose=function(){this._disposeBaseObserver();for(var L=0;L<this._base.length;L++){var A=this._base[L],R=A[this._ogmInfoKey];R.reaction(),delete A[this._ogmInfoKey]}},U.prototype._getGroupArr=function(L){var A=z.prototype.get.call(this,L);return A===void 0&&(A=Object(l.C)([],{name:"GroupArray["+this._keyToName(L)+"]",deep:!1}),z.prototype.set.call(this,L,A)),A},U.prototype._removeFromGroupArr=function(L,A){var R=z.prototype.get.call(this,L);R.length===1?z.prototype.delete.call(this,L):(A===R.length-1||(R[A]=R[R.length-1],R[A][this._ogmInfoKey].groupArrIndex=A),R.length--)},U.prototype._addItem=function(L){var A=this,R=this._groupBy(L),W=this._getGroupArr(R),Z={groupByValue:R,groupArrIndex:W.length,reaction:Object(l.F)(function(){return A._groupBy(L)},function(ce,Pe){var me=L[A._ogmInfoKey];A._removeFromGroupArr(me.groupByValue,me.groupArrIndex);var be=A._getGroupArr(ce),xe=be.length;be.push(L),me.groupByValue=ce,me.groupArrIndex=xe})};Object.defineProperty(L,this._ogmInfoKey,{configurable:!0,enumerable:!1,value:Z}),W.push(L)},U.prototype._removeItem=function(L){var A=L[this._ogmInfoKey];this._removeFromGroupArr(A.groupByValue,A.groupArrIndex),A.reaction(),delete L[this._ogmInfoKey]},U})(l.b),Promise.resolve(),typeof queueMicrotask<"u"||typeof u<"u"&&u.nextTick}).call(this,o(155))},function(s,f,o){var u;(function(l,v,b){if(!l)return;for(var O={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta"},E={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},P={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},T={option:"alt",command:"meta",return:"enter",escape:"esc",plus:"+",mod:/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"meta":"ctrl"},M,N=1;N<20;++N)O[111+N]="f"+N;for(N=0;N<=9;++N)O[N+96]=N.toString();function D(A,R,W){if(A.addEventListener){A.addEventListener(R,W,!1);return}A.attachEvent("on"+R,W)}function I(A){if(A.type=="keypress"){var R=String.fromCharCode(A.which);return A.shiftKey||(R=R.toLowerCase()),R}return O[A.which]?O[A.which]:E[A.which]?E[A.which]:String.fromCharCode(A.which).toLowerCase()}function _(A,R){return A.sort().join(",")===R.sort().join(",")}function $(A){var R=[];return A.shiftKey&&R.push("shift"),A.altKey&&R.push("alt"),A.ctrlKey&&R.push("ctrl"),A.metaKey&&R.push("meta"),R}function X(A){if(A.preventDefault){A.preventDefault();return}A.returnValue=!1}function ue(A){if(A.stopPropagation){A.stopPropagation();return}A.cancelBubble=!0}function le(A){return A=="shift"||A=="ctrl"||A=="alt"||A=="meta"}function ee(){if(!M){M={};for(var A in O)A>95&&A<112||O.hasOwnProperty(A)&&(M[O[A]]=A)}return M}function Q(A,R,W){return W||(W=ee()[A]?"keydown":"keypress"),W=="keypress"&&R.length&&(W="keydown"),W}function se(A){return A==="+"?["+"]:(A=A.replace(/\+{2}/g,"+plus"),A.split("+"))}function z(A,R){var W,Z,ce,Pe=[];for(W=se(A),ce=0;ce<W.length;++ce)Z=W[ce],T[Z]&&(Z=T[Z]),R&&R!="keypress"&&P[Z]&&(Z=P[Z],Pe.push("shift")),le(Z)&&Pe.push(Z);return R=Q(Z,Pe,R),{key:Z,modifiers:Pe,action:R}}function U(A,R){return A===null||A===v?!1:A===R?!0:U(A.parentNode,R)}function L(A){var R=this;if(A=A||v,!(R instanceof L))return new L(A);R.target=A,R._callbacks={},R._directMap={};var W={},Z,ce=!1,Pe=!1,me=!1;function be(Ee){Ee=Ee||{};var _e=!1,Xe;for(Xe in W){if(Ee[Xe]){_e=!0;continue}W[Xe]=0}_e||(me=!1)}function xe(Ee,_e,Xe,k,Y,q){var he,Se,pe=[],He=Xe.type;if(!R._callbacks[Ee])return[];for(He=="keyup"&&le(Ee)&&(_e=[Ee]),he=0;he<R._callbacks[Ee].length;++he)if(Se=R._callbacks[Ee][he],!(!k&&Se.seq&&W[Se.seq]!=Se.level)&&He==Se.action&&(He=="keypress"&&!Xe.metaKey&&!Xe.ctrlKey||_(_e,Se.modifiers))){var tt=!k&&Se.combo==Y,Ke=k&&Se.seq==k&&Se.level==q;(tt||Ke)&&R._callbacks[Ee].splice(he,1),pe.push(Se)}return pe}function Oe(Ee,_e,Xe,k){R.stopCallback(_e,_e.target||_e.srcElement,Xe,k)||Ee(_e,Xe)===!1&&(X(_e),ue(_e))}R._handleKey=function(Ee,_e,Xe){var k=xe(Ee,_e,Xe),Y,q={},he=0,Se=!1;for(Y=0;Y<k.length;++Y)k[Y].seq&&(he=Math.max(he,k[Y].level));for(Y=0;Y<k.length;++Y){if(k[Y].seq){if(k[Y].level!=he)continue;Se=!0,q[k[Y].seq]=1,Oe(k[Y].callback,Xe,k[Y].combo,k[Y].seq);continue}Se||Oe(k[Y].callback,Xe,k[Y].combo)}var pe=Xe.type=="keypress"&&Pe;Xe.type==me&&!le(Ee)&&!pe&&be(q),Pe=Se&&Xe.type=="keydown"};function Ae(Ee){typeof Ee.which!="number"&&(Ee.which=Ee.keyCode);var _e=I(Ee);if(_e){if(Ee.type=="keyup"&&ce===_e){ce=!1;return}R.handleKey(_e,$(Ee),Ee)}}function Fe(){clearTimeout(Z),Z=setTimeout(be,1e3)}function Ve(Ee,_e,Xe,k){W[Ee]=0;function Y(He){return function(){me=He,++W[Ee],Fe()}}function q(He){Oe(Xe,He,Ee),k!=="keyup"&&(ce=I(He)),setTimeout(be,10)}for(var he=0;he<_e.length;++he){var Se=he+1===_e.length,pe=Se?q:Y(k||z(_e[he+1]).action);Be(_e[he],pe,k,Ee,he)}}function Be(Ee,_e,Xe,k,Y){R._directMap[Ee+":"+Xe]=_e,Ee=Ee.replace(/\s+/g," ");var q=Ee.split(" "),he;if(q.length>1){Ve(Ee,q,_e,Xe);return}he=z(Ee,Xe),R._callbacks[he.key]=R._callbacks[he.key]||[],xe(he.key,he.modifiers,{type:he.action},k,Ee,Y),R._callbacks[he.key][k?"unshift":"push"]({callback:_e,modifiers:he.modifiers,action:he.action,seq:k,level:Y,combo:Ee})}R._bindMultiple=function(Ee,_e,Xe){for(var k=0;k<Ee.length;++k)Be(Ee[k],_e,Xe)},D(A,"keypress",Ae),D(A,"keydown",Ae),D(A,"keyup",Ae)}L.prototype.bind=function(A,R,W){var Z=this;return A=A instanceof Array?A:[A],Z._bindMultiple.call(Z,A,R,W),Z},L.prototype.unbind=function(A,R){var W=this;return W.bind.call(W,A,function(){},R)},L.prototype.trigger=function(A,R){var W=this;return W._directMap[A+":"+R]&&W._directMap[A+":"+R]({},A),W},L.prototype.reset=function(){var A=this;return A._callbacks={},A._directMap={},A},L.prototype.stopCallback=function(A,R){var W=this;if((" "+R.className+" ").indexOf(" mousetrap ")>-1||U(R,W.target))return!1;if("composedPath"in A&&typeof A.composedPath=="function"){var Z=A.composedPath()[0];Z!==A.target&&(R=Z)}return R.tagName=="INPUT"||R.tagName=="SELECT"||R.tagName=="TEXTAREA"||R.isContentEditable},L.prototype.handleKey=function(){var A=this;return A._handleKey.apply(A,arguments)},L.addKeycodes=function(A){for(var R in A)A.hasOwnProperty(R)&&(O[R]=A[R]);M=null},L.init=function(){var A=L(v);for(var R in A)R.charAt(0)!=="_"&&(L[R]=function(W){return function(){return A[W].apply(A,arguments)}}(R))},L.init(),l.Mousetrap=L,s.exports&&(s.exports=L),u=function(){return L}.call(f,o,f,s),u!==b&&(s.exports=u)})(typeof window<"u"?window:null,typeof window<"u"?document:null)},function(s,f,o){var u=o(36),l=o(37),v=o(32),b=o(39),O=o(67);s.exports=u?Object.defineProperties:function(P,T){v(P);for(var M=b(T),N=O(T),D=N.length,I=0,_;D>I;)l.f(P,_=N[I++],M[_]);return P}},function(s,f,o){var u=o(7),l=o(35),v=o(28),b=o(33),O=u.TypeError;s.exports=function(E,P){var T,M;if(P==="string"&&v(T=E.toString)&&!b(M=l(T,E))||v(T=E.valueOf)&&!b(M=l(T,E))||P!=="string"&&v(T=E.toString)&&!b(M=l(T,E)))return M;throw O("Can't convert object to primitive value")}},function(s,f,o){var u=o(7),l=o(28),v=o(92),b=u.WeakMap;s.exports=l(b)&&/native code/.test(v(b))},function(s,f,o){var u=o(136).IteratorPrototype,l=o(54),v=o(72),b=o(74),O=o(71),E=function(){return this};s.exports=function(P,T,M,N){var D=T+" Iterator";return P.prototype=l(u,{next:v(+!N,M)}),b(P,D,!1,!0),O[D]=E,P}},function(s,f,o){var u=o(7),l=o(28),v=u.String,b=u.TypeError;s.exports=function(O){if(typeof O=="object"||l(O))return O;throw b("Can't set "+v(O)+" as a prototype")}},function(s,f,o){var u=o(16),l=o(7),v=o(15),b=o(95),O=o(44),E=o(138),P=o(114),T=o(117),M=o(28),N=o(33),D=o(18),I=o(118),_=o(74),$=o(143);s.exports=function(X,ue,le){var ee=X.indexOf("Map")!==-1,Q=X.indexOf("Weak")!==-1,se=ee?"set":"add",z=l[X],U=z&&z.prototype,L=z,A={},R=function(xe){var Oe=v(U[xe]);O(U,xe,xe=="add"?function(Fe){return Oe(this,Fe===0?0:Fe),this}:xe=="delete"?function(Ae){return Q&&!N(Ae)?!1:Oe(this,Ae===0?0:Ae)}:xe=="get"?function(Fe){return Q&&!N(Fe)?void 0:Oe(this,Fe===0?0:Fe)}:xe=="has"?function(Fe){return Q&&!N(Fe)?!1:Oe(this,Fe===0?0:Fe)}:function(Fe,Ve){return Oe(this,Fe===0?0:Fe,Ve),this})},W=b(X,!M(z)||!(Q||U.forEach&&!D(function(){new z().entries().next()})));if(W)L=le.getConstructor(ue,X,ee,se),E.enable();else if(b(X,!0)){var Z=new L,ce=Z[se](Q?{}:-0,1)!=Z,Pe=D(function(){Z.has(1)}),me=I(function(xe){new z(xe)}),be=!Q&&D(function(){for(var xe=new z,Oe=5;Oe--;)xe[se](Oe,Oe);return!xe.has(-0)});me||(L=ue(function(xe,Oe){T(xe,U);var Ae=$(new z,xe,L);return Oe!=null&&P(Oe,Ae[se],{that:Ae,AS_ENTRIES:ee}),Ae}),L.prototype=U,U.constructor=L),(Pe||be)&&(R("delete"),R("has"),ee&&R("get")),(be||ce)&&R(se),Q&&U.clear&&delete U.clear}return A[X]=L,u({global:!0,forced:L!=z},A),_(L,X),Q||le.setStrong(L,X,ee),L}},function(s,f,o){var u=o(18),l=o(33),v=o(50),b=o(175),O=Object.isExtensible,E=u(function(){});s.exports=E||b?function(T){return!l(T)||b&&v(T)=="ArrayBuffer"?!1:O?O(T):!0}:O},function(s,f,o){var u=o(18);s.exports=u(function(){if(typeof ArrayBuffer=="function"){var l=new ArrayBuffer(8);Object.isExtensible(l)&&Object.defineProperty(l,"a",{value:8})}})},function(s,f,o){var u=o(18);s.exports=!u(function(){return Object.isExtensible(Object.preventExtensions({}))})},function(s,f,o){var u=o(37).f,l=o(54),v=o(144),b=o(62),O=o(117),E=o(114),P=o(111),T=o(145),M=o(36),N=o(138).fastKey,D=o(56),I=D.set,_=D.getterFor;s.exports={getConstructor:function($,X,ue,le){var ee=$(function(L,A){O(L,Q),I(L,{type:X,index:l(null),first:void 0,last:void 0,size:0}),M||(L.size=0),A!=null&&E(A,L[le],{that:L,AS_ENTRIES:ue})}),Q=ee.prototype,se=_(X),z=function(L,A,R){var W=se(L),Z=U(L,A),ce,Pe;return Z?Z.value=R:(W.last=Z={index:Pe=N(A,!0),key:A,value:R,previous:ce=W.last,next:void 0,removed:!1},W.first||(W.first=Z),ce&&(ce.next=Z),M?W.size++:L.size++,Pe!=="F"&&(W.index[Pe]=Z)),L},U=function(L,A){var R=se(L),W=N(A),Z;if(W!=="F")return R.index[W];for(Z=R.first;Z;Z=Z.next)if(Z.key==A)return Z};return v(Q,{clear:function(){for(var A=this,R=se(A),W=R.index,Z=R.first;Z;)Z.removed=!0,Z.previous&&(Z.previous=Z.previous.next=void 0),delete W[Z.index],Z=Z.next;R.first=R.last=void 0,M?R.size=0:A.size=0},delete:function(L){var A=this,R=se(A),W=U(A,L);if(W){var Z=W.next,ce=W.previous;delete R.index[W.index],W.removed=!0,ce&&(ce.next=Z),Z&&(Z.previous=ce),R.first==W&&(R.first=Z),R.last==W&&(R.last=ce),M?R.size--:A.size--}return!!W},forEach:function(A){for(var R=se(this),W=b(A,arguments.length>1?arguments[1]:void 0),Z;Z=Z?Z.next:R.first;)for(W(Z.value,Z.key,this);Z&&Z.removed;)Z=Z.previous},has:function(A){return!!U(this,A)}}),v(Q,ue?{get:function(A){var R=U(this,A);return R&&R.value},set:function(A,R){return z(this,A===0?0:A,R)}}:{add:function(A){return z(this,A=A===0?0:A,A)}}),M&&u(Q,"size",{get:function(){return se(this).size}}),ee},setStrong:function($,X,ue){var le=X+" Iterator",ee=_(X),Q=_(le);P($,X,function(se,z){I(this,{type:le,target:se,state:ee(se),kind:z,last:void 0})},function(){for(var se=Q(this),z=se.kind,U=se.last;U&&U.removed;)U=U.previous;return!se.target||!(se.last=U=U?U.next:se.state.first)?(se.target=void 0,{value:void 0,done:!0}):z=="keys"?{value:U.key,done:!1}:z=="values"?{value:U.value,done:!1}:{value:[U.key,U.value],done:!1}},ue?"entries":"values",!ue,!0),T(X)}}},function(s,f,o){var u=o(116),l=o(98);s.exports=u?{}.toString:function(){return"[object "+l(this)+"]"}},function(s,f,o){var u=o(75).forEach,l=o(120),v=l("forEach");s.exports=v?[].forEach:function(O){return u(this,O,arguments.length>1?arguments[1]:void 0)}},function(s,f,o){var u=o(7),l=o(99),v=o(100),b=o(33),O=o(27),E=O("species"),P=u.Array;s.exports=function(T){var M;return l(T)&&(M=T.constructor,v(M)&&(M===P||l(M.prototype))?M=void 0:b(M)&&(M=M[E],M===null&&(M=void 0))),M===void 0?P:M}},function(s,f,o){var u=o(7);s.exports=u},function(s,f,o){var u=o(7),l=o(62),v=o(35),b=o(38),O=o(183),E=o(140),P=o(100),T=o(43),M=o(61),N=o(141),D=o(115),I=u.Array;s.exports=function($){var X=b($),ue=P(this),le=arguments.length,ee=le>1?arguments[1]:void 0,Q=ee!==void 0;Q&&(ee=l(ee,le>2?arguments[2]:void 0));var se=D(X),z=0,U,L,A,R,W,Z;if(se&&!(this==I&&E(se)))for(R=N(X,se),W=R.next,L=ue?new this:[];!(A=v(W,R)).done;z++)Z=Q?O(R,ee,[A.value,z],!0):A.value,M(L,z,Z);else for(U=T(X),L=ue?new this(U):I(U);U>z;z++)Z=Q?ee(X[z],z):X[z],M(L,z,Z);return L.length=z,L}},function(s,f,o){var u=o(32),l=o(142);s.exports=function(v,b,O,E){try{return E?b(u(O)[0],O[1]):b(O)}catch(P){l(v,"throw",P)}}},function(s,f,o){var u=o(32);s.exports=function(){var l=u(this),v="";return l.global&&(v+="g"),l.ignoreCase&&(v+="i"),l.multiline&&(v+="m"),l.dotAll&&(v+="s"),l.unicode&&(v+="u"),l.sticky&&(v+="y"),v}},function(s,f,o){var u=o(18),l=o(7),v=l.RegExp;s.exports=u(function(){var b=v(".","s");return!(b.dotAll&&b.exec(`
`)&&b.flags==="s")})},function(s,f,o){var u=o(18),l=o(7),v=l.RegExp;s.exports=u(function(){var b=v("(?<a>b)","g");return b.exec("b").groups.a!=="b"||"b".replace(b,"$<a>c")!=="bc"})},function(s,f,o){var u=o(16),l=o(15),v=o(55),b=o(38),O=o(43),E=o(40),P=o(18),T=o(188),M=o(120),N=o(189),D=o(190),I=o(66),_=o(191),$=[],X=l($.sort),ue=l($.push),le=P(function(){$.sort(void 0)}),ee=P(function(){$.sort(null)}),Q=M("sort"),se=!P(function(){if(I)return I<70;if(!(N&&N>3)){if(D)return!0;if(_)return _<603;var L="",A,R,W,Z;for(A=65;A<76;A++){switch(R=String.fromCharCode(A),A){case 66:case 69:case 70:case 72:W=3;break;case 68:case 71:W=4;break;default:W=2}for(Z=0;Z<47;Z++)$.push({k:R+Z,v:W})}for($.sort(function(ce,Pe){return Pe.v-ce.v}),Z=0;Z<$.length;Z++)R=$[Z].k.charAt(0),L.charAt(L.length-1)!==R&&(L+=R);return L!=="DGBEFHACIJK"}}),z=le||!ee||!Q||!se,U=function(L){return function(A,R){return R===void 0?-1:A===void 0?1:L!==void 0?+L(A,R)||0:E(A)>E(R)?1:-1}};u({target:"Array",proto:!0,forced:z},{sort:function(A){A!==void 0&&v(A);var R=b(this);if(se)return A===void 0?X(R):X(R,A);var W=[],Z=O(R),ce,Pe;for(Pe=0;Pe<Z;Pe++)Pe in R&&ue(W,R[Pe]);for(T(W,U(A)),ce=W.length,Pe=0;Pe<ce;)R[Pe]=W[Pe++];for(;Pe<Z;)delete R[Pe++];return R}})},function(s,f,o){var u=o(113),l=Math.floor,v=function(E,P){var T=E.length,M=l(T/2);return T<8?b(E,P):O(E,v(u(E,0,M),P),v(u(E,M),P),P)},b=function(E,P){for(var T=E.length,M=1,N,D;M<T;){for(D=M,N=E[M];D&&P(E[D-1],N)>0;)E[D]=E[--D];D!==M++&&(E[D]=N)}return E},O=function(E,P,T,M){for(var N=P.length,D=T.length,I=0,_=0;I<N||_<D;)E[I+_]=I<N&&_<D?M(P[I],T[_])<=0?P[I++]:T[_++]:I<N?P[I++]:T[_++];return E};s.exports=v},function(s,f,o){var u=o(53),l=u.match(/firefox\/(\d+)/i);s.exports=!!l&&+l[1]},function(s,f,o){var u=o(53);s.exports=/MSIE|Trident/.test(u)},function(s,f,o){var u=o(53),l=u.match(/AppleWebKit\/(\d+)\./);s.exports=!!l&&+l[1]},function(s,f,o){var u=o(16),l=o(75).find,v=o(83),b="find",O=!0;b in[]&&Array(1)[b](function(){O=!1}),u({target:"Array",proto:!0,forced:O},{find:function(P){return l(this,P,arguments.length>1?arguments[1]:void 0)}}),v(b)},function(s,f,o){var u=o(7),l=o(154),v=u.TypeError;s.exports=function(b){if(l(b))throw v("The method doesn't accept regular expressions");return b}},function(s,f,o){var u=o(27),l=u("match");s.exports=function(v){var b=/./;try{"/./"[v](b)}catch{try{return b[l]=!1,"/./"[v](b)}catch{}}return!1}},function(s,f,o){var u=o(94).PROPER,l=o(18),v=o(160),b="";s.exports=function(O){return l(function(){return!!v[O]()||b[O]()!==b||u&&v[O].name!==O})}},function(s,f,o){var u=o(15);s.exports=u(1 .valueOf)},function(s,f,o){var u=o(15),l=o(38),v=Math.floor,b=u("".charAt),O=u("".replace),E=u("".slice),P=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,T=/\$([$&'`]|\d{1,2})/g;s.exports=function(M,N,D,I,_,$){var X=D+M.length,ue=I.length,le=T;return _!==void 0&&(_=l(_),le=P),O($,le,function(ee,Q){var se;switch(b(Q,0)){case"$":return"$";case"&":return M;case"`":return E(N,0,D);case"'":return E(N,X);case"<":se=_[E(Q,1,-1)];break;default:var z=+Q;if(z===0)return ee;if(z>ue){var U=v(z/10);return U===0?ee:U<=ue?I[U-1]===void 0?b(Q,1):I[U-1]+b(Q,1):ee}se=I[z-1]}return se===void 0?"":se})}},function(s,f,o){var u=o(36),l=o(15),v=o(35),b=o(18),O=o(67),E=o(112),P=o(93),T=o(38),M=o(81),N=Object.assign,D=Object.defineProperty,I=l([].concat);s.exports=!N||b(function(){if(u&&N({b:1},N(D({},"a",{enumerable:!0,get:function(){D(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var _={},$={},X=Symbol(),ue="abcdefghijklmnopqrst";return _[X]=7,ue.split("").forEach(function(le){$[le]=le}),N({},_)[X]!=7||O(N({},$)).join("")!=ue})?function($,X){for(var ue=T($),le=arguments.length,ee=1,Q=E.f,se=P.f;le>ee;)for(var z=M(arguments[ee++]),U=Q?I(O(z),Q(z)):O(z),L=U.length,A=0,R;L>A;)R=U[A++],(!u||v(se,z,R))&&(ue[R]=z[R]);return ue}:N},function(s,f,o){var u=o(7),l=o(15),v=o(55),b=o(33),O=o(34),E=o(101),P=u.Function,T=l([].concat),M=l([].join),N={},D=function(I,_,$){if(!O(N,_)){for(var X=[],ue=0;ue<_;ue++)X[ue]="a["+ue+"]";N[_]=P("C,a","return new C("+M(X,",")+")")}return N[_](I,$)};s.exports=P.bind||function(_){var $=v(this),X=$.prototype,ue=E(arguments,1),le=function(){var Q=T(ue,E(arguments));return this instanceof le?D($,Q.length,Q):$.apply(_,Q)};return b(X)&&(le.prototype=X),le}},function(s,f,o){var u=o(34);s.exports=function(l){return l!==void 0&&(u(l,"value")||u(l,"writable"))}},function(s,f,o){var u=o(15),l=o(45),v=o(40),b=/"/g,O=u("".replace);s.exports=function(E,P,T,M){var N=v(l(E)),D="<"+P;return T!==""&&(D+=" "+T+'="'+O(v(M),b,"&quot;")+'"'),D+">"+N+"</"+P+">"}},function(s,f,o){var u=o(18);s.exports=function(l){return u(function(){var v=""[l]('"');return v!==v.toLowerCase()||v.split('"').length>3})}},function(s,f,o){var u=o(16),l=Math.hypot,v=Math.abs,b=Math.sqrt,O=!!l&&l(1/0,NaN)!==1/0;u({target:"Math",stat:!0,forced:O},{hypot:function(P,T){for(var M=0,N=0,D=arguments.length,I=0,_,$;N<D;)_=v(arguments[N++]),I<_?($=I/_,M=M*$*$+1,I=_):_>0?($=_/I,M+=$*$):M+=_;return I===1/0?1/0:I*b(M)}})},function(s,f,o){var u=o(16),l=o(65),v=o(7),b=o(46),O=o(35),E=o(205),P=o(44),T=o(144),M=o(97),N=o(74),D=o(145),I=o(55),_=o(28),$=o(33),X=o(117),ue=o(92),le=o(114),ee=o(118),Q=o(156),se=o(162).set,z=o(206),U=o(209),L=o(210),A=o(164),R=o(211),W=o(56),Z=o(95),ce=o(27),Pe=o(212),me=o(126),be=o(66),xe=ce("species"),Oe="Promise",Ae=W.getterFor(Oe),Fe=W.set,Ve=W.getterFor(Oe),Be=E&&E.prototype,Ee=E,_e=Be,Xe=v.TypeError,k=v.document,Y=v.process,q=A.f,he=q,Se=!!(k&&k.createEvent&&v.dispatchEvent),pe=_(v.PromiseRejectionEvent),He="unhandledrejection",tt="rejectionhandled",Ke=0,it=1,ve=2,lt=1,rt=2,ze=!1,qe,At,vt,Ot,ie=Z(Oe,function(){var Ie=ue(Ee),We=Ie!==String(Ee);if(!We&&be===66||l&&!_e.finally)return!0;if(be>=51&&/native code/.test(Ie))return!1;var at=new Ee(function(H){H(1)}),Je=function(H){H(function(){},function(){})},ft=at.constructor={};return ft[xe]=Je,ze=at.then(function(){})instanceof Je,ze?!We&&Pe&&!pe:!0}),jt=ie||!ee(function(Ie){Ee.all(Ie).catch(function(){})}),St=function(Ie){var We;return $(Ie)&&_(We=Ie.then)?We:!1},mt=function(Ie,We){if(!Ie.notified){Ie.notified=!0;var at=Ie.reactions;z(function(){for(var Je=Ie.value,ft=Ie.state==it,H=0;at.length>H;){var J=at[H++],te=ft?J.ok:J.fail,re=J.resolve,Te=J.reject,je=J.domain,Ye,yt,Qt;try{te?(ft||(Ie.rejection===rt&&Mr(Ie),Ie.rejection=lt),te===!0?Ye=Je:(je&&je.enter(),Ye=te(Je),je&&(je.exit(),Qt=!0)),Ye===J.promise?Te(Xe("Promise-chain cycle")):(yt=St(Ye))?O(yt,Ye,re,Te):re(Ye)):Te(Je)}catch(qt){je&&!Qt&&je.exit(),Te(qt)}}Ie.reactions=[],Ie.notified=!1,We&&!Ie.rejection&&yr(Ie)})}},Kt=function(Ie,We,at){var Je,ft;Se?(Je=k.createEvent("Event"),Je.promise=We,Je.reason=at,Je.initEvent(Ie,!1,!0),v.dispatchEvent(Je)):Je={promise:We,reason:at},!pe&&(ft=v["on"+Ie])?ft(Je):Ie===He&&L("Unhandled promise rejection",at)},yr=function(Ie){O(se,v,function(){var We=Ie.facade,at=Ie.value,Je=Jt(Ie),ft;if(Je&&(ft=R(function(){me?Y.emit("unhandledRejection",at,We):Kt(He,We,at)}),Ie.rejection=me||Jt(Ie)?rt:lt,ft.error))throw ft.value})},Jt=function(Ie){return Ie.rejection!==lt&&!Ie.parent},Mr=function(Ie){O(se,v,function(){var We=Ie.facade;me?Y.emit("rejectionHandled",We):Kt(tt,We,Ie.value)})},et=function(Ie,We,at){return function(Je){Ie(We,Je,at)}},Pt=function(Ie,We,at){Ie.done||(Ie.done=!0,at&&(Ie=at),Ie.value=We,Ie.state=ve,mt(Ie,!0))},ir=function(Ie,We,at){if(!Ie.done){Ie.done=!0,at&&(Ie=at);try{if(Ie.facade===We)throw Xe("Promise can't be resolved itself");var Je=St(We);Je?z(function(){var ft={done:!1};try{O(Je,We,et(ir,ft,Ie),et(Pt,ft,Ie))}catch(H){Pt(ft,H,Ie)}}):(Ie.value=We,Ie.state=it,mt(Ie,!1))}catch(ft){Pt({done:!1},ft,Ie)}}};if(ie&&(Ee=function(We){X(this,_e),I(We),O(qe,this);var at=Ae(this);try{We(et(ir,at),et(Pt,at))}catch(Je){Pt(at,Je)}},_e=Ee.prototype,qe=function(We){Fe(this,{type:Oe,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:Ke,value:void 0})},qe.prototype=T(_e,{then:function(We,at){var Je=Ve(this),ft=Je.reactions,H=q(Q(this,Ee));return H.ok=_(We)?We:!0,H.fail=_(at)&&at,H.domain=me?Y.domain:void 0,Je.parent=!0,ft[ft.length]=H,Je.state!=Ke&&mt(Je,!1),H.promise},catch:function(Ie){return this.then(void 0,Ie)}}),At=function(){var Ie=new qe,We=Ae(Ie);this.promise=Ie,this.resolve=et(ir,We),this.reject=et(Pt,We)},A.f=q=function(Ie){return Ie===Ee||Ie===vt?new At(Ie):he(Ie)},!l&&_(E)&&Be!==Object.prototype)){Ot=Be.then,ze||(P(Be,"then",function(We,at){var Je=this;return new Ee(function(ft,H){O(Ot,Je,ft,H)}).then(We,at)},{unsafe:!0}),P(Be,"catch",_e.catch,{unsafe:!0}));try{delete Be.constructor}catch{}M&&M(Be,_e)}u({global:!0,wrap:!0,forced:ie},{Promise:Ee}),N(Ee,Oe,!1,!0),D(Oe),vt=b(Oe),u({target:Oe,stat:!0,forced:ie},{reject:function(We){var at=q(this);return O(at.reject,void 0,We),at.promise}}),u({target:Oe,stat:!0,forced:l||ie},{resolve:function(We){return U(l&&this===vt?Ee:this,We)}}),u({target:Oe,stat:!0,forced:jt},{all:function(We){var at=this,Je=q(at),ft=Je.resolve,H=Je.reject,J=R(function(){var te=I(at.resolve),re=[],Te=0,je=1;le(We,function(Ye){var yt=Te++,Qt=!1;je++,O(te,at,Ye).then(function(qt){Qt||(Qt=!0,re[yt]=qt,--je||ft(re))},H)}),--je||ft(re)});return J.error&&H(J.value),Je.promise},race:function(We){var at=this,Je=q(at),ft=Je.reject,H=R(function(){var J=I(at.resolve);le(We,function(te){O(J,at,te).then(Je.resolve,ft)})});return H.error&&ft(H.value),Je.promise}})},function(s,f,o){var u=o(7);s.exports=u.Promise},function(s,f,o){var u=o(7),l=o(62),v=o(51).f,b=o(162).set,O=o(163),E=o(207),P=o(208),T=o(126),M=u.MutationObserver||u.WebKitMutationObserver,N=u.document,D=u.process,I=u.Promise,_=v(u,"queueMicrotask"),$=_&&_.value,X,ue,le,ee,Q,se,z,U;$||(X=function(){var L,A;for(T&&(L=D.domain)&&L.exit();ue;){A=ue.fn,ue=ue.next;try{A()}catch(R){throw ue?ee():le=void 0,R}}le=void 0,L&&L.enter()},!O&&!T&&!P&&M&&N?(Q=!0,se=N.createTextNode(""),new M(X).observe(se,{characterData:!0}),ee=function(){se.data=Q=!Q}):!E&&I&&I.resolve?(z=I.resolve(void 0),z.constructor=I,U=l(z.then,z),ee=function(){U(X)}):T?ee=function(){D.nextTick(X)}:(b=l(b,u),ee=function(){b(X)})),s.exports=$||function(L){var A={fn:L,next:void 0};le&&(le.next=A),ue||(ue=A,ee()),le=A}},function(s,f,o){var u=o(53),l=o(7);s.exports=/ipad|iphone|ipod/i.test(u)&&l.Pebble!==void 0},function(s,f,o){var u=o(53);s.exports=/web0s(?!.*chrome)/i.test(u)},function(s,f,o){var u=o(32),l=o(33),v=o(164);s.exports=function(b,O){if(u(b),l(O)&&O.constructor===b)return O;var E=v.f(b),P=E.resolve;return P(O),E.promise}},function(s,f,o){var u=o(7);s.exports=function(l,v){var b=u.console;b&&b.error&&(arguments.length==1?b.error(l):b.error(l,v))}},function(s,f){s.exports=function(o){try{return{error:!1,value:o()}}catch(u){return{error:!0,value:u}}}},function(s,f){s.exports=typeof window=="object"},function(s,f,o){var u=o(36),l=o(15),v=o(67),b=o(39),O=o(93).f,E=l(O),P=l([].push),T=function(M){return function(N){for(var D=b(N),I=v(D),_=I.length,$=0,X=[],ue;_>$;)ue=I[$++],(!u||E(D,ue))&&P(X,M?[ue,D[ue]]:D[ue]);return X}};s.exports={entries:T(!0),values:T(!1)}},function(s,f,o){var u=o(38),l=o(68),v=o(43);s.exports=function(O){for(var E=u(this),P=v(E),T=arguments.length,M=l(T>1?arguments[1]:void 0,P),N=T>2?arguments[2]:void 0,D=N===void 0?P:l(N,P);D>M;)E[M++]=O;return E}},function(s,f,o){o.r(f),o.d(f,"observer",function(){return $r}),o.d(f,"LogicFlow",function(){return Qc}),o.d(f,"h",function(){return ie.g}),o.d(f,"LogicFlowUtil",function(){return u}),o.d(f,"BaseNode",function(){return hn}),o.d(f,"RectNode",function(){return cc}),o.d(f,"CircleNode",function(){return hc}),o.d(f,"PolygonNode",function(){return gc}),o.d(f,"DiamondNode",function(){return Oc}),o.d(f,"EllipseNode",function(){return Sc}),o.d(f,"TextNode",function(){return Mc}),o.d(f,"HtmlNode",function(){return Ac}),o.d(f,"BaseEdge",function(){return Ei}),o.d(f,"LineEdge",function(){return _c}),o.d(f,"PolylineEdge",function(){return Gc}),o.d(f,"BezierEdge",function(){return kc}),o.d(f,"Arrow",function(){return vj}),o.d(f,"BaseEdgeModel",function(){return pf}),o.d(f,"BezierEdgeModel",function(){return Ff}),o.d(f,"LineEdgeModel",function(){return yf}),o.d(f,"PolylineEdgeModel",function(){return bf}),o.d(f,"BaseNodeModel",function(){return dn}),o.d(f,"CircleNodeModel",function(){return $f}),o.d(f,"DiamondNodeModel",function(){return Xf}),o.d(f,"EllipseNodeModel",function(){return Wf}),o.d(f,"PolygonNodeModel",function(){return Zf}),o.d(f,"RectNodeModel",function(){return qf}),o.d(f,"TextNodeModel",function(){return tc}),o.d(f,"HtmlNodeModel",function(){return nc}),o.d(f,"EditConfigModel",function(){return up}),o.d(f,"GraphModel",function(){return av}),o.d(f,"SnaplineModel",function(){return ag}),o.d(f,"Keyboard",function(){return dm}),o.d(f,"get",function(){return Gv}),o.d(f,"defaults",function(){return Hv}),o.d(f,"ElementState",function(){return bt}),o.d(f,"ModelType",function(){return pt}),o.d(f,"ElementType",function(){return zt}),o.d(f,"EventType",function(){return nt});var u={};o.r(u),o.d(u,"createUuid",function(){return In}),o.d(u,"refreshGraphId",function(){return E0}),o.d(u,"createDrag",function(){return wM}),o.d(u,"StepDrag",function(){return un});var l=o(0),v=o(10);if(!v.j)throw new Error("mobx-react-lite requires React with Hooks support");if(!l.H)throw new Error("mobx-react-lite requires mobx at least version 4 to be available");var b=o(42),O=Object(b.b)("observerBatching");function E(e){e()}function P(e){e||(e=E),Object(l.n)({reactionScheduler:e}),Object(b.a)()[O]=!0}function T(e){return Object(l.t)(e)}function M(e){var r={cleanAt:Date.now()+N,reaction:e};return r}var N=1e4,D=1e4,I=new Set,_;function $(){_===void 0&&(_=setTimeout(le,D))}function X(e){I.add(e),$()}function ue(e){I.delete(e)}function le(){_=void 0;var e=Date.now();I.forEach(function(r){var t=r.current;t&&e>=t.cleanAt&&(t.reaction.dispose(),r.current=null,I.delete(r))}),I.size>0&&$()}var ee=!1,Q=[];function se(e){return function(){ee?Q.push(e):e()}}function z(e){ee=!0,Q=[];try{var r=e();ee=!1;var t=Q.length>0?Q:void 0;return v.d.useLayoutEffect(function(){t&&t.forEach(function(n){return n()})},[t]),r}finally{ee=!1}}var U={};function L(e){return"observer"+e}function A(e,r,t){r===void 0&&(r="observed"),t===void 0&&(t=U);var n=t.useForceUpdate||b.d,i=n(),a=se(i),c=v.d.useRef(null);if(!c.current){var h=new l.c(L(r),function(){m.mounted?a():(h.dispose(),c.current=null)}),m=M(h);c.current=m,X(c)}var x=c.current.reaction;return v.d.useDebugValue(x,T),v.d.useEffect(function(){return ue(c),c.current?c.current.mounted=!0:(c.current={reaction:new l.c(L(r),function(){a()}),cleanAt:1/0},a()),function(){c.current.reaction.dispose(),c.current=null}},[]),z(function(){var w,j;if(x.track(function(){try{w=e()}catch(B){j=B}}),j)throw j;return w})}var R=function(){return R=Object.assign||function(e){for(var r,t=1,n=arguments.length;t<n;t++){r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},R.apply(this,arguments)};function W(e,r){var t=R({forwardRef:!1},r),n=e.displayName||e.name,i=function(c,h){return A(function(){return e(c,h)},n)};i.displayName=n;var a;return t.forwardRef?a=Object(v.f)(Object(v.e)(i)):a=Object(v.f)(i),ce(e,a),a.displayName=n,a}var Z={$$typeof:!0,render:!0,compare:!0,type:!0};function ce(e,r){Object.keys(e).forEach(function(t){Z[t]||Object.defineProperty(r,t,Object.getOwnPropertyDescriptor(e,t))})}function Pe(e){var r=e.children,t=e.render,n=r||t;return typeof n!="function"?null:A(n)}Pe.propTypes={children:me,render:me},Pe.displayName="Observer";function me(e,r,t,n,i){var a=r==="children"?"render":"children",c=typeof e[r]=="function",h=typeof e[a]=="function";return c&&h?new Error("MobX Observer: Do not use children and render in the same time in`"+t):c||h?null:new Error("Invalid prop `"+i+"` of type `"+typeof e[r]+"` supplied to `"+t+"`, expected `function`.")}P(v.g);var be=0;function xe(e){if(typeof Symbol=="function")return Symbol(e);var r="__$mobx-react "+e+" ("+be+")";return be++,r}var Oe={};function Ae(e){return Oe[e]||(Oe[e]=xe(e)),Oe[e]}function Fe(e,r){if(Ve(e,r))return!0;if(typeof e!="object"||e===null||typeof r!="object"||r===null)return!1;var t=Object.keys(e),n=Object.keys(r);if(t.length!==n.length)return!1;for(var i=0;i<t.length;i++)if(!Object.hasOwnProperty.call(r,t[i])||!Ve(e[t[i]],r[t[i]]))return!1;return!0}function Ve(e,r){return e===r?e!==0||1/e===1/r:e!==e&&r!==r}function Be(e,r,t){Object.hasOwnProperty.call(e,r)?e[r]=t:Object.defineProperty(e,r,{enumerable:!1,configurable:!0,writable:!0,value:t})}var Ee=Ae("patchMixins"),_e=Ae("patchedDefinition");function Xe(e,r){var t=e[Ee]=e[Ee]||{},n=t[r]=t[r]||{};return n.locks=n.locks||0,n.methods=n.methods||[],n}function k(e,r){for(var t=this,n=arguments.length,i=new Array(n>2?n-2:0),a=2;a<n;a++)i[a-2]=arguments[a];r.locks++;try{var c;return e!=null&&(c=e.apply(this,i)),c}finally{r.locks--,r.locks===0&&r.methods.forEach(function(h){h.apply(t,i)})}}function Y(e,r){var t=function(){for(var i=arguments.length,a=new Array(i),c=0;c<i;c++)a[c]=arguments[c];k.call.apply(k,[this,e,r].concat(a))};return t}function q(e,r,t){var n=Xe(e,r);n.methods.indexOf(t)<0&&n.methods.push(t);var i=Object.getOwnPropertyDescriptor(e,r);if(!(i&&i[_e])){var a=e[r],c=he(e,r,i?i.enumerable:void 0,n,a);Object.defineProperty(e,r,c)}}function he(e,r,t,n,i){var a,c=Y(i,n);return a={},a[_e]=!0,a.get=function(){return c},a.set=function(m){if(this===e)c=Y(m,n);else{var x=he(this,r,t,n,m);Object.defineProperty(this,r,x)}},a.configurable=!0,a.enumerable=t,a}var Se=l.a||"$mobx",pe=Ae("isMobXReactObserver"),He=Ae("isUnmounted"),tt=Ae("skipRender"),Ke=Ae("isForcingUpdate");function it(e){var r=e.prototype;if(e[pe]){var t=ve(r);console.warn("The provided component class ("+t+`) 
                has already been declared as an observer component.`)}else e[pe]=!0;if(r.componentWillReact)throw new Error("The componentWillReact life-cycle event is no longer supported");if(e.__proto__!==v.b){if(!r.shouldComponentUpdate)r.shouldComponentUpdate=rt;else if(r.shouldComponentUpdate!==rt)throw new Error("It is not allowed to use shouldComponentUpdate in observer based components.")}ze(r,"props"),ze(r,"state");var n=r.render;return r.render=function(){return lt.call(this,n)},q(r,"componentWillUnmount",function(){var i;if((i=this.render[Se])===null||i===void 0||i.dispose(),this[He]=!0,!this.render[Se]){var a=ve(this);console.warn("The reactive render of an observer class component ("+a+`) 
                was overriden after MobX attached. This may result in a memory leak if the 
                overriden reactive render was not properly disposed.`)}}),e}function ve(e){return e.displayName||e.name||e.constructor&&(e.constructor.displayName||e.constructor.name)||"<component>"}function lt(e){var r=this;Be(this,tt,!1),Be(this,Ke,!1);var t=ve(this),n=e.bind(this),i=!1,a=new l.c(t+".render()",function(){if(!i&&(i=!0,r[He]!==!0)){var h=!0;try{Be(r,Ke,!0),r[tt]||v.a.prototype.forceUpdate.call(r),h=!1}finally{Be(r,Ke,!1),h&&a.dispose()}}});a.reactComponent=this,c[Se]=a,this.render=c;function c(){i=!1;var h=void 0,m=void 0;if(a.track(function(){try{m=Object(l.d)(!1,n)}catch(x){h=x}}),h)throw h;return m}return c.call(this)}function rt(e,r){return this.state!==r?!0:!Fe(this.props,e)}function ze(e,r){var t=Ae("reactProp_"+r+"_valueHolder"),n=Ae("reactProp_"+r+"_atomHolder");function i(){return this[n]||Be(this,n,Object(l.o)("reactive "+r)),this[n]}Object.defineProperty(e,r,{configurable:!0,enumerable:!0,get:function(){var c=!1;return l.f&&l.e&&(c=Object(l.f)(!0)),i.call(this).reportObserved(),l.f&&l.e&&Object(l.e)(c),this[t]},set:function(c){!this[Ke]&&!Fe(this[t],c)?(Be(this,t,c),Be(this,tt,!0),i.call(this).reportChanged(),Be(this,tt,!1)):Be(this,t,c)}})}var qe=typeof Symbol=="function"&&Symbol.for,At=qe?Symbol.for("react.forward_ref"):typeof v.e=="function"&&Object(v.e)(function(e){return null}).$$typeof,vt=qe?Symbol.for("react.memo"):typeof v.f=="function"&&Object(v.f)(function(e){return null}).$$typeof;function Ot(e){if(e.isMobxInjector===!0&&console.warn("Mobx observer: You are trying to use 'observer' on a component that already has 'inject'. Please apply 'observer' before applying 'inject'"),vt&&e.$$typeof===vt)throw new Error("Mobx observer: You are trying to use 'observer' on a function component wrapped in either another observer or 'React.memo'. The observer already applies 'React.memo' for you.");if(At&&e.$$typeof===At){var r=e.render;if(typeof r!="function")throw new Error("render property of ForwardRef was not a function");return Object(v.e)(function(){var n=arguments;return Object(v.c)(Pe,null,function(){return r.apply(void 0,n)})})}return typeof e=="function"&&(!e.prototype||!e.prototype.render)&&!e.isReactClass&&!Object.prototype.isPrototypeOf.call(v.a,e)?W(e):it(e)}if(!v.a)throw new Error("mobx-react requires React to be available");if(!l.C)throw new Error("mobx-react requires mobx to be available");var ie=o(1);o(3),o(60),o(2),o(6),o(4),o(11),o(41),o(23),o(20),o(5),o(22),o(21),o(24),o(8),o(9),o(17),o(25),o(19),o(29),o(187),o(192),o(103),o(152),o(153);function jt(e,r){for(var t=-1,n=e==null?0:e.length,i=Array(n);++t<n;)i[t]=r(e[t],t,e);return i}var St=jt;function mt(){this.__data__=[],this.size=0}var Kt=mt;function yr(e,r){return e===r||e!==e&&r!==r}var Jt=yr;function Mr(e,r){for(var t=e.length;t--;)if(Jt(e[t][0],r))return t;return-1}var et=Mr,Pt=Array.prototype,ir=Pt.splice;function Ie(e){var r=this.__data__,t=et(r,e);if(t<0)return!1;var n=r.length-1;return t==n?r.pop():ir.call(r,t,1),--this.size,!0}var We=Ie;function at(e){var r=this.__data__,t=et(r,e);return t<0?void 0:r[t][1]}var Je=at;function ft(e){return et(this.__data__,e)>-1}var H=ft;function J(e,r){var t=this.__data__,n=et(t,e);return n<0?(++this.size,t.push([e,r])):t[n][1]=r,this}var te=J;function re(e){var r=-1,t=e==null?0:e.length;for(this.clear();++r<t;){var n=e[r];this.set(n[0],n[1])}}re.prototype.clear=Kt,re.prototype.delete=We,re.prototype.get=Je,re.prototype.has=H,re.prototype.set=te;var Te=re;function je(){this.__data__=new Te,this.size=0}var Ye=je;function yt(e){var r=this.__data__,t=r.delete(e);return this.size=r.size,t}var Qt=yt;function qt(e){return this.__data__.get(e)}var Un=qt;function Ur(e){return this.__data__.has(e)}var _i=Ur,Tr=o(31),zi=Tr.a.Symbol,fr=zi,bn=Object.prototype,Xn=bn.hasOwnProperty,an=bn.toString,Yn=fr?fr.toStringTag:void 0;function On(e){var r=Xn.call(e,Yn),t=e[Yn];try{e[Yn]=void 0;var n=!0}catch{}var i=an.call(e);return n&&(r?e[Yn]=t:delete e[Yn]),i}var En=On,lo=Object.prototype,ql=lo.toString;function uo(e){return ql.call(e)}var fo=uo,Fi="[object Null]",$e="[object Undefined]",Gi=fr?fr.toStringTag:void 0;function eu(e){return e==null?e===void 0?$e:Fi:Gi&&Gi in Object(e)?En(e):fo(e)}var Xr=eu;function Hi(e){var r=typeof e;return e!=null&&(r=="object"||r=="function")}var Mt=Hi,gr="[object AsyncFunction]",$i="[object Function]",tu="[object GeneratorFunction]",ru="[object Proxy]";function nu(e){if(!Mt(e))return!1;var r=Xr(e);return r==$i||r==tu||r==gr||r==ru}var co=nu,ki=Tr.a["__core-js_shared__"],sn=ki,Ko=function(){var e=/[^.]+$/.exec(sn&&sn.keys&&sn.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function Vo(e){return!!Ko&&Ko in e}var Ui=Vo,ou=Function.prototype,po=ou.toString;function iu(e){if(e!=null){try{return po.call(e)}catch{}try{return e+""}catch{}}return""}var Ct=iu,vd=/[\\^$.*+?()[\]{}|]/g,yd=/^\[object .+?Constructor\]$/,gd=Function.prototype,Xi=Object.prototype,au=gd.toString,Yi=Xi.hasOwnProperty,su=RegExp("^"+au.call(Yi).replace(vd,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function lu(e){if(!Mt(e)||Ui(e))return!1;var r=co(e)?su:yd;return r.test(Ct(e))}var Yr=lu;function uu(e,r){return e==null?void 0:e[r]}var fu=uu;function Zo(e,r){var t=fu(e,r);return Yr(t)?t:void 0}var Lr=Zo,cu=Lr(Tr.a,"Map"),xn=cu,du=Lr(Object,"create"),Wn=du;function pu(){this.__data__=Wn?Wn(null):{},this.size=0}var Jo=pu;function Wi(e){var r=this.has(e)&&delete this.__data__[e];return this.size-=r?1:0,r}var hu=Wi,Qo="__lodash_hash_undefined__",Ki=Object.prototype,Vi=Ki.hasOwnProperty;function Zi(e){var r=this.__data__;if(Wn){var t=r[e];return t===Qo?void 0:t}return Vi.call(r,e)?r[e]:void 0}var Ji=Zi,vu=Object.prototype,Qi=vu.hasOwnProperty;function yu(e){var r=this.__data__;return Wn?r[e]!==void 0:Qi.call(r,e)}var qi=yu,ea="__lodash_hash_undefined__";function gu(e,r){var t=this.__data__;return this.size+=this.has(e)?0:1,t[e]=Wn&&r===void 0?ea:r,this}var mu=gu;function Sn(e){var r=-1,t=e==null?0:e.length;for(this.clear();++r<t;){var n=e[r];this.set(n[0],n[1])}}Sn.prototype.clear=Jo,Sn.prototype.delete=hu,Sn.prototype.get=Ji,Sn.prototype.has=qi,Sn.prototype.set=mu;var Pn=Sn;function Mn(){this.size=0,this.__data__={hash:new Pn,map:new(xn||Te),string:new Pn}}var bu=Mn;function Ou(e){var r=typeof e;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?e!=="__proto__":e===null}var ta=Ou;function Eu(e,r){var t=e.__data__;return ta(r)?t[typeof r=="string"?"string":"hash"]:t.map}var ho=Eu;function xu(e){var r=ho(this,e).delete(e);return this.size-=r?1:0,r}var Su=xu;function Tn(e){return ho(this,e).get(e)}var Wr=Tn;function Pu(e){return ho(this,e).has(e)}var Mu=Pu;function Tu(e,r){var t=ho(this,e),n=t.size;return t.set(e,r),this.size+=t.size==n?0:1,this}var wr=Tu;function wn(e){var r=-1,t=e==null?0:e.length;for(this.clear();++r<t;){var n=e[r];this.set(n[0],n[1])}}wn.prototype.clear=bu,wn.prototype.delete=Su,wn.prototype.get=Wr,wn.prototype.has=Mu,wn.prototype.set=wr;var Kn=wn,wu=200;function vo(e,r){var t=this.__data__;if(t instanceof Te){var n=t.__data__;if(!xn||n.length<wu-1)return n.push([e,r]),this.size=++t.size,this;t=this.__data__=new Kn(n)}return t.set(e,r),this.size=t.size,this}var yo=vo;function An(e){var r=this.__data__=new Te(e);this.size=r.size}An.prototype.clear=Ye,An.prototype.delete=Qt,An.prototype.get=Un,An.prototype.has=_i,An.prototype.set=yo;var Nn=An,Ar="__lodash_hash_undefined__";function Vn(e){return this.__data__.set(e,Ar),this}var Nr=Vn;function mr(e){return this.__data__.has(e)}var Zn=mr;function er(e){var r=-1,t=e==null?0:e.length;for(this.__data__=new Kn;++r<t;)this.add(e[r])}er.prototype.add=er.prototype.push=Nr,er.prototype.has=Zn;var Au=er;function Nu(e,r){for(var t=-1,n=e==null?0:e.length;++t<n;)if(r(e[t],t,e))return!0;return!1}var Du=Nu;function ra(e,r){return e.has(r)}var Br=ra,ju=1,_r=2;function na(e,r,t,n,i,a){var c=t&ju,h=e.length,m=r.length;if(h!=m&&!(c&&m>h))return!1;var x=a.get(e),w=a.get(r);if(x&&w)return x==r&&w==e;var j=-1,B=!0,G=t&_r?new Au:void 0;for(a.set(e,r),a.set(r,e);++j<h;){var K=e[j],oe=r[j];if(n)var ne=c?n(oe,K,j,r,e,a):n(K,oe,j,e,r,a);if(ne!==void 0){if(ne)continue;B=!1;break}if(G){if(!Du(r,function(ae,we){if(!Br(G,we)&&(K===ae||i(K,ae,t,n,a)))return G.push(we)})){B=!1;break}}else if(!(K===oe||i(K,oe,t,n,a))){B=!1;break}}return a.delete(e),a.delete(r),B}var oa=na,qo=Tr.a.Uint8Array,Ut=qo;function ia(e){var r=-1,t=Array(e.size);return e.forEach(function(n,i){t[++r]=[i,n]}),t}var Cu=ia;function aa(e){var r=-1,t=Array(e.size);return e.forEach(function(n){t[++r]=n}),t}var cr=aa,sa=1,ei=2,la="[object Boolean]",ua="[object Date]",Iu="[object Error]",fa="[object Map]",Ru="[object Number]",Lu="[object RegExp]",br="[object Set]",Dr="[object String]",Jn="[object Symbol]",Bu="[object ArrayBuffer]",ca="[object DataView]",go=fr?fr.prototype:void 0,Qn=go?go.valueOf:void 0;function da(e,r,t,n,i,a,c){switch(t){case ca:if(e.byteLength!=r.byteLength||e.byteOffset!=r.byteOffset)return!1;e=e.buffer,r=r.buffer;case Bu:return!(e.byteLength!=r.byteLength||!a(new Ut(e),new Ut(r)));case la:case ua:case Ru:return Jt(+e,+r);case Iu:return e.name==r.name&&e.message==r.message;case Lu:case Dr:return e==r+"";case fa:var h=Cu;case br:var m=n&sa;if(h||(h=cr),e.size!=r.size&&!m)return!1;var x=c.get(e);if(x)return x==r;n|=ei,c.set(e,r);var w=oa(h(e),h(r),n,i,a,c);return c.delete(e),w;case Jn:if(Qn)return Qn.call(e)==Qn.call(r)}return!1}var _u=da;function mo(e,r){for(var t=-1,n=r.length,i=e.length;++t<n;)e[i+t]=r[t];return e}var ti=mo,pa=Array.isArray,p=pa;function g(e,r,t){var n=r(e);return p(e)?n:ti(n,t(e))}var S=g;function C(e,r){for(var t=-1,n=e==null?0:e.length,i=0,a=[];++t<n;){var c=e[t];r(c,t,e)&&(a[i++]=c)}return a}var F=C;function V(){return[]}var fe=V,Me=Object.prototype,ke=Me.propertyIsEnumerable,ct=Object.getOwnPropertySymbols,dt=ct?function(e){return e==null?[]:(e=Object(e),F(ct(e),function(r){return ke.call(e,r)}))}:fe,Et=dt;function xt(e,r){for(var t=-1,n=Array(e);++t<e;)n[t]=r(t);return n}var Lt=xt;function Xt(e){return e!=null&&typeof e=="object"}var Tt=Xt,Or="[object Arguments]";function Dn(e){return Tt(e)&&Xr(e)==Or}var ha=Dn,va=Object.prototype,ya=va.hasOwnProperty,ga=va.propertyIsEnumerable,ri=ha(function(){return arguments}())?ha:function(e){return Tt(e)&&ya.call(e,"callee")&&!ga.call(e,"callee")},jn=ri,ln=o(48),Ab=9007199254740991,Nb=/^(?:0|[1-9]\d*)$/;function Db(e,r){var t=typeof e;return r=r??Ab,!!r&&(t=="number"||t!="symbol"&&Nb.test(e))&&e>-1&&e%1==0&&e<r}var ma=Db,jb=9007199254740991;function Cb(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=jb}var zu=Cb,Ib="[object Arguments]",Rb="[object Array]",Lb="[object Boolean]",Bb="[object Date]",_b="[object Error]",zb="[object Function]",Fb="[object Map]",Gb="[object Number]",Hb="[object Object]",$b="[object RegExp]",kb="[object Set]",Ub="[object String]",Xb="[object WeakMap]",Yb="[object ArrayBuffer]",Wb="[object DataView]",Kb="[object Float32Array]",Vb="[object Float64Array]",Zb="[object Int8Array]",Jb="[object Int16Array]",Qb="[object Int32Array]",qb="[object Uint8Array]",eO="[object Uint8ClampedArray]",tO="[object Uint16Array]",rO="[object Uint32Array]",Nt={};Nt[Kb]=Nt[Vb]=Nt[Zb]=Nt[Jb]=Nt[Qb]=Nt[qb]=Nt[eO]=Nt[tO]=Nt[rO]=!0,Nt[Ib]=Nt[Rb]=Nt[Yb]=Nt[Lb]=Nt[Wb]=Nt[Bb]=Nt[_b]=Nt[zb]=Nt[Fb]=Nt[Gb]=Nt[Hb]=Nt[$b]=Nt[kb]=Nt[Ub]=Nt[Xb]=!1;function nO(e){return Tt(e)&&zu(e.length)&&!!Nt[Xr(e)]}var oO=nO;function iO(e){return function(r){return e(r)}}var Fu=iO,bo=o(49),md=bo.a&&bo.a.isTypedArray,aO=md?Fu(md):oO,Gu=aO,sO=Object.prototype,lO=sO.hasOwnProperty;function uO(e,r){var t=p(e),n=!t&&jn(e),i=!t&&!n&&Object(ln.a)(e),a=!t&&!n&&!i&&Gu(e),c=t||n||i||a,h=c?Lt(e.length,String):[],m=h.length;for(var x in e)(r||lO.call(e,x))&&!(c&&(x=="length"||i&&(x=="offset"||x=="parent")||a&&(x=="buffer"||x=="byteLength"||x=="byteOffset")||ma(x,m)))&&h.push(x);return h}var bd=uO,fO=Object.prototype;function cO(e){var r=e&&e.constructor,t=typeof r=="function"&&r.prototype||fO;return e===t}var ba=cO;function dO(e,r){return function(t){return e(r(t))}}var Od=dO,pO=Od(Object.keys,Object),hO=pO,vO=Object.prototype,yO=vO.hasOwnProperty;function gO(e){if(!ba(e))return hO(e);var r=[];for(var t in Object(e))yO.call(e,t)&&t!="constructor"&&r.push(t);return r}var mO=gO;function bO(e){return e!=null&&zu(e.length)&&!co(e)}var qn=bO;function OO(e){return qn(e)?bd(e):mO(e)}var Oo=OO;function EO(e){return S(e,Oo,Et)}var Hu=EO,xO=1,SO=Object.prototype,PO=SO.hasOwnProperty;function MO(e,r,t,n,i,a){var c=t&xO,h=Hu(e),m=h.length,x=Hu(r),w=x.length;if(m!=w&&!c)return!1;for(var j=m;j--;){var B=h[j];if(!(c?B in r:PO.call(r,B)))return!1}var G=a.get(e),K=a.get(r);if(G&&K)return G==r&&K==e;var oe=!0;a.set(e,r),a.set(r,e);for(var ne=c;++j<m;){B=h[j];var ae=e[B],we=r[B];if(n)var Ce=c?n(we,ae,B,r,e,a):n(ae,we,B,e,r,a);if(!(Ce===void 0?ae===we||i(ae,we,t,n,a):Ce)){oe=!1;break}ne||(ne=B=="constructor")}if(oe&&!ne){var ye=e.constructor,Le=r.constructor;ye!=Le&&"constructor"in e&&"constructor"in r&&!(typeof ye=="function"&&ye instanceof ye&&typeof Le=="function"&&Le instanceof Le)&&(oe=!1)}return a.delete(e),a.delete(r),oe}var TO=MO,wO=Lr(Tr.a,"DataView"),$u=wO,AO=Lr(Tr.a,"Promise"),ku=AO,NO=Lr(Tr.a,"Set"),Uu=NO,DO=Lr(Tr.a,"WeakMap"),Xu=DO,Ed="[object Map]",jO="[object Object]",xd="[object Promise]",Sd="[object Set]",Pd="[object WeakMap]",Md="[object DataView]",CO=Ct($u),IO=Ct(xn),RO=Ct(ku),LO=Ct(Uu),BO=Ct(Xu),eo=Xr;($u&&eo(new $u(new ArrayBuffer(1)))!=Md||xn&&eo(new xn)!=Ed||ku&&eo(ku.resolve())!=xd||Uu&&eo(new Uu)!=Sd||Xu&&eo(new Xu)!=Pd)&&(eo=function(e){var r=Xr(e),t=r==jO?e.constructor:void 0,n=t?Ct(t):"";if(n)switch(n){case CO:return Md;case IO:return Ed;case RO:return xd;case LO:return Sd;case BO:return Pd}return r});var ni=eo,_O=1,Td="[object Arguments]",wd="[object Array]",Oa="[object Object]",zO=Object.prototype,Ad=zO.hasOwnProperty;function FO(e,r,t,n,i,a){var c=p(e),h=p(r),m=c?wd:ni(e),x=h?wd:ni(r);m=m==Td?Oa:m,x=x==Td?Oa:x;var w=m==Oa,j=x==Oa,B=m==x;if(B&&Object(ln.a)(e)){if(!Object(ln.a)(r))return!1;c=!0,w=!1}if(B&&!w)return a||(a=new Nn),c||Gu(e)?oa(e,r,t,n,i,a):_u(e,r,m,t,n,i,a);if(!(t&_O)){var G=w&&Ad.call(e,"__wrapped__"),K=j&&Ad.call(r,"__wrapped__");if(G||K){var oe=G?e.value():e,ne=K?r.value():r;return a||(a=new Nn),i(oe,ne,t,n,a)}}return B?(a||(a=new Nn),TO(e,r,t,n,i,a)):!1}var GO=FO;function Nd(e,r,t,n,i){return e===r?!0:e==null||r==null||!Tt(e)&&!Tt(r)?e!==e&&r!==r:GO(e,r,t,n,Nd,i)}var Yu=Nd,HO=1,$O=2;function kO(e,r,t,n){var i=t.length,a=i,c=!n;if(e==null)return!a;for(e=Object(e);i--;){var h=t[i];if(c&&h[2]?h[1]!==e[h[0]]:!(h[0]in e))return!1}for(;++i<a;){h=t[i];var m=h[0],x=e[m],w=h[1];if(c&&h[2]){if(x===void 0&&!(m in e))return!1}else{var j=new Nn;if(n)var B=n(x,w,m,e,r,j);if(!(B===void 0?Yu(w,x,HO|$O,n,j):B))return!1}}return!0}var UO=kO;function XO(e){return e===e&&!Mt(e)}var Dd=XO;function YO(e){for(var r=Oo(e),t=r.length;t--;){var n=r[t],i=e[n];r[t]=[n,i,Dd(i)]}return r}var WO=YO;function KO(e,r){return function(t){return t==null?!1:t[e]===r&&(r!==void 0||e in Object(t))}}var jd=KO;function VO(e){var r=WO(e);return r.length==1&&r[0][2]?jd(r[0][0],r[0][1]):function(t){return t===e||UO(t,e,r)}}var ZO=VO,JO="[object Symbol]";function QO(e){return typeof e=="symbol"||Tt(e)&&Xr(e)==JO}var Ea=QO,qO=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,eE=/^\w*$/;function tE(e,r){if(p(e))return!1;var t=typeof e;return t=="number"||t=="symbol"||t=="boolean"||e==null||Ea(e)?!0:eE.test(e)||!qO.test(e)||r!=null&&e in Object(r)}var Wu=tE,rE="Expected a function";function Ku(e,r){if(typeof e!="function"||r!=null&&typeof r!="function")throw new TypeError(rE);var t=function(){var n=arguments,i=r?r.apply(this,n):n[0],a=t.cache;if(a.has(i))return a.get(i);var c=e.apply(this,n);return t.cache=a.set(i,c)||a,c};return t.cache=new(Ku.Cache||Kn),t}Ku.Cache=Kn;var nE=Ku,oE=500;function iE(e){var r=nE(e,function(n){return t.size===oE&&t.clear(),n}),t=r.cache;return r}var aE=iE,sE=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,lE=/\\(\\)?/g,uE=aE(function(e){var r=[];return e.charCodeAt(0)===46&&r.push(""),e.replace(sE,function(t,n,i,a){r.push(i?a.replace(lE,"$1"):n||t)}),r}),fE=uE,cE=1/0,Cd=fr?fr.prototype:void 0,Id=Cd?Cd.toString:void 0;function Rd(e){if(typeof e=="string")return e;if(p(e))return St(e,Rd)+"";if(Ea(e))return Id?Id.call(e):"";var r=e+"";return r=="0"&&1/e==-cE?"-0":r}var dE=Rd;function pE(e){return e==null?"":dE(e)}var hE=pE;function vE(e,r){return p(e)?e:Wu(e,r)?[e]:fE(hE(e))}var xa=vE,yE=1/0;function gE(e){if(typeof e=="string"||Ea(e))return e;var r=e+"";return r=="0"&&1/e==-yE?"-0":r}var oi=gE;function mE(e,r){r=xa(r,e);for(var t=0,n=r.length;e!=null&&t<n;)e=e[oi(r[t++])];return t&&t==n?e:void 0}var Vu=mE;function bE(e,r,t){var n=e==null?void 0:Vu(e,r);return n===void 0?t:n}var Ld=bE;function OE(e,r){return e!=null&&r in Object(e)}var EE=OE;function xE(e,r,t){r=xa(r,e);for(var n=-1,i=r.length,a=!1;++n<i;){var c=oi(r[n]);if(!(a=e!=null&&t(e,c)))break;e=e[c]}return a||++n!=i?a:(i=e==null?0:e.length,!!i&&zu(i)&&ma(c,i)&&(p(e)||jn(e)))}var SE=xE;function PE(e,r){return e!=null&&SE(e,r,EE)}var Bd=PE,ME=1,TE=2;function wE(e,r){return Wu(e)&&Dd(r)?jd(oi(e),r):function(t){var n=Ld(t,e);return n===void 0&&n===r?Bd(t,e):Yu(r,n,ME|TE)}}var AE=wE;function NE(e){return e}var Zu=NE;function DE(e){return function(r){return r==null?void 0:r[e]}}var jE=DE;function CE(e){return function(r){return Vu(r,e)}}var IE=CE;function RE(e){return Wu(e)?jE(oi(e)):IE(e)}var LE=RE;function BE(e){return typeof e=="function"?e:e==null?Zu:typeof e=="object"?p(e)?AE(e[0],e[1]):ZO(e):LE(e)}var _E=BE;function zE(e){return function(r,t,n){for(var i=-1,a=Object(r),c=n(r),h=c.length;h--;){var m=c[e?h:++i];if(t(a[m],m,a)===!1)break}return r}}var FE=zE,GE=FE(),_d=GE;function HE(e,r){return e&&_d(e,r,Oo)}var $E=HE;function kE(e,r){return function(t,n){if(t==null)return t;if(!qn(t))return e(t,n);for(var i=t.length,a=r?i:-1,c=Object(t);(r?a--:++a<i)&&n(c[a],a,c)!==!1;);return t}}var UE=kE,XE=UE($E),YE=XE;function WE(e,r){var t=-1,n=qn(e)?Array(e.length):[];return YE(e,function(i,a,c){n[++t]=r(i,a,c)}),n}var KE=WE;function VE(e,r){var t=p(e)?St:KE;return t(e,_E(r))}var Sa=VE,ZE=function(){try{var e=Lr(Object,"defineProperty");return e({},"",{}),e}catch{}}(),Pa=ZE;function JE(e,r,t){r=="__proto__"&&Pa?Pa(e,r,{configurable:!0,enumerable:!0,value:t,writable:!0}):e[r]=t}var Ju=JE,QE=Object.prototype,qE=QE.hasOwnProperty;function ex(e,r,t){var n=e[r];(!(qE.call(e,r)&&Jt(n,t))||t===void 0&&!(r in e))&&Ju(e,r,t)}var Ma=ex;function tx(e,r,t,n){var i=!t;t||(t={});for(var a=-1,c=r.length;++a<c;){var h=r[a],m=n?n(t[h],e[h],h,t,e):void 0;m===void 0&&(m=e[h]),i?Ju(t,h,m):Ma(t,h,m)}return t}var Eo=tx;function rx(e,r,t){switch(t.length){case 0:return e.call(r);case 1:return e.call(r,t[0]);case 2:return e.call(r,t[0],t[1]);case 3:return e.call(r,t[0],t[1],t[2])}return e.apply(r,t)}var nx=rx,zd=Math.max;function ox(e,r,t){return r=zd(r===void 0?e.length-1:r,0),function(){for(var n=arguments,i=-1,a=zd(n.length-r,0),c=Array(a);++i<a;)c[i]=n[r+i];i=-1;for(var h=Array(r+1);++i<r;)h[i]=n[i];return h[r]=t(c),nx(e,this,h)}}var Fd=ox;function ix(e){return function(){return e}}var ax=ix,sx=Pa?function(e,r){return Pa(e,"toString",{configurable:!0,enumerable:!1,value:ax(r),writable:!0})}:Zu,lx=sx,ux=800,fx=16,cx=Date.now;function dx(e){var r=0,t=0;return function(){var n=cx(),i=fx-(n-t);if(t=n,i>0){if(++r>=ux)return arguments[0]}else r=0;return e.apply(void 0,arguments)}}var px=dx,hx=px(lx),Gd=hx;function vx(e,r){return Gd(Fd(e,r,Zu),e+"")}var yx=vx;function gx(e,r,t){if(!Mt(t))return!1;var n=typeof r;return(n=="number"?qn(t)&&ma(r,t.length):n=="string"&&r in t)?Jt(t[r],e):!1}var mx=gx;function bx(e){return yx(function(r,t){var n=-1,i=t.length,a=i>1?t[i-1]:void 0,c=i>2?t[2]:void 0;for(a=e.length>3&&typeof a=="function"?(i--,a):void 0,c&&mx(t[0],t[1],c)&&(a=i<3?void 0:a,i=1),r=Object(r);++n<i;){var h=t[n];h&&e(r,h,n,a)}return r})}var Hd=bx,Ox=Object.prototype,Ex=Ox.hasOwnProperty,xx=Hd(function(e,r){if(ba(r)||qn(r)){Eo(r,Oo(r),e);return}for(var t in r)Ex.call(r,t)&&Ma(e,t,r[t])}),ar=xx;function Sx(e,r,t,n){if(!Mt(e))return e;r=xa(r,e);for(var i=-1,a=r.length,c=a-1,h=e;h!=null&&++i<a;){var m=oi(r[i]),x=t;if(m==="__proto__"||m==="constructor"||m==="prototype")return e;if(i!=c){var w=h[m];x=n?n(w,m,h):void 0,x===void 0&&(x=Mt(w)?w:ma(r[i+1])?[]:{})}Ma(h,m,x),h=h[m]}return e}var Px=Sx;function Mx(e,r,t){for(var n=-1,i=r.length,a={};++n<i;){var c=r[n],h=Vu(e,c);t(h,c)&&Px(a,xa(c,e),h)}return a}var Tx=Mx;function wx(e,r){return Tx(e,r,function(t,n){return Bd(e,n)})}var Ax=wx,$d=fr?fr.isConcatSpreadable:void 0;function Nx(e){return p(e)||jn(e)||!!($d&&e&&e[$d])}var Dx=Nx;function kd(e,r,t,n,i){var a=-1,c=e.length;for(t||(t=Dx),i||(i=[]);++a<c;){var h=e[a];r>0&&t(h)?r>1?kd(h,r-1,t,n,i):ti(i,h):n||(i[i.length]=h)}return i}var jx=kd;function Cx(e){var r=e==null?0:e.length;return r?jx(e,1):[]}var Ix=Cx;function Rx(e){return Gd(Fd(e,void 0,Ix),e+"")}var Lx=Rx,Bx=Lx(function(e,r){return e==null?{}:Ax(e,r)}),ii=Bx,It,Ud,Xd,Yd,Wd,Kd,Vd,Zd,Jd,Qd,qd,ep,tp,rp,np,op,ip,ap;function Vt(e,r,t,n){t&&Object.defineProperty(e,r,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(n):void 0})}function _x(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function sp(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function zx(e,r,t){return r&&sp(e.prototype,r),t&&sp(e,t),e}function lp(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function Yt(e,r,t,n,i){var a={};return Object.keys(n).forEach(function(c){a[c]=n[c]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=t.slice().reverse().reduce(function(c,h){return h(e,r,c)||c},a),i&&a.initializer!==void 0&&(a.value=a.initializer?a.initializer.call(i):void 0,a.initializer=void 0),a.initializer===void 0&&(Object.defineProperty(e,r,a),a=null),a}var Fx={stopZoomGraph:!1,stopScrollGraph:!1,stopMoveGraph:!1,adjustEdge:!1,adjustEdgeStartAndEnd:!1,adjustNodePosition:!1,hideAnchors:!0,nodeSelectedOutline:!0,nodeTextEdit:!1,edgeTextEdit:!1,nodeTextDraggable:!1,edgeTextDraggable:!1},Qu=["isSilentMode","stopZoomGraph","stopScrollGraph","stopMoveGraph","adjustEdge","adjustEdgeMiddle","adjustEdgeStartAndEnd","adjustNodePosition","hideAnchors","hoverOutline","nodeSelectedOutline","edgeSelectedOutline","nodeTextEdit","edgeTextEdit","nodeTextDraggable","edgeTextDraggable","multipleSelectKey","autoExpand"],up=(It=function(){function e(r){_x(this,e),Vt(this,"isSilentMode",Ud,this),Vt(this,"stopZoomGraph",Xd,this),Vt(this,"stopScrollGraph",Yd,this),Vt(this,"stopMoveGraph",Wd,this),Vt(this,"adjustEdge",Kd,this),Vt(this,"adjustEdgeMiddle",Vd,this),Vt(this,"adjustEdgeStartAndEnd",Zd,this),Vt(this,"adjustNodePosition",Jd,this),Vt(this,"hideAnchors",Qd,this),Vt(this,"hoverOutline",qd,this),Vt(this,"nodeSelectedOutline",ep,this),Vt(this,"edgeSelectedOutline",tp,this),Vt(this,"nodeTextEdit",rp,this),Vt(this,"edgeTextEdit",np,this),Vt(this,"nodeTextDraggable",op,this),Vt(this,"edgeTextDraggable",ip,this),Vt(this,"autoExpand",ap,this),lp(this,"multipleSelectKey",""),lp(this,"defaultConfig",{}),ar(this,this.getConfigDetail(r))}return zx(e,[{key:"updateEditConfig",value:function(t){var n=this.getConfigDetail(t);ar(this,n)}},{key:"getConfigDetail",value:function(t){var n=t.isSilentMode,i=t.textEdit,a={};if(n===!1&&ar(a,this.defaultConfig),n===!0){var c=ii(Fx,Qu);this.defaultConfig={stopZoomGraph:this.stopZoomGraph,stopScrollGraph:this.stopScrollGraph,stopMoveGraph:this.stopMoveGraph,adjustEdge:this.adjustEdge,adjustEdgeMiddle:this.adjustEdgeMiddle,adjustEdgeStartAndEnd:this.adjustEdgeStartAndEnd,adjustNodePosition:this.adjustNodePosition,hideAnchors:this.hideAnchors,hoverOutline:this.hoverOutline,nodeSelectedOutline:this.nodeSelectedOutline,edgeSelectedOutline:this.edgeSelectedOutline,nodeTextEdit:this.nodeTextEdit,edgeTextEdit:this.edgeTextEdit,nodeTextDraggable:this.nodeTextDraggable,edgeTextDraggable:this.edgeTextDraggable,autoExpand:this.autoExpand},ar(a,c)}i===!1&&ar(a,{nodeTextEdit:!1,edgeTextEdit:!1});var h=ii(t,Qu);return ar(a,h)}},{key:"getConfig",value:function(){return ii(this,Qu)}}]),e}(),Ud=Yt(It.prototype,"isSilentMode",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Xd=Yt(It.prototype,"stopZoomGraph",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Yd=Yt(It.prototype,"stopScrollGraph",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Wd=Yt(It.prototype,"stopMoveGraph",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Kd=Yt(It.prototype,"adjustEdge",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Vd=Yt(It.prototype,"adjustEdgeMiddle",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Zd=Yt(It.prototype,"adjustEdgeStartAndEnd",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Jd=Yt(It.prototype,"adjustNodePosition",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Qd=Yt(It.prototype,"hideAnchors",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),qd=Yt(It.prototype,"hoverOutline",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),ep=Yt(It.prototype,"nodeSelectedOutline",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),tp=Yt(It.prototype,"edgeSelectedOutline",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),rp=Yt(It.prototype,"nodeTextEdit",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),np=Yt(It.prototype,"edgeTextEdit",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),op=Yt(It.prototype,"nodeTextDraggable",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ip=Yt(It.prototype,"edgeTextDraggable",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ap=Yt(It.prototype,"autoExpand",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Yt(It.prototype,"updateEditConfig",[l.k],Object.getOwnPropertyDescriptor(It.prototype,"updateEditConfig"),It.prototype),It);o(63);var bt;(function(e){e[e.DEFAULT=1]="DEFAULT",e[e.TEXT_EDIT=2]="TEXT_EDIT",e[e.SHOW_MENU=3]="SHOW_MENU",e[e.ALLOW_CONNECT=4]="ALLOW_CONNECT",e[e.NOT_ALLOW_CONNECT=5]="NOT_ALLOW_CONNECT"})(bt||(bt={}));var fp;(function(e){e.KEY="logic-flow",e.NODE_NAME="lf-node",e.EDGE_NAME="lf-edge"})(fp||(fp={}));var pt;(function(e){e.NODE="node",e.CIRCLE_NODE="circle-node",e.POLYGON_NODE="polygon-node",e.RECT_NODE="rect-node",e.TEXT_NODE="text-node",e.ELLIPSE_NODE="ellipse-node",e.DIAMOND_NODE="diamond-node",e.HTML_NODE="html-node",e.EDGE="edge",e.LINE_EDGE="line-edge",e.POLYLINE_EDGE="polyline-edge",e.BEZIER_EDGE="bezier-edge",e.GRAPH="graph"})(pt||(pt={}));var zt;(function(e){e.NODE="node",e.EDGE="edge",e.GRAPH="graph"})(zt||(zt={}));var nt;(function(e){e.ELEMENT_CLICK="element:click",e.NODE_CLICK="node:click",e.NODE_DBCLICK="node:dbclick",e.NODE_DELETE="node:delete",e.NODE_ADD="node:add",e.NODE_DND_ADD="node:dnd-add",e.NODE_DND_DRAG="node:dnd-drag",e.NODE_MOUSEDOWN="node:mousedown",e.NODE_DRAGSTART="node:dragstart",e.NODE_DRAG="node:drag",e.NODE_DROP="node:drop",e.NODE_MOUSEUP="node:mouseup",e.NODE_MOUSEMOVE="node:mousemove",e.NODE_MOUSEENTER="node:mouseenter",e.NODE_MOUSELEAVE="node:mouseleave",e.NODE_CONTEXTMENU="node:contextmenu",e.EDGE_DELETE="edge:delete",e.EDGE_ADD="edge:add",e.EDGE_CLICK="edge:click",e.EDGE_DBCLICK="edge:dbclick",e.EDGE_MOUSEENTER="edge:mouseenter",e.EDGE_MOUSELEAVE="edge:mouseleave",e.EDGE_CONTEXTMENU="edge:contextmenu",e.EDGE_ADJUST="edge:adjust",e.EDGE_EXCHANGE_NODE="edge:exchange-node",e.ANCHOR_DRAGSTART="anchor:dragstart",e.ANCHOR_DRAG="anchor:drag",e.ANCHOR_DROP="anchor:drop",e.ANCHOR_DRAGEND="anchor:dragend",e.ADJUST_POINT_MOUSEDOWN="adjustPoint:mousedown",e.ADJUST_POINT_MOUSEUP="adjustPoint:mouseup",e.ADJUST_POINT_MOUSEMOVE="adjustPoint:mousemove",e.ADJUST_POINT_DRAGSTART="adjustPoint:dragstart",e.ADJUST_POINT_DRAG="adjustPoint:drag",e.ADJUST_POINT_DROP="adjustPoint:drop",e.ADJUST_POINT_DRAGEND="adjustPoint:dragend",e.BLANK_MOUSEDOWN="blank:mousedown",e.BLANK_DRAGSTART="blank:dragstart",e.BLANK_DRAG="blank:drag",e.BLANK_DROP="blank:drop",e.BLANK_MOUSEMOVE="blank:mousemove",e.BLANK_MOUSEUP="blank:mouseup",e.BLANK_CLICK="blank:click",e.BLANK_CONTEXTMENU="blank:contextmenu",e.SELECTION_MOUSEDOWN="selection:mousedown",e.SELECTION_DRAGSTART="selection:dragstart",e.SELECTION_DRAG="selection:drag",e.SELECTION_DROP="selection:drop",e.SELECTION_MOUSEMOVE="selection:mousemove",e.SELECTION_MOUSEUP="selection:mouseup",e.SELECTION_CONTEXTMENU="selection:contextmenu",e.CONNECTION_NOT_ALLOWED="connection:not-allowed",e.HISTORY_CHANGE="history:change",e.TEXT_UPDATE="text:update",e.GRAPH_TRANSFORM="graph:transform",e.GRAPH_RENDERED="graph:rendered"})(nt||(nt={}));var Dt;(function(e){e.HORIZONTAL="horizontal",e.VERTICAL="vertical"})(Dt||(Dt={}));var Gx=9999,Er;(function(e){e[e.DEFAULT=0]="DEFAULT",e[e.INCREASE=1]="INCREASE"})(Er||(Er={}));var Bt,cp,dp,pp,hp,vp,yp,gp;function Ta(e,r){return Ux(e)||kx(e,r)||$x(e,r)||Hx()}function Hx(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $x(e,r){if(e){if(typeof e=="string")return mp(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return mp(e,r)}}function mp(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function kx(e,r){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],i=!0,a=!1,c,h;try{for(t=t.call(e);!(i=(c=t.next()).done)&&(n.push(c.value),!(r&&n.length===r));i=!0);}catch(m){a=!0,h=m}finally{try{!i&&t.return!=null&&t.return()}finally{if(a)throw h}}return n}}function Ux(e){if(Array.isArray(e))return e}function to(e,r,t,n){t&&Object.defineProperty(e,r,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(n):void 0})}function Xx(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function bp(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Yx(e,r,t){return r&&bp(e.prototype,r),t&&bp(e,t),e}function qu(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function zr(e,r,t,n,i){var a={};return Object.keys(n).forEach(function(c){a[c]=n[c]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=t.slice().reverse().reduce(function(c,h){return h(e,r,c)||c},a),i&&a.initializer!==void 0&&(a.value=a.initializer?a.initializer.call(i):void 0,a.initializer=void 0),a.initializer===void 0&&(Object.defineProperty(e,r,a),a=null),a}var Wx=(Bt=function(){function e(r){Xx(this,e),qu(this,"MINI_SCALE_SIZE",.2),qu(this,"MAX_SCALE_SIZE",16),to(this,"SCALE_X",cp,this),to(this,"SKEW_Y",dp,this),to(this,"SKEW_X",pp,this),to(this,"SCALE_Y",hp,this),to(this,"TRANSLATE_X",vp,this),to(this,"TRANSLATE_Y",yp,this),to(this,"ZOOM_SIZE",gp,this),qu(this,"eventCenter",void 0),this.eventCenter=r}return Yx(e,[{key:"setZoomMiniSize",value:function(t){this.MINI_SCALE_SIZE=t}},{key:"setZoomMaxSize",value:function(t){this.MAX_SCALE_SIZE=t}},{key:"HtmlPointToCanvasPoint",value:function(t){var n=Ta(t,2),i=n[0],a=n[1];return[(i-this.TRANSLATE_X)/this.SCALE_X,(a-this.TRANSLATE_Y)/this.SCALE_Y]}},{key:"CanvasPointToHtmlPoint",value:function(t){var n=Ta(t,2),i=n[0],a=n[1];return[i*this.SCALE_X+this.TRANSLATE_X,a*this.SCALE_Y+this.TRANSLATE_Y]}},{key:"moveCanvasPointByHtml",value:function(t,n,i){var a=Ta(t,2),c=a[0],h=a[1];return[c+n/this.SCALE_X,h+i/this.SCALE_Y]}},{key:"fixDeltaXY",value:function(t,n){return[t/this.SCALE_X,n/this.SCALE_Y]}},{key:"getTransformStyle",value:function(){var t=[this.SCALE_X,this.SKEW_Y,this.SKEW_X,this.SCALE_Y,this.TRANSLATE_X,this.TRANSLATE_Y].join(",");return{transform:"matrix(".concat(t,")")}}},{key:"zoom",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,n=arguments.length>1?arguments[1]:void 0,i=this.SCALE_X,a=this.SCALE_Y;return t===!0?(i+=this.ZOOM_SIZE,a+=this.ZOOM_SIZE):t===!1?(i-=this.ZOOM_SIZE,a-=this.ZOOM_SIZE):typeof t=="number"&&(i=t,a=t),i<this.MINI_SCALE_SIZE||i>this.MAX_SCALE_SIZE?"".concat(this.SCALE_X*100,"%"):(n&&(this.TRANSLATE_X-=(i-this.SCALE_X)*n[0],this.TRANSLATE_Y-=(a-this.SCALE_Y)*n[1]),this.SCALE_X=i,this.SCALE_Y=a,this.emitGraphTransform("zoom"),"".concat(this.SCALE_X*100,"%"))}},{key:"emitGraphTransform",value:function(t){this.eventCenter.emit(nt.GRAPH_TRANSFORM,{type:t,transform:{SCALE_X:this.SCALE_X,SKEW_Y:this.SKEW_Y,SKEW_X:this.SKEW_X,SCALE_Y:this.SCALE_Y,TRANSLATE_X:this.TRANSLATE_X,TRANSLATE_Y:this.TRANSLATE_Y}})}},{key:"resetZoom",value:function(){this.SCALE_X=1,this.SCALE_Y=1,this.emitGraphTransform("resetZoom")}},{key:"translate",value:function(t,n){this.TRANSLATE_X+=t,this.TRANSLATE_Y+=n,this.emitGraphTransform("translate")}},{key:"focusOn",value:function(t,n,i,a){var c=this.CanvasPointToHtmlPoint([t,n]),h=Ta(c,2),m=h[0],x=h[1],w=i/2-m,j=a/2-x;this.TRANSLATE_X+=w,this.TRANSLATE_Y+=j,this.emitGraphTransform("focusOn")}}]),e}(),cp=zr(Bt.prototype,"SCALE_X",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),dp=zr(Bt.prototype,"SKEW_Y",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),pp=zr(Bt.prototype,"SKEW_X",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),hp=zr(Bt.prototype,"SCALE_Y",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),vp=zr(Bt.prototype,"TRANSLATE_X",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),yp=zr(Bt.prototype,"TRANSLATE_Y",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),gp=zr(Bt.prototype,"ZOOM_SIZE",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return .04}}),zr(Bt.prototype,"zoom",[l.k],Object.getOwnPropertyDescriptor(Bt.prototype,"zoom"),Bt.prototype),zr(Bt.prototype,"resetZoom",[l.k],Object.getOwnPropertyDescriptor(Bt.prototype,"resetZoom"),Bt.prototype),zr(Bt.prototype,"translate",[l.k],Object.getOwnPropertyDescriptor(Bt.prototype,"translate"),Bt.prototype),zr(Bt.prototype,"focusOn",[l.k],Object.getOwnPropertyDescriptor(Bt.prototype,"focusOn"),Bt.prototype),Bt);function Kx(e,r){for(var t=-1,n=e==null?0:e.length;++t<n&&r(e[t],t,e)!==!1;);return e}var Vx=Kx;function Zx(e,r){return e&&Eo(r,Oo(r),e)}var Jx=Zx;function Qx(e){var r=[];if(e!=null)for(var t in Object(e))r.push(t);return r}var qx=Qx,eS=Object.prototype,tS=eS.hasOwnProperty;function rS(e){if(!Mt(e))return qx(e);var r=ba(e),t=[];for(var n in e)n=="constructor"&&(r||!tS.call(e,n))||t.push(n);return t}var nS=rS;function oS(e){return qn(e)?bd(e,!0):nS(e)}var ai=oS;function iS(e,r){return e&&Eo(r,ai(r),e)}var aS=iS,Op=o(106);function sS(e,r){var t=-1,n=e.length;for(r||(r=Array(n));++t<n;)r[t]=e[t];return r}var Ep=sS;function lS(e,r){return Eo(e,Et(e),r)}var uS=lS,fS=Od(Object.getPrototypeOf,Object),ef=fS,cS=Object.getOwnPropertySymbols,dS=cS?function(e){for(var r=[];e;)ti(r,Et(e)),e=ef(e);return r}:fe,xp=dS;function pS(e,r){return Eo(e,xp(e),r)}var hS=pS;function vS(e){return S(e,ai,xp)}var yS=vS,gS=Object.prototype,mS=gS.hasOwnProperty;function bS(e){var r=e.length,t=new e.constructor(r);return r&&typeof e[0]=="string"&&mS.call(e,"index")&&(t.index=e.index,t.input=e.input),t}var OS=bS;function ES(e){var r=new e.constructor(e.byteLength);return new Ut(r).set(new Ut(e)),r}var tf=ES;function xS(e,r){var t=r?tf(e.buffer):e.buffer;return new e.constructor(t,e.byteOffset,e.byteLength)}var SS=xS,PS=/\w*$/;function MS(e){var r=new e.constructor(e.source,PS.exec(e));return r.lastIndex=e.lastIndex,r}var TS=MS,Sp=fr?fr.prototype:void 0,Pp=Sp?Sp.valueOf:void 0;function wS(e){return Pp?Object(Pp.call(e)):{}}var AS=wS;function NS(e,r){var t=r?tf(e.buffer):e.buffer;return new e.constructor(t,e.byteOffset,e.length)}var Mp=NS,DS="[object Boolean]",jS="[object Date]",CS="[object Map]",IS="[object Number]",RS="[object RegExp]",LS="[object Set]",BS="[object String]",_S="[object Symbol]",zS="[object ArrayBuffer]",FS="[object DataView]",GS="[object Float32Array]",HS="[object Float64Array]",$S="[object Int8Array]",kS="[object Int16Array]",US="[object Int32Array]",XS="[object Uint8Array]",YS="[object Uint8ClampedArray]",WS="[object Uint16Array]",KS="[object Uint32Array]";function VS(e,r,t){var n=e.constructor;switch(r){case zS:return tf(e);case DS:case jS:return new n(+e);case FS:return SS(e,t);case GS:case HS:case $S:case kS:case US:case XS:case YS:case WS:case KS:return Mp(e,t);case CS:return new n;case IS:case BS:return new n(e);case RS:return TS(e);case LS:return new n;case _S:return AS(e)}}var ZS=VS,Tp=Object.create,JS=function(){function e(){}return function(r){if(!Mt(r))return{};if(Tp)return Tp(r);e.prototype=r;var t=new e;return e.prototype=void 0,t}}(),QS=JS;function qS(e){return typeof e.constructor=="function"&&!ba(e)?QS(ef(e)):{}}var wp=qS,eP="[object Map]";function tP(e){return Tt(e)&&ni(e)==eP}var rP=tP,Ap=bo.a&&bo.a.isMap,nP=Ap?Fu(Ap):rP,oP=nP,iP="[object Set]";function aP(e){return Tt(e)&&ni(e)==iP}var sP=aP,Np=bo.a&&bo.a.isSet,lP=Np?Fu(Np):sP,uP=lP,fP=1,cP=2,dP=4,Dp="[object Arguments]",pP="[object Array]",hP="[object Boolean]",vP="[object Date]",yP="[object Error]",jp="[object Function]",gP="[object GeneratorFunction]",mP="[object Map]",bP="[object Number]",Cp="[object Object]",OP="[object RegExp]",EP="[object Set]",xP="[object String]",SP="[object Symbol]",PP="[object WeakMap]",MP="[object ArrayBuffer]",TP="[object DataView]",wP="[object Float32Array]",AP="[object Float64Array]",NP="[object Int8Array]",DP="[object Int16Array]",jP="[object Int32Array]",CP="[object Uint8Array]",IP="[object Uint8ClampedArray]",RP="[object Uint16Array]",LP="[object Uint32Array]",wt={};wt[Dp]=wt[pP]=wt[MP]=wt[TP]=wt[hP]=wt[vP]=wt[wP]=wt[AP]=wt[NP]=wt[DP]=wt[jP]=wt[mP]=wt[bP]=wt[Cp]=wt[OP]=wt[EP]=wt[xP]=wt[SP]=wt[CP]=wt[IP]=wt[RP]=wt[LP]=!0,wt[yP]=wt[jp]=wt[PP]=!1;function wa(e,r,t,n,i,a){var c,h=r&fP,m=r&cP,x=r&dP;if(t&&(c=i?t(e,n,i,a):t(e)),c!==void 0)return c;if(!Mt(e))return e;var w=p(e);if(w){if(c=OS(e),!h)return Ep(e,c)}else{var j=ni(e),B=j==jp||j==gP;if(Object(ln.a)(e))return Object(Op.a)(e,h);if(j==Cp||j==Dp||B&&!i){if(c=m||B?{}:wp(e),!h)return m?hS(e,aS(c,e)):uS(e,Jx(c,e))}else{if(!wt[j])return i?e:{};c=ZS(e,j,h)}}a||(a=new Nn);var G=a.get(e);if(G)return G;a.set(e,c),uP(e)?e.forEach(function(ne){c.add(wa(ne,r,t,ne,e,a))}):oP(e)&&e.forEach(function(ne,ae){c.set(ae,wa(ne,r,t,ae,e,a))});var K=x?m?yS:Hu:m?ai:Oo,oe=w?void 0:K(e);return Vx(oe||e,function(ne,ae){oe&&(ae=ne,ne=e[ae]),Ma(c,ae,wa(ne,r,t,ae,e,a))}),c}var BP=wa,_P=1,zP=4;function FP(e){return BP(e,_P|zP)}var Rt=FP;function GP(e,r,t){(t!==void 0&&!Jt(e[r],t)||t===void 0&&!(r in e))&&Ju(e,r,t)}var rf=GP;function HP(e){return Tt(e)&&qn(e)}var $P=HP,kP="[object Object]",UP=Function.prototype,XP=Object.prototype,Ip=UP.toString,YP=XP.hasOwnProperty,WP=Ip.call(Object);function KP(e){if(!Tt(e)||Xr(e)!=kP)return!1;var r=ef(e);if(r===null)return!0;var t=YP.call(r,"constructor")&&r.constructor;return typeof t=="function"&&t instanceof t&&Ip.call(t)==WP}var VP=KP;function ZP(e,r){if(!(r==="constructor"&&typeof e[r]=="function")&&r!="__proto__")return e[r]}var nf=ZP;function JP(e){return Eo(e,ai(e))}var QP=JP;function qP(e,r,t,n,i,a,c){var h=nf(e,t),m=nf(r,t),x=c.get(m);if(x){rf(e,t,x);return}var w=a?a(h,m,t+"",e,r,c):void 0,j=w===void 0;if(j){var B=p(m),G=!B&&Object(ln.a)(m),K=!B&&!G&&Gu(m);w=m,B||G||K?p(h)?w=h:$P(h)?w=Ep(h):G?(j=!1,w=Object(Op.a)(m,!0)):K?(j=!1,w=Mp(m,!0)):w=[]:VP(m)||jn(m)?(w=h,jn(h)?w=QP(h):(!Mt(h)||co(h))&&(w=wp(m))):j=!1}j&&(c.set(m,w),i(w,m,n,a,c),c.delete(m)),rf(e,t,w)}var e0=qP;function Rp(e,r,t,n,i){e!==r&&_d(r,function(a,c){if(i||(i=new Nn),Mt(a))e0(e,r,c,t,Rp,n,i);else{var h=n?n(nf(e,c),a,c+"",e,r,i):void 0;h===void 0&&(h=a),rf(e,c,h)}},ai)}var t0=Rp,r0=Hd(function(e,r,t){t0(e,r,t)}),Lp=r0,n0={baseNode:{fill:"#FFFFFF",stroke:"#000000",strokeWidth:2},baseEdge:{stroke:"#000000",strokeWidth:2},rect:{},circle:{},diamond:{},ellipse:{},polygon:{},text:{color:"#000000",stroke:"none",fontSize:12,background:{fill:"transparent"}},anchor:{stroke:"#000000",fill:"#FFFFFF",r:4,hover:{fill:"#949494",fillOpacity:.5,stroke:"#949494",r:10}},nodeText:{color:"#000000",overflowMode:"default",lineHeight:1.2,fontSize:12},edgeText:{textWidth:100,overflowMode:"default",fontSize:12,background:{fill:"#FFFFFF"}},line:{},polyline:{},bezier:{fill:"none",adjustLine:{stroke:"#949494"},adjustAnchor:{r:4,fill:"#949494",stroke:"#949494",fillOpacity:1}},arrow:{offset:10,verticalLength:5},anchorLine:{stroke:"#000000",strokeWidth:2,strokeDasharray:"3,2"},snapline:{stroke:"#949494",strokeWidth:1},edgeAdjust:{r:4,fill:"#FFFFFF",stroke:"#949494",strokeWidth:2},outline:{fill:"transparent",stroke:"#949494",strokeDasharray:"3,3",hover:{stroke:"#949494"}},edgeAnimation:{stroke:"red",strokeDasharray:"10 10",strokeDashoffset:"100%",animationName:"lf_animate_dash",animationDuration:"20s",animationIterationCount:"infinite",animationTimingFunction:"linear",animationDirection:"normal"}},Bp=function(r){var t=Rt(n0);return r&&(t=Lp(t,r)),t};o(78),o(158);function o0(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function _p(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i0(e,r,t){return r&&_p(e.prototype,r),t&&_p(e,t),e}function a0(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var s0="*",l0=function(){function e(){o0(this,e),a0(this,"_events",{})}return i0(e,[{key:"on",value:function(t,n,i){var a=this;return t==null||t.split(",").forEach(function(c){c=c.trim(),a._events[c]||(a._events[c]=[]),a._events[c].push({callback:n,once:!!i})}),this}},{key:"once",value:function(t,n){var i=this;t==null||t.split(",").forEach(function(a){return a=a.trim(),i.on(a,n,!0)})}},{key:"emit",value:function(t,n){var i=this;t==null||t.split(",").forEach(function(a){var c=i._events[a]||[],h=i._events[s0]||[],m=function(w){for(var j=w.length,B=0;B<j;B++)if(w[B]){var G=w[B],K=G.callback,oe=G.once;oe&&(w.splice(B,1),w.length===0&&delete i._events[a],j--,B--),K.apply(i,[n])}};m(c),m(h)})}},{key:"off",value:function(t,n){var i=this;return t||(this._events={}),t.split(",").forEach(function(a){if(!n)delete i._events[a];else{for(var c=i._events[a]||[],h=c.length,m=0;m<h;m++)c[m].callback===n&&(c.splice(m,1),h--,m--);c.length===0&&delete i._events[a]}}),this}},{key:"getEvents",value:function(){return this._events}}]),e}();function Cn(e,r){return r*Math.round(e/r)||e}function zp(e,r){return e%r}function of(e,r){return d0(e)||c0(e,r)||f0(e,r)||u0()}function u0(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function f0(e,r){if(e){if(typeof e=="string")return Fp(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Fp(e,r)}}function Fp(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function c0(e,r){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],i=!0,a=!1,c,h;try{for(t=t.call(e);!(i=(c=t.next()).done)&&(n.push(c.value),!(r&&n.length===r));i=!0);}catch(m){a=!0,h=m}finally{try{!i&&t.return!=null&&t.return()}finally{if(a)throw h}}return n}}function d0(e){if(Array.isArray(e))return e}var af=function(r,t,n){var i=of(r,2),a=i[0],c=i[1],h=of(t,2),m=h[0],x=h[1],w=of(n,2),j=w[0],B=w[1];return a>m&&a<j&&c>x&&c<B},Gp=function(r,t){var n=t.multipleSelectKey,i=!1;switch(n){case"meta":i=r.metaKey;break;case"alt":i=r.altKey;break;case"shift":i=r.shiftKey;break;case"ctrl":i=r.ctrlKey;break;default:i=!1;break}return i};o(79),o(161),o(125),o(80),o(30),o(12),o(13),o(14),o(47);var Aa,p0=new Uint8Array(16);function h0(){if(!Aa&&(Aa=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!Aa))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Aa(p0)}var v0=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function y0(e){return typeof e=="string"&&v0.test(e)}for(var g0=y0,Zt=[],sf=0;sf<256;++sf)Zt.push((sf+256).toString(16).substr(1));function m0(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,t=(Zt[e[r+0]]+Zt[e[r+1]]+Zt[e[r+2]]+Zt[e[r+3]]+"-"+Zt[e[r+4]]+Zt[e[r+5]]+"-"+Zt[e[r+6]]+Zt[e[r+7]]+"-"+Zt[e[r+8]]+Zt[e[r+9]]+"-"+Zt[e[r+10]]+Zt[e[r+11]]+Zt[e[r+12]]+Zt[e[r+13]]+Zt[e[r+14]]+Zt[e[r+15]]).toLowerCase();if(!g0(t))throw TypeError("Stringified UUID is invalid");return t}var b0=m0;function O0(e,r,t){e=e||{};var n=e.random||(e.rng||h0)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,r){t=t||0;for(var i=0;i<16;++i)r[t+i]=n[i];return r}return b0(n)}var lf=O0,In=function(){var r=lf();return r},E0=function(r){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",n=r.nodes.reduce(function(i,a){return i[a.id]=t+lf(),a.id=i[a.id],i},{});return r.edges.forEach(function(i){i.id=t+lf(),i.sourceNodeId=n[i.sourceNodeId],i.targetNodeId=n[i.targetNodeId]}),r};o(104),o(203);var x0=function(r,t,n,i){var a=(t.y-r.y)*(i.x-n.x)-(r.x-t.x)*(n.y-i.y);if(a===0)return!1;var c=((t.x-r.x)*(i.x-n.x)*(n.y-r.y)+(t.y-r.y)*(i.x-n.x)*r.x-(i.y-n.y)*(t.x-r.x)*n.x)/a,h=-((t.y-r.y)*(i.y-n.y)*(n.x-r.x)+(t.x-r.x)*(i.y-n.y)*r.y-(i.x-n.x)*(t.y-r.y)*n.y)/a;return(c-r.x)*(c-t.x)<=0&&(h-r.y)*(h-t.y)<=0&&(c-n.x)*(c-i.x)<=0&&(h-n.y)*(h-i.y)<=0?{x:c,y:h}:!1},si=function(r,t,n){var i=r.x,a=r.y;return(i-t.x)*(i-n.x)<=0&&(a-t.y)*(a-n.y)<=0};function Na(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Na=function(t){return typeof t}:Na=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Na(e)}function Hp(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),t.push.apply(t,n)}return t}function $p(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?Hp(Object(t),!0).forEach(function(n){S0(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Hp(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function S0(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var uf=function(r){var t=r.anchors;return t},Da=function(r,t){for(var n=t.nodes,i,a=n.length-1;a>=0;a--){var c=n[a],h=T0(r,c);if(h){var m=c.getTargetAnchor(r);if(m){var x={node:c,anchorIndex:m.index,anchor:m.anchor};(!i||P0(c,i.node,t))&&(i=x)}}}return i},P0=function(r,t,n){return r.zIndex>t.zIndex||n.nodesMap[r.id].index>n.nodesMap[t.id].index},M0=function(r,t){for(var n=uf(t),i,a=Number.MAX_SAFE_INTEGER,c=0;c<n.length;c++){var h=Kr(r.x,r.y,n[c].x,n[c].y);h<a&&(a=h,i={index:c,anchor:$p($p({},n[c]),{},{x:n[c].x,y:n[c].y,id:n[c].id})})}return i},Kr=function(r,t,n,i){return Math.hypot(r-n,t-i)},Rn=function(r,t){var n=!1,i=0,a=xr(t);return r.x>=a.minX-i&&r.x<=a.maxX+i&&r.y>=a.minY-i&&r.y<=a.maxY+i&&(n=!0),n},T0=function(r,t){var n=!1,i=5,a=xr(t);return r.x>=a.minX-i&&r.x<=a.maxX+i&&r.y>=a.minY-i&&r.y<=a.maxY+i&&(n=!0),n},xr=function(r){var t=r.x,n=r.y,i=r.width,a=r.height,c={minX:t-i/2,minY:n-a/2,maxX:t+i/2,maxY:n+a/2,x:t,y:n,width:i,height:a,centerX:t,centerY:n};return c},w0=function(r){var t=r,n=t.x,i=t.y,a=t.width,c=t.height,h=t.radius,m=[{x:n-a/2+h,y:i-c/2+h,r:h},{x:n+a/2-h,y:i-c/2+h,r:h},{x:n-a/2+h,y:i+c/2-h,r:h},{x:n+a/2-h,y:i+c/2-h,r:h}];return m},kp=function(r,t,n){var i=w0(n),a,c=Number.MAX_SAFE_INTEGER;i.forEach(function(m){var x=Kr(r.x,r.y,m.x,m.y);x<c&&(c=x,a=m)});var h=ff(r,t,a);return h},ff=function(r,t,n){var i,a=n,c=a.x,h=a.y,m=a.r;if(t===Dt.HORIZONTAL){var x=c-Math.sqrt(m*m-(r.y-h)*(r.y-h)),w=c+Math.sqrt(m*m-(r.y-h)*(r.y-h)),j=Math.abs(x-r.x)<Math.abs(w-r.x)?x:w;i={x:j,y:r.y}}else if(t===Dt.VERTICAL){var B=h-Math.sqrt(m*m-(r.x-c)*(r.x-c)),G=h+Math.sqrt(m*m-(r.x-c)*(r.x-c)),K=Math.abs(B-r.y)<Math.abs(G-r.y)?B:G;i={x:r.x,y:K}}return i},Up=function(r,t){var n=t,i=!1,a={minX:n.x-n.width/2+n.radius,maxX:n.x+n.width/2-n.radius,minY:n.y-n.height/2+n.radius,maxY:n.y+n.height/2-n.radius},c=n.x,h=n.y,m=n.width,x=n.height;return r.y===h+x/2||r.y===h-x/2?i=r.x>a.minX&&r.x<a.maxX:(r.x===c+m/2||r.x===c-m/2)&&(i=r.y>a.minY&&r.y<a.maxY),i},Xp=function(r,t,n){var i,a=n,c=a.x,h=a.y,m=a.rx,x=a.ry;if(t===Dt.HORIZONTAL){var w=c-Math.sqrt(m*m-(r.y-h)*(r.y-h)*m*m/(x*x)),j=c+Math.sqrt(m*m-(r.y-h)*(r.y-h)*m*m/(x*x)),B=Math.abs(w-r.x)<Math.abs(j-r.x)?w:j;i={x:B,y:r.y}}else if(t===Dt.VERTICAL){var G=h-Math.sqrt(x*x-(r.x-c)*(r.x-c)*x*x/(m*m)),K=h+Math.sqrt(x*x-(r.x-c)*(r.x-c)*x*x/(m*m)),oe=Math.abs(G-r.y)<Math.abs(K-r.y)?G:K;i={x:r.x,y:oe}}return i},ja=function(r,t,n){for(var i=n,a=i.pointsPosition,c=Number.MAX_SAFE_INTEGER,h,m=[],x=0;x<a.length;x++)m.push({start:a[x],end:a[(x+1)%a.length]});return m.forEach(function(w){var j=w.start,B=w.end,G=j,K=B;j.x>B.x&&(G=B,K=j);var oe={x:r.x,y:r.y};if(G.x===K.x&&t===Dt.HORIZONTAL&&(oe={x:G.x,y:r.y}),G.y===K.y&&t===Dt.VERTICAL&&(oe={x:r.x,y:G.y}),G.x!==K.x&&G.y!==K.y){var ne=(K.y-G.y)/(K.x-G.x),ae=(G.x*K.y-K.x*G.y)/(G.x-K.x);t===Dt.HORIZONTAL?oe={x:(r.y-ae)/ne,y:r.y}:t===Dt.VERTICAL&&(oe={x:r.x,y:ne*r.x+ae})}var we=si(oe,j,B);if(we){var Ce=Kr(oe.x,oe.y,r.x,r.y);Ce<c&&(c=Ce,h=oe)}}),h},A0=function(r){var t=ii(r,["id","type","x","y","text","properties","virtual"]);return t},Yp=function(r,t,n,i){var a=r.x,c=r.y;return t.x>r.x?a=r.x+n/2:t.x<r.x&&(a=r.x-n/2),t.y>r.y?c=r.y+i/2:t.y<r.y&&(c=r.y-i/2),{x:a,y:c}},Wp=function(r){var t=r.rows,n=r.style,i=r.rowsLength,a=r.className,c=document.createElement("div");c.style.fontSize=n.fontSize,c.style.width=n.width,c.className=a,c.style.lineHeight=n.lineHeight,c.style.padding=n.padding,n.fontFamily&&(c.style.fontFamily=n.fontFamily),i>1?t.forEach(function(m){var x=document.createElement("div");x.textContent=m,c.appendChild(x)}):c.textContent=t,document.body.appendChild(c);var h=c.clientHeight;return document.body.removeChild(c),h},cf=function(r){var t=r.rows,n=r.rowsLength,i=r.fontSize,a=0;return t&&t.forEach(function(c){var h=zh(c);a=h>a?h:a}),{width:Math.ceil(a/2)*i+i/4,height:n*(i+2)+i/4}},Ca=function(r){return Na(r)!=="object"?{isAllPass:!!r,msg:r?"":""}:r},tr=function(r){try{return JSON.parse(JSON.stringify(r))}catch{return r}},N0=1e3,D0=999,df=function(){return++N0},j0=function(){return--D0},ge,Kp,Vp,Zp,Jp,Qp,qp,eh,th,rh,nh,oh,ih,ah,sh,lh,uh,fh,ch,dh,ph;function hh(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),t.push.apply(t,n)}return t}function dr(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?hh(Object(t),!0).forEach(function(n){jr(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):hh(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function Ft(e,r,t,n){t&&Object.defineProperty(e,r,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(n):void 0})}function C0(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function vh(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function I0(e,r,t){return r&&vh(e.prototype,r),t&&vh(e,t),e}function jr(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function Qe(e,r,t,n,i){var a={};return Object.keys(n).forEach(function(c){a[c]=n[c]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=t.slice().reverse().reduce(function(c,h){return h(e,r,c)||c},a),i&&a.initializer!==void 0&&(a.value=a.initializer?a.initializer.call(i):void 0,a.initializer=void 0),a.initializer===void 0&&(Object.defineProperty(e,r,a),a=null),a}var pf=(ge=function(){function e(r,t){C0(this,e),jr(this,"id",""),Ft(this,"type",Kp,this),Ft(this,"sourceNodeId",Vp,this),Ft(this,"targetNodeId",Zp,this),Ft(this,"startPoint",Jp,this),Ft(this,"endPoint",Qp,this),Ft(this,"text",qp,this),Ft(this,"properties",eh,this),Ft(this,"points",th,this),Ft(this,"pointsList",rh,this),Ft(this,"isSelected",nh,this),Ft(this,"isHovered",oh,this),Ft(this,"isHitable",ih,this),Ft(this,"draggable",ah,this),Ft(this,"visible",sh,this),jr(this,"virtual",!1),Ft(this,"isAnimation",lh,this),Ft(this,"isShowAdjustPoint",uh,this),jr(this,"graphModel",void 0),Ft(this,"zIndex",fh,this),jr(this,"BaseType",zt.EDGE),jr(this,"modelType",pt.EDGE),Ft(this,"state",ch,this),jr(this,"additionStateData",void 0),jr(this,"sourceAnchorId",""),jr(this,"targetAnchorId",""),jr(this,"menu",void 0),jr(this,"customTextPosition",!1),Ft(this,"style",dh,this),Ft(this,"arrowConfig",ph,this),this.graphModel=t,this.initEdgeData(r),this.setAttributes()}return I0(e,[{key:"initEdgeData",value:function(t){if(t.properties||(t.properties={}),!t.id){var n=this.graphModel.idGenerator,i=n&&n(t.type),a=this.createId();t.id=a||i||In()}this.arrowConfig.markerEnd="url(#marker-end-".concat(t.id,")");var c=this.graphModel.editConfigModel.adjustEdgeStartAndEnd;this.isShowAdjustPoint=c,ar(this,xM(t));var h=this.graphModel.overlapMode;h===Er.INCREASE&&(this.zIndex=t.zIndex||df()),this.setAnchors(),this.initPoints(),this.formatText(t)}},{key:"setAttributes",value:function(){}},{key:"createId",value:function(){return null}},{key:"getEdgeStyle",value:function(){return dr(dr({},this.graphModel.theme.baseEdge),this.style)}},{key:"getAdjustPointStyle",value:function(){return dr({},this.graphModel.theme.edgeAdjust)}},{key:"getTextStyle",value:function(){var t=this.graphModel.theme.edgeText;return Rt(t)}},{key:"getEdgeAnimationStyle",value:function(){var t=this.graphModel.theme.edgeAnimation;return Rt(t)}},{key:"getArrowStyle",value:function(){var t=this.getEdgeStyle(),n=this.getEdgeAnimationStyle(),i=this.graphModel.theme.arrow,a=this.isAnimation?n.stroke:t.stroke;return dr(dr({},t),{},{fill:a,stroke:a},i)}},{key:"getOutlineStyle",value:function(){var t=this.graphModel,n=t.theme.outline;return Rt(n)}},{key:"getTextPosition",value:function(){return{x:0,y:0}}},{key:"sourceNode",get:function(){var t,n;return(t=this.graphModel)===null||t===void 0||(n=t.nodesMap[this.sourceNodeId])===null||n===void 0?void 0:n.model}},{key:"targetNode",get:function(){var t,n;return(t=this.graphModel)===null||t===void 0||(n=t.nodesMap[this.targetNodeId])===null||n===void 0?void 0:n.model}},{key:"textPosition",get:function(){return this.getTextPosition()}},{key:"getBeginAnchor",value:function(t,n){var i,a,c=uf(t);return c.forEach(function(h){var m=Hh(h,n);(a===void 0||m<a)&&(a=m,i=h)}),i}},{key:"getEndAnchor",value:function(t){var n=this,i,a,c=uf(t);return c.forEach(function(h){var m=Hh(h,n.startPoint);(a===void 0||m<a)&&(a=m,i=h)}),i}},{key:"getProperties",value:function(){return Object(l.I)(this.properties)}},{key:"getData",value:function(){var t=this.text,n=t.x,i=t.y,a=t.value,c={id:this.id,type:this.type,sourceNodeId:this.sourceNode.id,targetNodeId:this.targetNode.id,startPoint:Object.assign({},this.startPoint),endPoint:Object.assign({},this.endPoint),properties:Object(l.I)(this.properties)};return a&&(c.text={x:n,y:i,value:a}),this.graphModel.overlapMode===Er.INCREASE&&(c.zIndex=this.zIndex),c}},{key:"getHistoryData",value:function(){return this.getData()}},{key:"setProperty",value:function(t,n){this.properties[t]=tr(n),this.setAttributes()}},{key:"deleteProperty",value:function(t){delete this.properties[t],this.setAttributes()}},{key:"setProperties",value:function(t){this.properties=dr(dr({},this.properties),tr(t)),this.setAttributes()}},{key:"changeEdgeId",value:function(t){var n=this.arrowConfig,i=n.markerEnd,a=n.markerStart;a&&a==="url(#marker-start-".concat(this.id,")")&&(this.arrowConfig.markerStart="url(#marker-start-".concat(t,")")),i&&i==="url(#marker-end-".concat(this.id,")")&&(this.arrowConfig.markerEnd="url(#marker-end-".concat(t,")")),this.id=t}},{key:"setStyle",value:function(t,n){this.style=dr(dr({},this.style),{},jr({},t,tr(n)))}},{key:"setStyles",value:function(t){this.style=dr(dr({},this.style),tr(t))}},{key:"updateStyles",value:function(t){this.style=dr({},tr(t))}},{key:"formatText",value:function(t){var n=this.textPosition,i=n.x,a=n.y;if(!t.text||typeof t.text=="string"){this.text={value:t.text||"",x:i,y:a,draggable:this.text.draggable,editable:this.text.editable};return}Object.prototype.toString.call(t.text)==="[object Object]"&&(this.text={x:t.text.x||i,y:t.text.y||a,value:t.text.value||"",draggable:this.text.draggable,editable:this.text.editable})}},{key:"resetTextPosition",value:function(){var t=this.textPosition,n=t.x,i=t.y;this.text.x=n,this.text.y=i}},{key:"moveText",value:function(t,n){if(this.text){var i=this.text,a=i.x,c=i.y,h=i.value,m=i.draggable,x=i.editable;this.text={value:h,draggable:m,x:a+t,y:c+n,editable:x}}}},{key:"setText",value:function(t){t&&ar(this.text,t)}},{key:"updateText",value:function(t){this.text=dr(dr({},this.text),{},{value:t})}},{key:"setAnchors",value:function(){if(!this.sourceAnchorId||!this.startPoint){var t=this.getBeginAnchor(this.sourceNode,this.targetNode);this.startPoint||(this.startPoint={x:t.x,y:t.y}),this.sourceAnchorId||(this.sourceAnchorId=t.id)}if(!this.targetAnchorId||!this.endPoint){var n=this.getEndAnchor(this.targetNode);this.endPoint||(this.endPoint={x:n.x,y:n.y}),this.targetAnchorId||(this.targetAnchorId=n.id)}}},{key:"setSelected",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.isSelected=t}},{key:"setHovered",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.isHovered=t}},{key:"setHitable",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.isHitable=t}},{key:"openEdgeAnimation",value:function(){this.isAnimation=!0}},{key:"closeEdgeAnimation",value:function(){this.isAnimation=!1}},{key:"setElementState",value:function(t,n){this.state=t,this.additionStateData=n}},{key:"updateStartPoint",value:function(t){this.startPoint=t}},{key:"moveStartPoint",value:function(t,n){this.startPoint.x+=t,this.startPoint.y+=n}},{key:"updateEndPoint",value:function(t){this.endPoint=t}},{key:"moveEndPoint",value:function(t,n){this.endPoint.x+=t,this.endPoint.y+=n}},{key:"setZIndex",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;this.zIndex=t}},{key:"initPoints",value:function(){}},{key:"updateAttributes",value:function(t){ar(this,t)}},{key:"getAdjustStart",value:function(){return this.startPoint}},{key:"getAdjustEnd",value:function(){return this.endPoint}},{key:"updateAfterAdjustStartAndEnd",value:function(t){var n=t.startPoint,i=t.endPoint;this.updateStartPoint({x:n.x,y:n.y}),this.updateEndPoint({x:i.x,y:i.y})}}]),e}(),Kp=Qe(ge.prototype,"type",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Vp=Qe(ge.prototype,"sourceNodeId",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Zp=Qe(ge.prototype,"targetNodeId",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Jp=Qe(ge.prototype,"startPoint",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Qp=Qe(ge.prototype,"endPoint",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),qp=Qe(ge.prototype,"text",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{value:"",x:0,y:0,draggable:!1,editable:!0}}}),eh=Qe(ge.prototype,"properties",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),th=Qe(ge.prototype,"points",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),rh=Qe(ge.prototype,"pointsList",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),nh=Qe(ge.prototype,"isSelected",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),oh=Qe(ge.prototype,"isHovered",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ih=Qe(ge.prototype,"isHitable",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),ah=Qe(ge.prototype,"draggable",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),sh=Qe(ge.prototype,"visible",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),lh=Qe(ge.prototype,"isAnimation",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),uh=Qe(ge.prototype,"isShowAdjustPoint",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),fh=Qe(ge.prototype,"zIndex",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),ch=Qe(ge.prototype,"state",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),dh=Qe(ge.prototype,"style",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),ph=Qe(ge.prototype,"arrowConfig",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{markerEnd:"url(#marker-end-".concat(this.id,")"),markerStart:""}}}),Qe(ge.prototype,"sourceNode",[l.m],Object.getOwnPropertyDescriptor(ge.prototype,"sourceNode"),ge.prototype),Qe(ge.prototype,"targetNode",[l.m],Object.getOwnPropertyDescriptor(ge.prototype,"targetNode"),ge.prototype),Qe(ge.prototype,"textPosition",[l.m],Object.getOwnPropertyDescriptor(ge.prototype,"textPosition"),ge.prototype),Qe(ge.prototype,"setProperty",[l.k],Object.getOwnPropertyDescriptor(ge.prototype,"setProperty"),ge.prototype),Qe(ge.prototype,"deleteProperty",[l.k],Object.getOwnPropertyDescriptor(ge.prototype,"deleteProperty"),ge.prototype),Qe(ge.prototype,"setProperties",[l.k],Object.getOwnPropertyDescriptor(ge.prototype,"setProperties"),ge.prototype),Qe(ge.prototype,"changeEdgeId",[l.k],Object.getOwnPropertyDescriptor(ge.prototype,"changeEdgeId"),ge.prototype),Qe(ge.prototype,"setStyle",[l.k],Object.getOwnPropertyDescriptor(ge.prototype,"setStyle"),ge.prototype),Qe(ge.prototype,"setStyles",[l.k],Object.getOwnPropertyDescriptor(ge.prototype,"setStyles"),ge.prototype),Qe(ge.prototype,"updateStyles",[l.k],Object.getOwnPropertyDescriptor(ge.prototype,"updateStyles"),ge.prototype),Qe(ge.prototype,"formatText",[l.k],Object.getOwnPropertyDescriptor(ge.prototype,"formatText"),ge.prototype),Qe(ge.prototype,"resetTextPosition",[l.k],Object.getOwnPropertyDescriptor(ge.prototype,"resetTextPosition"),ge.prototype),Qe(ge.prototype,"moveText",[l.k],Object.getOwnPropertyDescriptor(ge.prototype,"moveText"),ge.prototype),Qe(ge.prototype,"setText",[l.k],Object.getOwnPropertyDescriptor(ge.prototype,"setText"),ge.prototype),Qe(ge.prototype,"updateText",[l.k],Object.getOwnPropertyDescriptor(ge.prototype,"updateText"),ge.prototype),Qe(ge.prototype,"setAnchors",[l.k],Object.getOwnPropertyDescriptor(ge.prototype,"setAnchors"),ge.prototype),Qe(ge.prototype,"setSelected",[l.k],Object.getOwnPropertyDescriptor(ge.prototype,"setSelected"),ge.prototype),Qe(ge.prototype,"setHovered",[l.k],Object.getOwnPropertyDescriptor(ge.prototype,"setHovered"),ge.prototype),Qe(ge.prototype,"setHitable",[l.k],Object.getOwnPropertyDescriptor(ge.prototype,"setHitable"),ge.prototype),Qe(ge.prototype,"openEdgeAnimation",[l.k],Object.getOwnPropertyDescriptor(ge.prototype,"openEdgeAnimation"),ge.prototype),Qe(ge.prototype,"closeEdgeAnimation",[l.k],Object.getOwnPropertyDescriptor(ge.prototype,"closeEdgeAnimation"),ge.prototype),Qe(ge.prototype,"setElementState",[l.k],Object.getOwnPropertyDescriptor(ge.prototype,"setElementState"),ge.prototype),Qe(ge.prototype,"updateStartPoint",[l.k],Object.getOwnPropertyDescriptor(ge.prototype,"updateStartPoint"),ge.prototype),Qe(ge.prototype,"moveStartPoint",[l.k],Object.getOwnPropertyDescriptor(ge.prototype,"moveStartPoint"),ge.prototype),Qe(ge.prototype,"updateEndPoint",[l.k],Object.getOwnPropertyDescriptor(ge.prototype,"updateEndPoint"),ge.prototype),Qe(ge.prototype,"moveEndPoint",[l.k],Object.getOwnPropertyDescriptor(ge.prototype,"moveEndPoint"),ge.prototype),Qe(ge.prototype,"setZIndex",[l.k],Object.getOwnPropertyDescriptor(ge.prototype,"setZIndex"),ge.prototype),Qe(ge.prototype,"initPoints",[l.k],Object.getOwnPropertyDescriptor(ge.prototype,"initPoints"),ge.prototype),Qe(ge.prototype,"updateAttributes",[l.k],Object.getOwnPropertyDescriptor(ge.prototype,"updateAttributes"),ge.prototype),Qe(ge.prototype,"getAdjustStart",[l.k],Object.getOwnPropertyDescriptor(ge.prototype,"getAdjustStart"),ge.prototype),Qe(ge.prototype,"getAdjustEnd",[l.k],Object.getOwnPropertyDescriptor(ge.prototype,"getAdjustEnd"),ge.prototype),Qe(ge.prototype,"updateAfterAdjustStartAndEnd",[l.k],Object.getOwnPropertyDescriptor(ge.prototype,"updateAfterAdjustStartAndEnd"),ge.prototype),ge),hf=pf;function Ia(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ia=function(t){return typeof t}:Ia=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ia(e)}function yh(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),t.push.apply(t,n)}return t}function gh(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?yh(Object(t),!0).forEach(function(n){Oh(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):yh(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function R0(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function mh(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function L0(e,r,t){return r&&mh(e.prototype,r),t&&mh(e,t),e}function Ra(){return typeof Reflect<"u"&&Reflect.get?Ra=Reflect.get:Ra=function(r,t,n){var i=B0(r,t);if(i){var a=Object.getOwnPropertyDescriptor(i,t);return a.get?a.get.call(arguments.length<3?r:n):a.value}},Ra.apply(this,arguments)}function B0(e,r){for(;!Object.prototype.hasOwnProperty.call(e,r)&&(e=xo(e),e!==null););return e}function _0(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&vf(e,r)}function vf(e,r){return vf=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},vf(e,r)}function z0(e){var r=G0();return function(){var n=xo(e),i;if(r){var a=xo(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return F0(this,i)}}function F0(e,r){if(r&&(Ia(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return bh(e)}function bh(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function G0(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function xo(e){return xo=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},xo(e)}function Oh(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var yf=function(e){_0(t,e);var r=z0(t);function t(){var n;R0(this,t);for(var i=arguments.length,a=new Array(i),c=0;c<i;c++)a[c]=arguments[c];return n=r.call.apply(r,[this].concat(a)),Oh(bh(n),"modelType",pt.LINE_EDGE),n}return L0(t,[{key:"getEdgeStyle",value:function(){var i=this.graphModel.theme.line,a=Ra(xo(t.prototype),"getEdgeStyle",this).call(this);return gh(gh({},a),Rt(i))}},{key:"getTextPosition",value:function(){return{x:(this.startPoint.x+this.endPoint.x)/2,y:(this.startPoint.y+this.endPoint.y)/2}}}]),t}(hf);function La(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?La=function(t){return typeof t}:La=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},La(e)}var st,Eh;function H0(e,r){return X0(e)||U0(e,r)||k0(e,r)||$0()}function $0(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function k0(e,r){if(e){if(typeof e=="string")return xh(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return xh(e,r)}}function xh(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function U0(e,r){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],i=!0,a=!1,c,h;try{for(t=t.call(e);!(i=(c=t.next()).done)&&(n.push(c.value),!(r&&n.length===r));i=!0);}catch(m){a=!0,h=m}finally{try{!i&&t.return!=null&&t.return()}finally{if(a)throw h}}return n}}function X0(e){if(Array.isArray(e))return e}function Sh(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),t.push.apply(t,n)}return t}function Ph(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?Sh(Object(t),!0).forEach(function(n){mf(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Sh(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function Y0(e,r,t,n){t&&Object.defineProperty(e,r,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(n):void 0})}function W0(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Mh(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function K0(e,r,t){return r&&Mh(e.prototype,r),t&&Mh(e,t),e}function So(){return typeof Reflect<"u"&&Reflect.get?So=Reflect.get:So=function(r,t,n){var i=V0(r,t);if(i){var a=Object.getOwnPropertyDescriptor(i,t);return a.get?a.get.call(arguments.length<3?r:n):a.value}},So.apply(this,arguments)}function V0(e,r){for(;!Object.prototype.hasOwnProperty.call(e,r)&&(e=Ln(e),e!==null););return e}function Z0(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&gf(e,r)}function gf(e,r){return gf=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},gf(e,r)}function J0(e){var r=q0();return function(){var n=Ln(e),i;if(r){var a=Ln(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return Q0(this,i)}}function Q0(e,r){if(r&&(La(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return li(e)}function li(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function q0(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Ln(e){return Ln=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Ln(e)}function mf(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function sr(e,r,t,n,i){var a={};return Object.keys(n).forEach(function(c){a[c]=n[c]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=t.slice().reverse().reduce(function(c,h){return h(e,r,c)||c},a),i&&a.initializer!==void 0&&(a.value=a.initializer?a.initializer.call(i):void 0,a.initializer=void 0),a.initializer===void 0&&(Object.defineProperty(e,r,a),a=null),a}var bf=(st=function(e){Z0(t,e);var r=J0(t);function t(){var n;W0(this,t);for(var i=arguments.length,a=new Array(i),c=0;c<i;c++)a[c]=arguments[c];return n=r.call.apply(r,[this].concat(a)),mf(li(n),"modelType",pt.POLYLINE_EDGE),mf(li(n),"draggingPointList",void 0),Y0(li(n),"dbClickPosition",Eh,li(n)),n}return K0(t,[{key:"initEdgeData",value:function(i){this.offset=30,So(Ln(t.prototype),"initEdgeData",this).call(this,i)}},{key:"getEdgeStyle",value:function(){var i=this.graphModel.theme.polyline,a=So(Ln(t.prototype),"getEdgeStyle",this).call(this);return Ph(Ph({},a),Rt(i))}},{key:"getTextPosition",value:function(){var i,a=(i=this.text)===null||i===void 0?void 0:i.value;if(this.dbClickPosition&&!a){var c=this.dbClickPosition,h=c.x,m=c.y;return{x:h,y:m}}var x=Po(this.points),w=mM(x),j=H0(w,2),B=j[0],G=j[1];return{x:(B.x+G.x)/2,y:(B.y+G.y)/2}}},{key:"getAfterAnchor",value:function(i,a,c){var h,m;return c.forEach(function(x){var w;i===Dt.HORIZONTAL?w=Math.abs(a.y-x.y):i===Dt.VERTICAL&&(w=Math.abs(a.x-x.x)),(!m||m>w)&&(m=w,h=x)}),h}},{key:"getCrossPoint",value:function(i,a,c){var h;return i===Dt.HORIZONTAL?h={x:c.x,y:a.y}:i===Dt.VERTICAL&&(h={x:a.x,y:c.y}),h}},{key:"removeCrossPoints",value:function(i,a,c){var h=c.map(function(Ne){return Ne});if(i===1){var m=h[i],x=h[a],w=h[i-1],j=Rh(w,m,this.sourceNode);if(j){var B=Lh(m,x,this.sourceNode);if(B){var G=Bh(m,x,this.sourceNode);G&&(h[i]=G,h.splice(i-1,1),i--,a--)}}else{var K=this.sourceNode.anchors;K.forEach(function(Ne){if(Ne.x===w.x&&Ne.x===m.x||Ne.y===w.y&&Ne.y===m.y){var Ue=Kr(Ne.x,Ne.y,m.x,m.y),De=Kr(w.x,w.y,m.x,m.y);Ue<De&&(h[i-1]=Ne)}})}}if(a===c.length-2){var oe=h[i],ne=h[a],ae=h[a+1],we=Rh(ne,ae,this.targetNode);if(we){var Ce=Lh(oe,ne,this.targetNode);if(Ce){var ye=Bh(oe,ne,this.targetNode);ye&&(h[a]=ye,h.splice(a+1,1))}}else{var Le=this.targetNode.anchors;Le.forEach(function(Ne){if(Ne.x===ae.x&&Ne.x===ne.x||Ne.y===ae.y&&Ne.y===ne.y){var Ue=Kr(Ne.x,Ne.y,ne.x,ne.y),De=Kr(ae.x,ae.y,ne.x,ne.y);Ue<De&&(h[a+1]=Ne)}})}}return h}},{key:"getDraggingPoints",value:function(i,a,c,h,m){var x=m.map(function(B){return B}),w=this.getAfterAnchor(i,c,h),j=this.getCrossPoint(i,c,w);return a==="start"?(x.unshift(j),x.unshift(w)):(x.push(j),x.push(w)),x}},{key:"updateCrossPoints",value:function(i){var a=i.map(function(ye){return ye}),c=i[0],h=i[1],m=i[a.length-2],x=i[a.length-1],w=this.sourceNode,j=this.targetNode,B=w.modelType,G=j.modelType,K=$a(c,h),oe=a[0];switch(B){case pt.RECT_NODE:if(w.radius!==0){var ne=Up(c,w);ne||(oe=kp(c,K,w))}break;case pt.CIRCLE_NODE:oe=ff(c,K,w);break;case pt.ELLIPSE_NODE:oe=Xp(c,K,w);break;case pt.DIAMOND_NODE:oe=ja(c,K,w);break;case pt.POLYGON_NODE:oe=ja(c,K,w);break}a[0]=oe;var ae=$a(m,x),we=a[a.length-1];switch(G){case pt.RECT_NODE:if(j.radius!==0){var Ce=Up(x,j);Ce||(we=kp(x,ae,j))}break;case pt.CIRCLE_NODE:we=ff(x,ae,j);break;case pt.ELLIPSE_NODE:we=Xp(x,ae,j);break;case pt.DIAMOND_NODE:we=ja(x,ae,j);break;case pt.POLYGON_NODE:we=ja(x,ae,j);break}return a[a.length-1]=we,a}},{key:"getData",value:function(){var i=So(Ln(t.prototype),"getData",this).call(this),a=this.pointsList.map(function(c){var h=c.x,m=c.y;return{x:h,y:m}});return Object.assign({},i,{pointsList:a})}},{key:"initPoints",value:function(){this.pointsList.length>0?this.points=this.pointsList.map(function(i){return"".concat(i.x,",").concat(i.y)}).join(" "):this.updatePoints()}},{key:"updatePoints",value:function(){var i=Ih({x:this.startPoint.x,y:this.startPoint.y},{x:this.endPoint.x,y:this.endPoint.y},this.sourceNode,this.targetNode,this.offset||0);this.pointsList=i,this.points=i.map(function(a){return"".concat(a.x,",").concat(a.y)}).join(" ")}},{key:"updateStartPoint",value:function(i){this.startPoint=i,this.updatePoints()}},{key:"moveStartPoint",value:function(i,a){this.startPoint.x+=i,this.startPoint.y+=a,this.updatePoints()}},{key:"updateEndPoint",value:function(i){this.endPoint=i,this.updatePoints()}},{key:"moveEndPoint",value:function(i,a){this.endPoint.x+=i,this.endPoint.y+=a,this.updatePoints()}},{key:"dragAppendStart",value:function(){this.draggingPointList=this.pointsList.map(function(i){return i})}},{key:"dragAppendSimple",value:function(i,a){this.isDragging=!0;var c=i.start,h=i.end,m=i.startIndex,x=i.endIndex,w=i.direction,j=this.pointsList,B=j;return w===Dt.HORIZONTAL?(j[m]={x:c.x,y:c.y+a.y},j[x]={x:h.x,y:h.y+a.y},B=this.pointsList.map(function(G){return G})):w===Dt.VERTICAL&&(j[m]={x:c.x+a.x,y:c.y},j[x]={x:h.x+a.x,y:h.y},B=this.pointsList.map(function(G){return G})),this.updatePointsAfterDrag(B),this.draggingPointList=B,this.setText(Object.assign({},this.text,this.textPosition)),{start:Object.assign({},j[m]),end:Object.assign({},j[x]),startIndex:m,endIndex:x,direction:w}}},{key:"dragAppend",value:function(i,a){this.isDragging=!0;var c=i.start,h=i.end,m=i.startIndex,x=i.endIndex,w=i.direction,j=this.pointsList;if(w===Dt.HORIZONTAL){j[m]={x:c.x,y:c.y+a.y},j[x]={x:h.x,y:h.y+a.y};var B=this.pointsList.map(function(ht){return ht});if(m!==0&&x!==this.pointsList.length-1&&(B=this.removeCrossPoints(m,x,B)),m===0){var G={x:c.x,y:c.y+a.y},K=Rn(G,this.sourceNode);if(!K){var oe=this.sourceNode.anchors;B=this.getDraggingPoints(w,"start",G,oe,B)}}if(x===this.pointsList.length-1){var ne={x:h.x,y:h.y+a.y},ae=Rn(ne,this.targetNode);if(!ae){var we=this.targetNode.anchors;B=this.getDraggingPoints(w,"end",ne,we,B)}}this.updatePointsAfterDrag(B),this.draggingPointList=B}else if(w===Dt.VERTICAL){j[m]={x:c.x+a.x,y:c.y},j[x]={x:h.x+a.x,y:h.y};var Ce=this.pointsList.map(function(ht){return ht});if(m!==0&&x!==this.pointsList.length-1&&(Ce=this.removeCrossPoints(m,x,Ce)),m===0){var ye={x:c.x+a.x,y:c.y},Le=Rn(ye,this.sourceNode);if(!Le){var Ne=this.sourceNode.anchors;Ce=this.getDraggingPoints(w,"start",ye,Ne,Ce)}}if(x===this.pointsList.length-1){var Ue={x:h.x+a.x,y:h.y},De=Rn(Ue,this.targetNode);if(!De){var ot=this.targetNode.anchors;Ce=this.getDraggingPoints(w,"end",Ue,ot,Ce)}}this.updatePointsAfterDrag(Ce),this.draggingPointList=Ce}return this.setText(Object.assign({},this.text,this.textPosition)),{start:Object.assign({},j[m]),end:Object.assign({},j[x]),startIndex:m,endIndex:x,direction:w}}},{key:"dragAppendEnd",value:function(){if(this.draggingPointList){var i=Ch(Po(this.points));this.pointsList=i.map(function(h){return h}),this.draggingPointList=[];var a=i[0];this.startPoint=Object.assign({},a);var c=i[i.length-1];this.endPoint=Object.assign({},c)}this.isDragging=!1}},{key:"updatePointsAfterDrag",value:function(i){var a=this.updateCrossPoints(i);this.points=a.map(function(c){return"".concat(c.x,",").concat(c.y)}).join(" ")}},{key:"getAdjustStart",value:function(){return this.pointsList[0]||this.startPoint}},{key:"getAdjustEnd",value:function(){var i=this.pointsList;return i[i.length-1]||this.endPoint}},{key:"updateAfterAdjustStartAndEnd",value:function(i){var a=i.startPoint,c=i.endPoint,h=i.sourceNode,m=i.targetNode,x=Ih({x:a.x,y:a.y},{x:c.x,y:c.y},h,m,this.offset||0);this.pointsList=x,this.initPoints()}}]),t}(hf),Eh=sr(st.prototype,"dbClickPosition",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),sr(st.prototype,"initPoints",[l.k],Object.getOwnPropertyDescriptor(st.prototype,"initPoints"),st.prototype),sr(st.prototype,"updatePoints",[l.k],Object.getOwnPropertyDescriptor(st.prototype,"updatePoints"),st.prototype),sr(st.prototype,"updateStartPoint",[l.k],Object.getOwnPropertyDescriptor(st.prototype,"updateStartPoint"),st.prototype),sr(st.prototype,"moveStartPoint",[l.k],Object.getOwnPropertyDescriptor(st.prototype,"moveStartPoint"),st.prototype),sr(st.prototype,"updateEndPoint",[l.k],Object.getOwnPropertyDescriptor(st.prototype,"updateEndPoint"),st.prototype),sr(st.prototype,"moveEndPoint",[l.k],Object.getOwnPropertyDescriptor(st.prototype,"moveEndPoint"),st.prototype),sr(st.prototype,"dragAppendStart",[l.k],Object.getOwnPropertyDescriptor(st.prototype,"dragAppendStart"),st.prototype),sr(st.prototype,"dragAppendSimple",[l.k],Object.getOwnPropertyDescriptor(st.prototype,"dragAppendSimple"),st.prototype),sr(st.prototype,"dragAppend",[l.k],Object.getOwnPropertyDescriptor(st.prototype,"dragAppend"),st.prototype),sr(st.prototype,"dragAppendEnd",[l.k],Object.getOwnPropertyDescriptor(st.prototype,"dragAppendEnd"),st.prototype),sr(st.prototype,"updatePointsAfterDrag",[l.k],Object.getOwnPropertyDescriptor(st.prototype,"updatePointsAfterDrag"),st.prototype),sr(st.prototype,"getAdjustStart",[l.k],Object.getOwnPropertyDescriptor(st.prototype,"getAdjustStart"),st.prototype),sr(st.prototype,"getAdjustEnd",[l.k],Object.getOwnPropertyDescriptor(st.prototype,"getAdjustEnd"),st.prototype),sr(st.prototype,"updateAfterAdjustStartAndEnd",[l.k],Object.getOwnPropertyDescriptor(st.prototype,"updateAfterAdjustStartAndEnd"),st.prototype),st),ui=function(r){var t=r.start,n=r.end,i=r.offset,a=r.verticalLength,c=r.type,h={leftX:0,leftY:0,rightX:0,rightY:0},m=Math.atan((n.y-t.y)/(n.x-t.x)),x=Math.atan(i/a),w=Math.sqrt(a*a+i*i);return c==="start"?n.x>=t.x?(h.leftX=t.x+w*Math.sin(m+x),h.leftY=t.y-w*Math.cos(m+x),h.rightX=t.x-w*Math.sin(m-x),h.rightY=t.y+w*Math.cos(m-x)):(h.leftX=t.x-w*Math.sin(m+x),h.leftY=t.y+w*Math.cos(m+x),h.rightX=t.x+w*Math.sin(m-x),h.rightY=t.y-w*Math.cos(m-x)):c==="end"&&(n.x>=t.x?(h.leftX=n.x+w*Math.sin(m-x),h.leftY=n.y-w*Math.cos(m-x),h.rightX=n.x-w*Math.sin(m+x),h.rightY=n.y+w*Math.cos(m+x)):(h.leftX=n.x-w*Math.sin(m-x),h.leftY=n.y+w*Math.cos(m-x),h.rightX=n.x+w*Math.sin(m+x),h.rightY=n.y-w*Math.cos(m+x))),h};function Th(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),t.push.apply(t,n)}return t}function Ba(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?Th(Object(t),!0).forEach(function(n){eM(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Th(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function eM(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function tM(e){return oM(e)||nM(e)||wh(e)||rM()}function rM(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nM(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function oM(e){if(Array.isArray(e))return Ef(e)}function _a(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_a=function(t){return typeof t}:_a=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_a(e)}function Of(e,r){return sM(e)||aM(e,r)||wh(e,r)||iM()}function iM(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wh(e,r){if(e){if(typeof e=="string")return Ef(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Ef(e,r)}}function Ef(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function aM(e,r){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],i=!0,a=!1,c,h;try{for(t=t.call(e);!(i=(c=t.next()).done)&&(n.push(c.value),!(r&&n.length===r));i=!0);}catch(m){a=!0,h=m}finally{try{!i&&t.return!=null&&t.return()}finally{if(a)throw h}}return n}}function sM(e){if(Array.isArray(e))return e}var lM=function(r,t){return Math.abs(r.centerX-t.centerX)*2<r.width+t.width&&Math.abs(r.centerY-t.centerY)*2<r.height+t.height},xf=function(r){var t=[],n={};return r.forEach(function(i){var a="".concat(i.x,"-").concat(i.y);i.id=a,n[a]=i}),Object.keys(n).forEach(function(i){t.push(n[i])}),t},za=function(r,t){return r.width===0&&r.height===0?r:{centerX:r.centerX,centerY:r.centerY,minX:r.minX-t,minY:r.minY-t,maxX:r.maxX+t,maxY:r.maxY+t,height:r.height+2*t,width:r.width+2*t}},uM=function(r,t){var n=Math.abs(r.x-t.centerX),i=Math.abs(r.y-t.centerY);return n/t.width>i/t.height?Dt.HORIZONTAL:Dt.VERTICAL},Fa=function(r,t){var n=uM(t,r);return n===Dt.HORIZONTAL?{x:t.x>r.centerX?r.maxX:r.minX,y:t.y}:{x:t.x,y:t.y>r.centerY?r.maxY:r.minY}},Ah=function(r,t){var n=Math.min(r.minX,t.minX),i=Math.min(r.minY,t.minY),a=Math.max(r.maxX,t.maxX),c=Math.max(r.maxY,t.maxY);return{centerX:(n+a)/2,centerY:(i+c)/2,minX:n,minY:i,maxX:a,maxY:c,height:c-i,width:a-n}},fi=function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=[],i=[];r.forEach(function(j){n.push(j.x),i.push(j.y)});var a=Math.min.apply(Math,n),c=Math.max.apply(Math,n),h=Math.min.apply(Math,i),m=Math.max.apply(Math,i),x=c-a,w=m-h;return t&&(x+=t,w+=t),{centerX:(a+c)/2,centerY:(h+m)/2,maxX:c,maxY:m,minX:a,minY:h,x:(a+c)/2,y:(h+m)/2,height:w,width:x}},Ga=function(r){var t=r.minX,n=r.minY,i=r.maxX,a=r.maxY;return[{x:t,y:n},{x:i,y:n},{x:i,y:a},{x:t,y:a}]},Ha=function(r,t){var n=r.x,i=r.y;return n<t.minX||n>t.maxX||i<t.minY||i>t.maxY},fM=function(r,t){return t<r.minX||t>r.maxX?[]:[{x:t,y:r.minY},{x:t,y:r.maxY}]},cM=function(r,t){return t<r.minY||t>r.maxY?[]:[{x:r.minX,y:t},{x:r.maxX,y:t}]},dM=function(r,t){return fM(r,t.x).concat(cM(r,t.y))},Sf=function(r,t){return Math.abs(r.x-t.x)+Math.abs(r.y-t.y)},pM=function(r,t){var n=-2,i=0;return t.forEach(function(a){a&&(r.x===a.x&&(i+=n),r.y===a.y&&(i+=n))}),i},Nh=function(r,t,n,i,a){return Sf(r,t)+Sf(r,n)+pM(r,[t,n,i,a])},hM=function e(r,t,n,i,a){a||(a=0),r.unshift(t[i]),n[i]&&n[i]!==i&&a<=100&&e(r,t,n,n[i],a+1)},vM=function(r,t){var n=r.indexOf(t);n>-1&&r.splice(n,1)},ci=function(r,t,n,i){var a=t.x-r.x,c=t.y-r.y,h=i.x-n.x,m=i.y-n.y,x=(-c*(r.x-n.x)+a*(r.y-n.y))/(-h*c+a*m),w=(h*(r.y-n.y)-m*(r.x-n.x))/(-h*c+a*m);return x>=0&&x<=1&&w>=0&&w<=1},Dh=function(r,t,n){if(n.width===0&&n.height===0)return!1;var i=Ga(n),a=Of(i,4),c=a[0],h=a[1],m=a[2],x=a[3];return ci(r,t,c,h)||ci(r,t,c,x)||ci(r,t,h,m)||ci(r,t,m,x)},yM=function(r,t,n,i){var a=[];return r.forEach(function(c){c!==t&&(c.x===t.x||c.y===t.y)&&!Dh(c,t,n)&&!Dh(c,t,i)&&a.push(c)}),xf(a)},gM=function(r,t,n,i,a,c,h){var m=[],x=[t],w={},j={},B={};j[t.id]=0,B[t.id]=Nh(t,n,t);var G={};r.forEach(function(ne){G[ne.id]=ne});for(var K=function(){var ae=void 0,we=1/0;if(x.forEach(function(ye){B[ye.id]<we&&(we=B[ye.id],ae=ye)}),ae===n){var Ce=[];return hM(Ce,G,w,n.id),{v:Ce}}vM(x,ae),m.push(ae),yM(r,ae,i,a).forEach(function(ye){if(m.indexOf(ye)===-1){x.indexOf(ye)===-1&&x.push(ye);var Le=B[ae.id]+Sf(ae,ye);j[ye.id]&&Le>=j[ye.id]||(w[ye.id]=ae.id,j[ye.id]=Le,B[ye.id]=j[ye.id]+Nh(ye,n,t,c,h))}})};x.length;){var oe=K();if(_a(oe)==="object")return oe.v}return[t,n]},jh=function(r){var t=xr(r);return t},Ch=function(r){for(var t=1;t<r.length-1;){var n=r[t-1],i=r[t],a=r[t+1];n.x===i.x&&i.x===a.x||n.y===i.y&&i.y===a.y?r.splice(t,1):t++}return r},Ih=function(r,t,n,i,a){var c=jh(n),h=jh(i),m=za(c,a),x=za(h,a),w=Fa(m,r),j=Fa(x,t);if(lM(m,x)){var B=bM(r,t,w,j);return[r,w].concat(tM(B),[j,t])}var G=fi([w,j]),K=Ah(m,G),oe=Ah(x,G),ne=[];ne=ne.concat(Ga(K)),ne=ne.concat(Ga(oe));var ae={x:(r.x+t.x)/2,y:(r.y+t.y)/2};[G,K,oe].forEach(function(Ce){ne=ne.concat(dM(Ce,ae).filter(function(ye){return Ha(ye,m)&&Ha(ye,x)}))}),[{x:w.x,y:j.y},{x:j.x,y:w.y}].forEach(function(Ce){Ha(Ce,m)&&Ha(Ce,x)&&ne.push(Ce)}),ne.unshift(w),ne.push(j),ne=xf(ne);var we=gM(ne,w,j,c,h,r,t);return we.unshift(r),we.push(t),we.length>2&&(we=Ch(we)),xf(we)},mM=function(r){var t;if(r.length===1)t=[r[0],r[0]];else if(r.length>=2){for(var n=r[0],i=r[1],a=Kr(n.x,n.y,i.x,i.y),c=1;c<r.length-1;c++){var h=r[c],m=r[c+1],x=Kr(h.x,h.y,m.x,m.y);x>a&&(a=x,n=h,i=m)}t=[n,i]}return t},Rh=function(r,t,n){var i=Rn(r,n),a=Rn(t,n);return i&&a},Lh=function(r,t,n){var i=Rn(r,n),a=Rn(t,n),c=i&&a,h=i||a;return!c&&h},Bh=function(r,t,n){for(var i,a,c=xr(n),h=Ga(c),m=0;m<h.length;m++){var x=ci(r,t,h[m],h[(m+1)%h.length]);x&&(a=[h[m],h[(m+1)%h.length]])}return a&&(i=x0(r,t,a[0],a[1])),i},$a=function(r,t){var n;return r.x===t.x?n=Dt.VERTICAL:r.y===t.y&&(n=Dt.HORIZONTAL),n},Po=function(r){var t=r.split(" "),n=[];return t&&t.forEach(function(i){var a=i.split(","),c=Of(a,2),h=c[0],m=c[1];n.push({x:Number(h),y:Number(m)})}),n},bM=function(r,t,n,i){var a=[],c=$a(r,n),h=$a(t,i);if(c===h)r.y===n.y?(a.push({x:n.x,y:(n.y+i.y)/2}),a.push({x:i.x,y:(n.y+i.y)/2})):(a.push({x:(n.x+i.x)/2,y:n.y}),a.push({x:(n.x+i.x)/2,y:i.y}));else{var m={x:n.x,y:i.y},x=si(m,r,n),w=si(m,t,i);if(x||w)m={x:i.x,y:n.y};else{var j=_h(m,r,n),B=_h(m,t,i);j&&B&&(m={x:i.x,y:n.y})}a.push(m)}return a},_h=function(r,t,n){return r.x===t.x&&r.x===n.x||r.y===t.y&&r.y===n.y},zh=function(r){if(!r)return 0;for(var t=0,n=0;n<r.length;n++){var i=r.charCodeAt(n);r.match(/[A-Z]/)?t+=1.5:i>=1&&i<=126||i>=65376&&i<=65439?t+=1:t+=2}return t},OM=function(r){var t=r.start,n=r.end,i;if(t.x===n.x&&t.y===n.y)i="";else{var a={start:t,end:n,offset:10,verticalLength:5},c=ui(Ba(Ba({},a),{},{type:"start"})),h=ui(Ba(Ba({},a),{},{type:"end"}));i="M".concat(c.leftX," ").concat(c.leftY,` 
    L`).concat(c.rightX," ").concat(c.rightY,` 
    L`).concat(h.rightX," ").concat(h.rightY,`
    L`).concat(h.leftX," ").concat(h.leftY," z")}return{d:i,fill:"transparent",stroke:"transparent",strokeWidth:1,strokeDasharray:"4, 4"}},Fh=function(r){var t=r.start,n=r.end,i=r.sourceNode,a=r.targetNode,c=r.offset,h=xr(i),m=xr(a),x=za(h,c),w=za(m,c),j=Fa(x,t),B=Fa(w,n);return{sNext:j,ePre:B}},ka=function(r){var t=r.replace(/M/g,"").replace(/C/g,",").split(","),n=Ua(t[0]),i=Ua(t[1]),a=Ua(t[2]),c=Ua(t[3]);return[n,i,a,c]},Ua=function(r){var t=r.replace(/(^\s*)/g,"").split(" "),n=Of(t,2),i=n[0],a=n[1];return{x:+i,y:+a}},EM=function(r){var t=ka(r);return[t[2],t[3]]},Gh=function(r,t){for(var n=r.x,i=r.y,a=Po(t),c=Number.MAX_SAFE_INTEGER,h,m=[],x=0;x<a.length;x++)m.push({start:a[x],end:a[(x+1)%a.length]});if(m.forEach(function(G){var K=G.start,oe=G.end;if(K.x===oe.x){var ne={x:K.x,y:i},ae=si(ne,K,oe);if(ae){var we=Math.abs(K.x-n);we<c&&(c=we,h=ne)}}else if(K.y===oe.y){var Ce={x:n,y:K.y},ye=si(Ce,K,oe);if(ye){var Le=Math.abs(K.y-i);Le<c&&(c=Le,h=Ce)}}}),!h){var w=m[0],j=w.start,B=w.end;h={x:j.x+(B.x-j.x)/2,y:j.y+(B.y-j.y)/2}}return h},xM=function(r){return ii(r,["id","type","sourceNodeId","sourceAnchorId","targetNodeId","targetAnchorId","pointsList","startPoint","endPoint","properties"])},Hh=function(r,t){return Math.sqrt(Math.pow(r.x-t.x,2)+Math.pow(r.y-t.y,2))};function SM(e,r){return typeof r!="function"?function(t,n,i){return Object.assign({type:e.edgeType},i)}:function(t,n,i){var a=r(t,n,i);return a?typeof a=="string"?Object.assign({},i,{type:a}):Object.assign({type:a},i):{type:e.edgeType}}}o(204);function PM(){}var Mo=PM;function MM(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function $h(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function TM(e,r,t){return r&&$h(e.prototype,r),t&&$h(e,t),e}function Gt(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var Vr=window.document,kh=0;function wM(e){var r=e.onDragStart,t=r===void 0?Mo:r,n=e.onDragging,i=n===void 0?Mo:n,a=e.onDragEnd,c=a===void 0?Mo:a,h=e.step,m=h===void 0?1:h,x=e.isStopPropagation,w=x===void 0?!0:x,j=!1,B=!1,G=0,K=0,oe=0,ne=0;function ae(ye){if(w&&ye.stopPropagation(),!!B&&(j=!0,oe+=ye.clientX-G,ne+=ye.clientY-K,G=ye.clientX,K=ye.clientY,Math.abs(oe)>m||Math.abs(ne)>m)){var Le=oe%m,Ne=ne%m,Ue=oe-Le,De=ne-Ne;oe=Le,ne=Ne,i({deltaX:Ue,deltaY:De,event:ye})}}function we(ye){if(w&&ye.stopPropagation(),B=!1,Vr.removeEventListener("mousemove",ae,!1),Vr.removeEventListener("mouseup",we,!1),!!j)return j=!1,c({event:ye})}function Ce(ye){if(ye.button===kh)return w&&ye.stopPropagation(),B=!0,G=ye.clientX,K=ye.clientY,Vr.addEventListener("mousemove",ae,!1),Vr.addEventListener("mouseup",we,!1),t({event:ye})}return Ce}var un=function(){function e(r){var t=this,n=r.onDragStart,i=n===void 0?Mo:n,a=r.onDragging,c=a===void 0?Mo:a,h=r.onDragEnd,m=h===void 0?Mo:h,x=r.eventType,w=x===void 0?"":x,j=r.eventCenter,B=j===void 0?null:j,G=r.step,K=G===void 0?1:G,oe=r.isStopPropagation,ne=oe===void 0?!0:oe,ae=r.model,we=ae===void 0?null:ae,Ce=r.data,ye=Ce===void 0?null:Ce;MM(this,e),Gt(this,"onDragStart",void 0),Gt(this,"onDragging",void 0),Gt(this,"onDragEnd",void 0),Gt(this,"step",void 0),Gt(this,"isStopPropagation",void 0),Gt(this,"isDragging",!1),Gt(this,"isStartDragging",!1),Gt(this,"startX",0),Gt(this,"startY",0),Gt(this,"sumDeltaX",0),Gt(this,"sumDeltaY",0),Gt(this,"eventType",void 0),Gt(this,"eventCenter",void 0),Gt(this,"model",void 0),Gt(this,"data",void 0),Gt(this,"startTime",void 0),Gt(this,"handleMouseDown",function(Le){var Ne,Ue;if(Le.button===kh){t.isStopPropagation&&Le.stopPropagation(),t.isStartDragging=!0,t.startX=Le.clientX,t.startY=Le.clientY,Vr.addEventListener("mousemove",t.handleMouseMove,!1),Vr.addEventListener("mouseup",t.handleMouseUp,!1);var De=(Ne=t.model)===null||Ne===void 0?void 0:Ne.getData();(Ue=t.eventCenter)===null||Ue===void 0||Ue.emit(nt["".concat(t.eventType,"_MOUSEDOWN")],{e:Le,data:t.data||De}),t.startTime=new Date().getTime()}}),Gt(this,"handleMouseMove",function(Le){if(t.isStopPropagation&&Le.stopPropagation(),!!t.isStartDragging&&(t.sumDeltaX+=Le.clientX-t.startX,t.sumDeltaY+=Le.clientY-t.startY,t.startX=Le.clientX,t.startY=Le.clientY,t.step<=1||Math.abs(t.sumDeltaX)>t.step||Math.abs(t.sumDeltaY)>t.step)){var Ne,Ue=t.sumDeltaX%t.step,De=t.sumDeltaY%t.step,ot=t.sumDeltaX-Ue,ht=t.sumDeltaY-De;t.sumDeltaX=Ue,t.sumDeltaY=De;var Ht=(Ne=t.model)===null||Ne===void 0?void 0:Ne.getData();if(!t.isDragging){var Wt;(Wt=t.eventCenter)===null||Wt===void 0||Wt.emit(nt["".concat(t.eventType,"_DRAGSTART")],{e:Le,data:t.data||Ht}),t.onDragStart({event:Le})}t.isDragging=!0,Promise.resolve().then(function(){var or,hr;t.onDragging({deltaX:ot,deltaY:ht,event:Le}),(or=t.eventCenter)===null||or===void 0||or.emit(nt["".concat(t.eventType,"_MOUSEMOVE")],{e:Le,data:t.data||Ht}),(hr=t.eventCenter)===null||hr===void 0||hr.emit(nt["".concat(t.eventType,"_DRAG")],{e:Le,data:t.data||Ht})})}}),Gt(this,"handleMouseUp",function(Le){t.isStartDragging=!1,t.isStopPropagation&&Le.stopPropagation(),Promise.resolve().then(function(){var Ne,Ue,De;Vr.removeEventListener("mousemove",t.handleMouseMove,!1),Vr.removeEventListener("mouseup",t.handleMouseUp,!1);var ot=(Ne=t.model)===null||Ne===void 0?void 0:Ne.getData();(Ue=t.eventCenter)===null||Ue===void 0||Ue.emit(nt["".concat(t.eventType,"_MOUSEUP")],{e:Le,data:t.data||ot}),t.isDragging&&(t.isDragging=!1,t.onDragEnd({event:Le}),(De=t.eventCenter)===null||De===void 0||De.emit(nt["".concat(t.eventType,"_DROP")],{e:Le,data:t.data||ot}))})}),Gt(this,"cancelDrag",function(){Vr.removeEventListener("mousemove",t.handleMouseMove,!1),Vr.removeEventListener("mouseup",t.handleMouseUp,!1),t.onDragEnd({event:null}),t.isDragging=!1}),this.onDragStart=i,this.onDragging=c,this.onDragEnd=m,this.step=K,this.isStopPropagation=ne,this.eventType=w,this.eventCenter=B,this.model=we,this.data=ye}return TM(e,[{key:"setStep",value:function(t){this.step=t}}]),e}(),Uh={node:!1,edge:!1},AM={node:!0,edge:!0},NM=function(r){return!r||typeof r=="boolean"?Rt(r===!0?AM:Uh):Lp(Rt(Uh),r)},de,Xh,Yh,Wh,Kh,Vh,Zh,Jh,Qh,qh,ev,tv,rv;function nv(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),t.push.apply(t,n)}return t}function Xa(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?nv(Object(t),!0).forEach(function(n){Zr(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):nv(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function di(e,r){return CM(e)||jM(e,r)||ov(e,r)||DM()}function DM(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jM(e,r){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],i=!0,a=!1,c,h;try{for(t=t.call(e);!(i=(c=t.next()).done)&&(n.push(c.value),!(r&&n.length===r));i=!0);}catch(m){a=!0,h=m}finally{try{!i&&t.return!=null&&t.return()}finally{if(a)throw h}}return n}}function CM(e){if(Array.isArray(e))return e}function To(e){return LM(e)||RM(e)||ov(e)||IM()}function IM(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ov(e,r){if(e){if(typeof e=="string")return Pf(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Pf(e,r)}}function RM(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function LM(e){if(Array.isArray(e))return Pf(e)}function Pf(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function pi(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?pi=function(t){return typeof t}:pi=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pi(e)}function Cr(e,r,t,n){t&&Object.defineProperty(e,r,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(n):void 0})}function BM(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function iv(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _M(e,r,t){return r&&iv(e.prototype,r),t&&iv(e,t),e}function Zr(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function Ze(e,r,t,n,i){var a={};return Object.keys(n).forEach(function(c){a[c]=n[c]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=t.slice().reverse().reduce(function(c,h){return h(e,r,c)||c},a),i&&a.initializer!==void 0&&(a.value=a.initializer?a.initializer.call(i):void 0,a.initializer=void 0),a.initializer===void 0&&(Object.defineProperty(e,r,a),a=null),a}var Ya=200,av=(de=function(){function e(r){BM(this,e),Zr(this,"rootEl",void 0),Cr(this,"width",Xh,this),Cr(this,"height",Yh,this),Zr(this,"theme",void 0),Zr(this,"eventCenter",void 0),Zr(this,"modelMap",new Map),Zr(this,"topElement",void 0),Zr(this,"animation",void 0),Zr(this,"idGenerator",void 0),Zr(this,"edgeGenerator",void 0),Zr(this,"nodeMoveRules",[]),Cr(this,"edgeType",Wh,this),Cr(this,"nodes",Kh,this),Cr(this,"edges",Vh,this),Cr(this,"overlapMode",Zh,this),Cr(this,"background",Jh,this),Cr(this,"transformModel",Qh,this),Cr(this,"editConfigModel",qh,this),Cr(this,"gridSize",ev,this),Cr(this,"partial",tv,this),Cr(this,"fakerNode",rv,this);var t=r.container,n=r.background,i=n===void 0?{}:n,a=r.grid,c=r.idGenerator,h=r.edgeGenerator,m=r.animation;this.background=i,pi(a)==="object"&&(this.gridSize=a.size),this.rootEl=t,this.editConfigModel=new up(r),this.eventCenter=new l0,this.transformModel=new Wx(this.eventCenter),this.theme=Bp(r.style),this.edgeType=r.edgeType||"polyline",this.width=r.width,this.height=r.height,this.animation=NM(m),this.partial=r.partial,this.overlapMode=r.overlapMode||0,this.idGenerator=c,this.edgeGenerator=SM(this,h),this.width=r.width||this.rootEl.getBoundingClientRect().width,this.height=r.height||this.rootEl.getBoundingClientRect().height,this.flowId=In()}return _M(e,[{key:"nodesMap",get:function(){return this.nodes.reduce(function(t,n,i){return t[n.id]={index:i,model:n},t},{})}},{key:"edgesMap",get:function(){return this.edges.reduce(function(t,n,i){return t[n.id]={index:i,model:n},t},{})}},{key:"modelsMap",get:function(){return[].concat(To(this.nodes),To(this.edges)).reduce(function(t,n){return t[n.id]=n,t},{})}},{key:"sortElements",get:function(){var t=[];this.nodes.forEach(function(m){return t.push(m)}),this.edges.forEach(function(m){return t.push(m)}),t=t.sort(function(m,x){return m.zIndex-x.zIndex});for(var n=[],i=[-Ya,-Ya],a=[this.width+Ya,this.height+Ya],c=0;c<t.length;c++){var h=t[c];h.visible&&(!this.partial||h.isSelected||this.isElementInArea(h,i,a,!1,!1))&&n.push(h)}return n}},{key:"textEditElement",get:function(){var t=this.nodes.find(function(i){return i.state===bt.TEXT_EDIT}),n=this.edges.find(function(i){return i.state===bt.TEXT_EDIT});return t||n}},{key:"selectElements",get:function(){var t=new Map;return this.nodes.forEach(function(n){n.isSelected&&t.set(n.id,n)}),this.edges.forEach(function(n){n.isSelected&&t.set(n.id,n)}),t}},{key:"getAreaElement",value:function(t,n){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,c=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1,h=[],m=[];this.nodes.forEach(function(j){return m.push(j)}),this.edges.forEach(function(j){return m.push(j)});for(var x=0;x<m.length;x++){var w=m[x];(!c||w.visible)&&this.isElementInArea(w,t,n,i,a)&&h.push(w)}return h}},{key:"getModel",value:function(t){return this.modelMap.get(t)}},{key:"getNodeModelById",value:function(t){var n;return this.fakerNode&&t===this.fakerNode.id?this.fakerNode:(n=this.nodesMap[t])===null||n===void 0?void 0:n.model}},{key:"getPointByClient",value:function(t){var n=t.x,i=t.y,a=this.rootEl.getBoundingClientRect(),c={x:n-a.left,y:i-a.top},h=this.transformModel.HtmlPointToCanvasPoint([c.x,c.y]),m=di(h,2),x=m[0],w=m[1];return{domOverlayPosition:c,canvasOverlayPosition:{x,y:w}}}},{key:"isElementInArea",value:function(t,n,i){var a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,c=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0;if(t.BaseType===zt.NODE){t=t;for(var h=xr(t),m=h.minX,x=h.minY,w=h.maxX,j=h.maxY,B=[{x:m,y:x},{x:w,y:x},{x:w,y:j},{x:m,y:j}],G=c,K=0;K<B.length;K++){var oe=B[K],ne=oe.x,ae=oe.y,we=this.transformModel.CanvasPointToHtmlPoint([ne,ae]),Ce=di(we,2);if(ne=Ce[0],ae=Ce[1],af([ne,ae],n,i)!==c){G=!c;break}}return G}if(t.BaseType===zt.EDGE){t=t;var ye=t,Le=ye.startPoint,Ne=ye.endPoint,Ue=this.transformModel.CanvasPointToHtmlPoint([Le.x,Le.y]),De=this.transformModel.CanvasPointToHtmlPoint([Ne.x,Ne.y]),ot=af(Ue,n,i),ht=af(De,n,i);return a?ot&&ht:ot||ht}return!1}},{key:"graphDataToModel",value:function(t){var n=this;(!this.width||!this.height)&&this.resize(),this.nodes=Sa(t.nodes,function(i){var a=n.getModel(i.type);if(!a)throw new Error("".concat(i.type,""));var c=i.x,h=i.y;return c&&h&&(i.x=Cn(c,n.gridSize),i.y=Cn(h,n.gridSize),pi(i.text)==="object"&&(i.text.x-=zp(c,n.gridSize),i.text.y-=zp(h,n.gridSize))),new a(i,n)}),this.edges=Sa(t.edges,function(i){var a=n.getModel(i.type);if(!a)throw new Error("".concat(i.type,""));return new a(i,n)})}},{key:"modelToGraphData",value:function(){var t=[];this.edges.forEach(function(i){var a=i.getData();a&&!i.virtual&&t.push(a)});var n=[];return this.nodes.forEach(function(i){var a=i.getData();a&&!i.virtual&&n.push(a)}),{nodes:n,edges:t}}},{key:"modelToHistoryData",value:function(){for(var t=!1,n=[],i=0;i<this.nodes.length;i++){var a=this.nodes[i];if(a.isDragging){t=!0;break}else n.push(a.getHistoryData())}if(t)return!1;for(var c=!1,h=[],m=0;m<this.edges.length;m++){var x=this.edges[m];if(x.isDragging){c=!0;break}else h.push(x.getHistoryData())}return c?!1:{nodes:n,edges:h}}},{key:"getEdgeModelById",value:function(t){var n;return(n=this.edgesMap[t])===null||n===void 0?void 0:n.model}},{key:"getElement",value:function(t){return this.modelsMap[t]}},{key:"getNodeEdges",value:function(t){for(var n=[],i=0;i<this.edges.length;i++){var a=this.edges[i],c=this.edges[i].sourceNodeId===t,h=this.edges[i].targetNodeId===t;(c||h)&&n.push(a)}return n}},{key:"getSelectElements",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,n=this.selectElements,i={nodes:[],edges:[]};return n.forEach(function(a){if(a.BaseType===zt.NODE&&i.nodes.push(a.getData()),a.BaseType===zt.EDGE){var c=a.getData(),h=n.get(c.sourceNodeId)&&n.get(c.targetNodeId);(t||h)&&i.edges.push(c)}}),i}},{key:"updateAttributes",value:function(t,n){var i=this.getElement(t);i.updateAttributes(n)}},{key:"changeNodeId",value:function(t,n){return n||(n=In()),this.nodesMap[n]?(console.warn("".concat(n,", ")),""):this.nodesMap[t]?(this.edges.forEach(function(i){i.sourceNodeId===t&&(i.sourceNodeId=n),i.targetNodeId===t&&(i.targetNodeId=n)}),this.nodesMap[t].model.id=n,n):(console.warn("".concat(n,", ")),"")}},{key:"changeEdgeId",value:function(t,n){return n||(n=In()),this.edgesMap[n]?(console.warn(": ".concat(n,", ")),""):this.edgesMap[t]?(this.edges.forEach(function(i){i.id===t&&i.changeEdgeId(n)}),n):(console.warn(": ".concat(n,", ")),"")}},{key:"setFakerNode",value:function(t){this.fakerNode=t}},{key:"removeFakerNode",value:function(){this.fakerNode=null}},{key:"setModel",value:function(t,n){return this.modelMap.set(t,n)}},{key:"toFront",value:function(t){var n,i,a=((n=this.nodesMap[t])===null||n===void 0?void 0:n.model)||((i=this.edgesMap[t])===null||i===void 0?void 0:i.model);if(a){if(this.overlapMode===Er.DEFAULT){var c;(c=this.topElement)===null||c===void 0||c.setZIndex(),a.setZIndex(Gx),this.topElement=a}this.overlapMode===Er.INCREASE&&this.setElementZIndex(t,"top")}}},{key:"setElementZIndex",value:function(t,n){var i,a,c=((i=this.nodesMap[t])===null||i===void 0?void 0:i.model)||((a=this.edgesMap[t])===null||a===void 0?void 0:a.model);if(c){var h;typeof n=="number"&&(h=n),n==="top"&&(h=df()),n==="bottom"&&(h=j0()),c.setZIndex(h)}}},{key:"deleteNode",value:function(t){var n=this.nodesMap[t].model.getData();this.deleteEdgeBySource(t),this.deleteEdgeByTarget(t),this.nodes.splice(this.nodesMap[t].index,1),this.eventCenter.emit(nt.NODE_DELETE,{data:n})}},{key:"addNode",value:function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:nt.NODE_ADD,i=tr(t);i.id&&this.nodesMap[t.id]&&delete i.id;var a=this.getModel(i.type);if(!a)throw new Error("".concat(i.type,""));i.x=Cn(i.x,this.gridSize),i.y=Cn(i.y,this.gridSize);var c=new a(i,this);this.nodes.push(c);var h=c.getData();return this.eventCenter.emit(n,{data:h}),c}},{key:"cloneNode",value:function(t){var n=this.getNodeModelById(t),i=n.getData();i.x+=30,i.y+=30,delete i.id,i.text&&(i.text.x+=30,i.text.y+=30);var a=this.addNode(i);return a.setSelected(!0),n.setSelected(!1),a.getData()}},{key:"moveNode",value:function(t,n,i){var a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,c=this.nodesMap[t];if(!c){console.warn("id".concat(t,""));return}var h=c.model,m=h.getMoveDistance(n,i,a),x=di(m,2);n=x[0],i=x[1],this.moveEdge(t,n,i)}},{key:"moveNode2Coordinate",value:function(t,n,i){var a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,c=this.nodesMap[t];if(!c){console.warn("id".concat(t,""));return}var h=c.model,m=h.x,x=h.y,w=n-m,j=i-x;this.moveNode(t,w,j,a)}},{key:"editText",value:function(t){this.setElementStateById(t,bt.TEXT_EDIT)}},{key:"addEdge",value:function(t){var n=tr(t),i=n.type;i||(i=this.edgeType),n.id&&this.edgesMap[n.id]&&delete n.id;var a=this.getModel(i);if(!a)throw new Error("".concat(i,""));var c=new a(Xa(Xa({},n),{},{type:i}),this),h=c.getData();return this.edges.push(c),this.eventCenter.emit(nt.EDGE_ADD,{data:h}),c}},{key:"moveEdge",value:function(t,n,i){for(var a=0;a<this.edges.length;a++){var c=this.edges[a],h=c.textPosition,m=h.x,x=h.y,w=this.edges[a].sourceNodeId===t,j=this.edges[a].targetNodeId===t;if(w&&c.moveStartPoint(n,i),j&&c.moveEndPoint(n,i),w||j){var B;if(c.customTextPosition===!0)c.resetTextPosition();else if(c.modelType===pt.POLYLINE_EDGE&&(B=c.text)!==null&&B!==void 0&&B.value){var G=c.text,K=Gh(G,c.points);c.moveText(K.x-G.x,K.y-G.y)}else{var oe=c.textPosition,ne=oe.x,ae=oe.y;c.moveText(ne-m,ae-x)}}}}},{key:"deleteEdgeBySourceAndTarget",value:function(t,n){for(var i=0;i<this.edges.length;i++)if(this.edges[i].sourceNodeId===t&&this.edges[i].targetNodeId===n){var a=this.edges[i].getData();this.edges.splice(i,1),i--,this.eventCenter.emit(nt.EDGE_DELETE,{data:a})}}},{key:"deleteEdgeById",value:function(t){var n=this.edgesMap[t];if(n){var i=this.edgesMap[t].index,a=this.edgesMap[t].model.getData();this.edges.splice(i,1),this.eventCenter.emit(nt.EDGE_DELETE,{data:a})}}},{key:"deleteEdgeBySource",value:function(t){for(var n=0;n<this.edges.length;n++)if(this.edges[n].sourceNodeId===t){var i=this.edges[n].getData();this.edges.splice(n,1),n--,this.eventCenter.emit(nt.EDGE_DELETE,{data:i})}}},{key:"deleteEdgeByTarget",value:function(t){for(var n=0;n<this.edges.length;n++)if(this.edges[n].targetNodeId===t){var i=this.edges[n].getData();this.edges.splice(n,1),n--,this.eventCenter.emit(nt.EDGE_DELETE,{data:i})}}},{key:"setElementStateById",value:function(t,n,i){this.nodes.forEach(function(a){a.id===t?a.setElementState(n,i):a.setElementState(bt.DEFAULT)}),this.edges.forEach(function(a){a.id===t?a.setElementState(n,i):a.setElementState(bt.DEFAULT)})}},{key:"updateText",value:function(t,n){this.nodes.forEach(function(i){i.id===t&&i.updateText(n)}),this.edges.forEach(function(i){i.id===t&&i.updateText(n)})}},{key:"selectNodeById",value:function(t){var n,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;i||this.clearSelectElements();var a=(n=this.nodesMap[t])===null||n===void 0?void 0:n.model;a==null||a.setSelected(!0)}},{key:"selectEdgeById",value:function(t){var n,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;i||this.clearSelectElements();var a=(n=this.edgesMap[t])===null||n===void 0?void 0:n.model;a==null||a.setSelected(!0)}},{key:"selectElementById",value:function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;n||this.clearSelectElements();var i=this.getElement(t);i==null||i.setSelected(!0)}},{key:"clearSelectElements",value:function(){if(this.selectElements.forEach(function(n){n==null||n.setSelected(!1)}),this.selectElements.clear(),this.overlapMode===Er.DEFAULT){var t;(t=this.topElement)===null||t===void 0||t.setZIndex()}}},{key:"moveNodes",value:function(t,n,i){for(var a=this,c=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,h=t.reduce(function(ne,ae){var we=a.nodesMap[ae].model,Ce=we.getMoveDistance(n,i,c);return ne[ae]=Ce,ne},{}),m=0;m<this.edges.length;m++){var x=this.edges[m],w=h[x.sourceNodeId],j=void 0,B=void 0;if(w){var G=di(w,2);j=G[0],B=G[1],x.moveStartPoint(j,B)}var K=h[x.sourceNodeId];if(K){var oe=di(K,2);j=oe[0],B=oe[1],x.moveEndPoint(j,B)}(w||K)&&x.moveText(j,B)}}},{key:"addNodeMoveRules",value:function(t){this.nodeMoveRules.includes(t)||this.nodeMoveRules.push(t)}},{key:"setDefaultEdgeType",value:function(t){this.edgeType=t}},{key:"changeNodeType",value:function(t,n){var i=this.getNodeModelById(t);if(!i){console.warn("id".concat(t,""));return}var a=i.getData();a.type=n;var c=this.getModel(n);if(!c)throw new Error("".concat(n,""));var h=new c(a,this);this.nodes.splice(this.nodesMap[t].index,1,h);var m=this.getNodeEdges(t);m.forEach(function(x){if(x.sourceNodeId===t){var w=Yp(h,x.startPoint,h.width,h.height);x.updateStartPoint(w)}if(x.targetNodeId===t){var j=Yp(h,x.endPoint,h.width,h.height);x.updateEndPoint(j)}})}},{key:"changeEdgeType",value:function(t,n){var i=this.getEdgeModelById(t);if(!i){console.warn("id".concat(t,""));return}if(i.type!==n){var a=i.getData();a.type=n;var c=this.getModel(n);if(!c)throw new Error("".concat(n,""));delete a.pointsList;var h=new c(a,this);this.edges.splice(this.edgesMap[t].index,1,h)}}},{key:"getNodeIncomingEdge",value:function(t){var n=[];return this.edges.forEach(function(i){i.targetNodeId===t&&n.push(i)}),n}},{key:"getNodeOutgoingEdge",value:function(t){var n=[];return this.edges.forEach(function(i){i.sourceNodeId===t&&n.push(i)}),n}},{key:"getNodeIncomingNode",value:function(t){var n=this,i=[];return this.edges.forEach(function(a){a.targetNodeId===t&&i.push(n.nodesMap[a.sourceNodeId].model)}),i}},{key:"getNodeOutgoingNode",value:function(t){var n=this,i=[];return this.edges.forEach(function(a){a.sourceNodeId===t&&i.push(n.nodesMap[a.targetNodeId].model)}),i}},{key:"setTheme",value:function(t){this.theme=Bp(Xa(Xa({},this.theme),t))}},{key:"resize",value:function(t,n){this.width=t||this.rootEl.getBoundingClientRect().width,this.height=n||this.rootEl.getBoundingClientRect().height,(!this.width||!this.height)&&console.warn("containerDOM@see https://github.com/didi/LogicFlow/issues/675")}},{key:"clearData",value:function(){this.nodes=[],this.edges=[]}},{key:"getVirtualRectSize",value:function(){var t=this.nodes,n=[],i=[];t.forEach(function(G){var K=G.x,oe=G.y,ne=G.width,ae=G.height,we=G.getNodeStyle(),Ce=we.strokeWidth,ye=Ce===void 0?0:Ce;n=n.concat([K+ne/2+ye,K-ne/2-ye]),i=i.concat([oe+ae/2+ye,oe-ae/2-ye])});var a=Math.min.apply(Math,To(n)),c=Math.max.apply(Math,To(n)),h=Math.min.apply(Math,To(i)),m=Math.max.apply(Math,To(i)),x=c-a||0,w=m-h||0,j=a+x/2,B=h+w/2;return{virtualRectWidth:x,virtualRectHeight:w,virtualRectCenterPositionX:j,virtualRectCenterPositionY:B}}},{key:"translateCenter",value:function(){var t=this.nodes,n=this.width,i=this.height,a=this.rootEl,c=this.transformModel;if(t.length){var h=n||a.clientWidth,m=i||a.clientHeight,x=this.getVirtualRectSize(),w=x.virtualRectCenterPositionX,j=x.virtualRectCenterPositionY;c.focusOn(w,j,h,m)}}},{key:"fitView",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:20,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:20,i=this.nodes,a=this.width,c=this.height,h=this.rootEl,m=this.transformModel;if(i.length){var x=a||h.clientWidth,w=c||h.clientHeight,j=this.getVirtualRectSize(),B=j.virtualRectWidth,G=j.virtualRectHeight,K=j.virtualRectCenterPositionX,oe=j.virtualRectCenterPositionY,ne=(B+n)/x,ae=(G+t)/w,we=0;we=1/Math.max(ne,ae);var Ce=[x/2,w/2];m.zoom(we,Ce),m.focusOn(K,oe,x,w)}}},{key:"openEdgeAnimation",value:function(t){var n=this.getEdgeModelById(t);n.openEdgeAnimation()}},{key:"closeEdgeAnimation",value:function(t){var n=this.getEdgeModelById(t);n.closeEdgeAnimation()}}]),e}(),Xh=Ze(de.prototype,"width",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Yh=Ze(de.prototype,"height",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Wh=Ze(de.prototype,"edgeType",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Kh=Ze(de.prototype,"nodes",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Vh=Ze(de.prototype,"edges",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Zh=Ze(de.prototype,"overlapMode",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Er.DEFAULT}}),Jh=Ze(de.prototype,"background",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Qh=Ze(de.prototype,"transformModel",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),qh=Ze(de.prototype,"editConfigModel",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ev=Ze(de.prototype,"gridSize",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),tv=Ze(de.prototype,"partial",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),rv=Ze(de.prototype,"fakerNode",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ze(de.prototype,"nodesMap",[l.m],Object.getOwnPropertyDescriptor(de.prototype,"nodesMap"),de.prototype),Ze(de.prototype,"edgesMap",[l.m],Object.getOwnPropertyDescriptor(de.prototype,"edgesMap"),de.prototype),Ze(de.prototype,"modelsMap",[l.m],Object.getOwnPropertyDescriptor(de.prototype,"modelsMap"),de.prototype),Ze(de.prototype,"sortElements",[l.m],Object.getOwnPropertyDescriptor(de.prototype,"sortElements"),de.prototype),Ze(de.prototype,"textEditElement",[l.m],Object.getOwnPropertyDescriptor(de.prototype,"textEditElement"),de.prototype),Ze(de.prototype,"selectElements",[l.m],Object.getOwnPropertyDescriptor(de.prototype,"selectElements"),de.prototype),Ze(de.prototype,"setFakerNode",[l.k],Object.getOwnPropertyDescriptor(de.prototype,"setFakerNode"),de.prototype),Ze(de.prototype,"removeFakerNode",[l.k],Object.getOwnPropertyDescriptor(de.prototype,"removeFakerNode"),de.prototype),Ze(de.prototype,"setModel",[l.k],Object.getOwnPropertyDescriptor(de.prototype,"setModel"),de.prototype),Ze(de.prototype,"toFront",[l.k],Object.getOwnPropertyDescriptor(de.prototype,"toFront"),de.prototype),Ze(de.prototype,"setElementZIndex",[l.k],Object.getOwnPropertyDescriptor(de.prototype,"setElementZIndex"),de.prototype),Ze(de.prototype,"deleteNode",[l.k],Object.getOwnPropertyDescriptor(de.prototype,"deleteNode"),de.prototype),Ze(de.prototype,"addNode",[l.k],Object.getOwnPropertyDescriptor(de.prototype,"addNode"),de.prototype),Ze(de.prototype,"cloneNode",[l.k],Object.getOwnPropertyDescriptor(de.prototype,"cloneNode"),de.prototype),Ze(de.prototype,"moveNode",[l.k],Object.getOwnPropertyDescriptor(de.prototype,"moveNode"),de.prototype),Ze(de.prototype,"moveNode2Coordinate",[l.k],Object.getOwnPropertyDescriptor(de.prototype,"moveNode2Coordinate"),de.prototype),Ze(de.prototype,"editText",[l.k],Object.getOwnPropertyDescriptor(de.prototype,"editText"),de.prototype),Ze(de.prototype,"addEdge",[l.k],Object.getOwnPropertyDescriptor(de.prototype,"addEdge"),de.prototype),Ze(de.prototype,"moveEdge",[l.k],Object.getOwnPropertyDescriptor(de.prototype,"moveEdge"),de.prototype),Ze(de.prototype,"deleteEdgeBySourceAndTarget",[l.k],Object.getOwnPropertyDescriptor(de.prototype,"deleteEdgeBySourceAndTarget"),de.prototype),Ze(de.prototype,"deleteEdgeById",[l.k],Object.getOwnPropertyDescriptor(de.prototype,"deleteEdgeById"),de.prototype),Ze(de.prototype,"deleteEdgeBySource",[l.k],Object.getOwnPropertyDescriptor(de.prototype,"deleteEdgeBySource"),de.prototype),Ze(de.prototype,"deleteEdgeByTarget",[l.k],Object.getOwnPropertyDescriptor(de.prototype,"deleteEdgeByTarget"),de.prototype),Ze(de.prototype,"setElementStateById",[l.k],Object.getOwnPropertyDescriptor(de.prototype,"setElementStateById"),de.prototype),Ze(de.prototype,"updateText",[l.k],Object.getOwnPropertyDescriptor(de.prototype,"updateText"),de.prototype),Ze(de.prototype,"selectNodeById",[l.k],Object.getOwnPropertyDescriptor(de.prototype,"selectNodeById"),de.prototype),Ze(de.prototype,"selectEdgeById",[l.k],Object.getOwnPropertyDescriptor(de.prototype,"selectEdgeById"),de.prototype),Ze(de.prototype,"selectElementById",[l.k],Object.getOwnPropertyDescriptor(de.prototype,"selectElementById"),de.prototype),Ze(de.prototype,"clearSelectElements",[l.k],Object.getOwnPropertyDescriptor(de.prototype,"clearSelectElements"),de.prototype),Ze(de.prototype,"moveNodes",[l.k],Object.getOwnPropertyDescriptor(de.prototype,"moveNodes"),de.prototype),Ze(de.prototype,"setDefaultEdgeType",[l.k],Object.getOwnPropertyDescriptor(de.prototype,"setDefaultEdgeType"),de.prototype),Ze(de.prototype,"changeNodeType",[l.k],Object.getOwnPropertyDescriptor(de.prototype,"changeNodeType"),de.prototype),Ze(de.prototype,"changeEdgeType",[l.k],Object.getOwnPropertyDescriptor(de.prototype,"changeEdgeType"),de.prototype),Ze(de.prototype,"getNodeIncomingEdge",[l.k],Object.getOwnPropertyDescriptor(de.prototype,"getNodeIncomingEdge"),de.prototype),Ze(de.prototype,"getNodeOutgoingEdge",[l.k],Object.getOwnPropertyDescriptor(de.prototype,"getNodeOutgoingEdge"),de.prototype),Ze(de.prototype,"getNodeIncomingNode",[l.k],Object.getOwnPropertyDescriptor(de.prototype,"getNodeIncomingNode"),de.prototype),Ze(de.prototype,"getNodeOutgoingNode",[l.k],Object.getOwnPropertyDescriptor(de.prototype,"getNodeOutgoingNode"),de.prototype),Ze(de.prototype,"setTheme",[l.k],Object.getOwnPropertyDescriptor(de.prototype,"setTheme"),de.prototype),Ze(de.prototype,"resize",[l.k],Object.getOwnPropertyDescriptor(de.prototype,"resize"),de.prototype),Ze(de.prototype,"clearData",[l.k],Object.getOwnPropertyDescriptor(de.prototype,"clearData"),de.prototype),Ze(de.prototype,"translateCenter",[l.k],Object.getOwnPropertyDescriptor(de.prototype,"translateCenter"),de.prototype),Ze(de.prototype,"fitView",[l.k],Object.getOwnPropertyDescriptor(de.prototype,"fitView"),de.prototype),Ze(de.prototype,"openEdgeAnimation",[l.k],Object.getOwnPropertyDescriptor(de.prototype,"openEdgeAnimation"),de.prototype),Ze(de.prototype,"closeEdgeAnimation",[l.k],Object.getOwnPropertyDescriptor(de.prototype,"closeEdgeAnimation"),de.prototype),de),zM=av;function Wa(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Wa=function(t){return typeof t}:Wa=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wa(e)}var sv;function Mf(){return Mf=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},Mf.apply(this,arguments)}function FM(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function lv(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function GM(e,r,t){return r&&lv(e.prototype,r),t&&lv(e,t),e}function HM(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Tf(e,r)}function Tf(e,r){return Tf=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},Tf(e,r)}function $M(e){var r=UM();return function(){var n=Ka(e),i;if(r){var a=Ka(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return kM(this,i)}}function kM(e,r){if(r&&(Wa(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Jr(e)}function Jr(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function UM(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Ka(e){return Ka=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Ka(e)}function fn(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var XM=$r(sv=function(e){HM(t,e);var r=$M(t);function t(n){var i;FM(this,t),i=r.call(this),fn(Jr(i),"stepDrag",void 0),fn(Jr(i),"stepScrollX",0),fn(Jr(i),"stepScrollY",0),fn(Jr(i),"onDragging",function(m){var x=m.deltaX,w=m.deltaY;i.setState({isDragging:!0});var j=i.props.graphModel,B=j.transformModel,G=j.editConfigModel;G.stopMoveGraph||B.translate(x,w)}),fn(Jr(i),"onDragEnd",function(){i.setState({isDragging:!1})}),fn(Jr(i),"zoomHandler",function(m){var x=i.props,w=x.graphModel,j=w.editConfigModel,B=w.transformModel,G=w.gridSize,K=x.graphModel,oe=m.deltaX,ne=m.deltaY;if(!j.stopScrollGraph&&m.ctrlKey!==!0){if(m.preventDefault(),i.stepScrollX+=oe,i.stepScrollY+=ne,Math.abs(i.stepScrollX)>=G){var ae=i.stepScrollX%G,we=i.stepScrollX-ae;B.translate(-we*B.SCALE_X,0),i.stepScrollX=ae}if(Math.abs(i.stepScrollY)>=G){var Ce=i.stepScrollY%G,ye=i.stepScrollY-Ce;B.translate(0,-ye*B.SCALE_Y),i.stepScrollY=Ce}return}if(!j.stopZoomGraph){m.preventDefault();var Le=K.getPointByClient({x:m.clientX,y:m.clientY}),Ne=Le.canvasOverlayPosition,Ue=Ne.x,De=Ne.y;B.zoom(m.deltaY<0,[Ue,De])}}),fn(Jr(i),"clickHandler",function(m){var x=m.target;if(x.getAttribute("name")==="canvas-overlay"){var w=i.props.graphModel,j=w.selectElements;j.size>0&&w.clearSelectElements(),w.eventCenter.emit(nt.BLANK_CLICK,{e:m})}}),fn(Jr(i),"handleContextMenu",function(m){var x=m.target;if(x.getAttribute("name")==="canvas-overlay"){m.preventDefault();var w=i.props.graphModel,j=w.getPointByClient({x:m.clientX,y:m.clientY});w.eventCenter.emit(nt.BLANK_CONTEXTMENU,{e:m,position:j})}}),fn(Jr(i),"mouseDownHandler",function(m){var x=i.props.graphModel,w=x.eventCenter,j=x.editConfigModel,B=x.transformModel.SCALE_X,G=x.gridSize,K=m.target,oe=!j.adjustEdge&&!j.adjustNodePosition;(K.getAttribute("name")==="canvas-overlay"||oe)&&(j.stopMoveGraph?w.emit(nt.BLANK_MOUSEDOWN,{e:m}):(i.stepDrag.setStep(G*B),i.stepDrag.handleMouseDown(m)),i.clickHandler(m))});var a=n.graphModel,c=a.gridSize,h=a.eventCenter;return i.stepDrag=new un({onDragging:i.onDragging,onDragEnd:i.onDragEnd,step:c,eventType:"BLANK",isStopPropagation:!1,eventCenter:h,model:null}),i.state={isDragging:!1},i}return GM(t,[{key:"render",value:function(){var i=this.props.graphModel.transformModel,a=i.getTransformStyle(),c=a.transform,h=this.props,m=h.children,x=h.dnd,w=this.state.isDragging;return Object(ie.g)("svg",Mf({xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%",name:"canvas-overlay",onWheel:this.zoomHandler,onMouseDown:this.mouseDownHandler,onContextMenu:this.handleContextMenu,className:w?"lf-canvas-overlay lf-dragging":"lf-canvas-overlay lf-drag-able"},x.eventMap()),Object(ie.g)("g",{transform:c},m))}}]),t}(ie.a))||sv,YM=XM;function Va(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Va=function(t){return typeof t}:Va=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Va(e)}var uv;function WM(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function fv(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function KM(e,r,t){return r&&fv(e.prototype,r),t&&fv(e,t),e}function VM(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&wf(e,r)}function wf(e,r){return wf=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},wf(e,r)}function ZM(e){var r=qM();return function(){var n=Za(e),i;if(r){var a=Za(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return JM(this,i)}}function JM(e,r){if(r&&(Va(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return QM(e)}function QM(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function qM(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Za(e){return Za=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Za(e)}var eT=$r(uv=function(e){VM(t,e);var r=ZM(t);function t(){return WM(this,t),r.apply(this,arguments)}return KM(t,[{key:"componentDidMount",value:function(){this.triggerToolRender()}},{key:"componentDidUpdate",value:function(){this.triggerToolRender()}},{key:"getTools",value:function(){var i=this.props,a=i.tool,c=i.graphModel,h=a.getTools(),m=h.map(function(x){return Object(ie.g)(x,{graphModel:c,logicFlow:a.instance})});return a.components=m,m}},{key:"triggerToolRender",value:function(){var i=this.props,a=i.tool,c=i.graphModel,h=document.querySelector("#ToolOverlay_".concat(c.flowId)),m=a.getInstance();m.components.forEach(function(x){return x(m,h)}),m.components=[]}},{key:"render",value:function(){var i=this.props.graphModel;return Object(ie.g)("div",{className:"lf-tool-overlay",id:"ToolOverlay_".concat(i.flowId)},this.getTools())}}]),t}(ie.a))||uv;function Ja(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ja=function(t){return typeof t}:Ja=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ja(e)}function tT(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function cv(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function rT(e,r,t){return r&&cv(e.prototype,r),t&&cv(e,t),e}function nT(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Af(e,r)}function Af(e,r){return Af=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},Af(e,r)}function oT(e){var r=sT();return function(){var n=Qa(e),i;if(r){var a=Qa(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return iT(this,i)}}function iT(e,r){if(r&&(Ja(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return aT(e)}function aT(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function sT(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Qa(e){return Qa=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Qa(e)}var lT=function(e){nT(t,e);var r=oT(t);function t(){return tT(this,t),r.apply(this,arguments)}return rT(t,[{key:"render",value:function(){var i=this.props.background;return Object(ie.g)("div",{className:"lf-background"},Object(ie.g)("div",{style:i,className:"lf-background-area"}))}}]),t}(ie.a);function qa(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?qa=function(t){return typeof t}:qa=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qa(e)}var dv;function uT(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function pv(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function fT(e,r,t){return r&&pv(e.prototype,r),t&&pv(e,t),e}function cT(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Nf(e,r)}function Nf(e,r){return Nf=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},Nf(e,r)}function dT(e){var r=hT();return function(){var n=es(e),i;if(r){var a=es(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return pT(this,i)}}function pT(e,r){if(r&&(qa(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return hv(e)}function hv(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function hT(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function es(e){return es=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},es(e)}function vT(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var vv=$r(dv=function(e){cT(t,e);var r=dT(t);function t(){var n;uT(this,t);for(var i=arguments.length,a=new Array(i),c=0;c<i;c++)a[c]=arguments[c];return n=r.call.apply(r,[this].concat(a)),vT(hv(n),"id",In()),n}return fT(t,[{key:"renderDot",value:function(){var i=this.props,a=i.config,c=a.color,h=a.thickness,m=h===void 0?2:h,x=i.size,w=i.visible,j=Math.min(Math.max(2,m),x/2),B=1;return w||(B=0),Object(ie.g)("rect",{width:j,height:j,rx:j/2,ry:j/2,fill:c,opacity:B})}},{key:"renderMesh",value:function(){var i=this.props,a=i.config,c=a.color,h=a.thickness,m=h===void 0?1:h,x=i.size,w=i.visible,j=Math.min(Math.max(1,m),x/2),B="M ".concat(x," 0 H0 M0 0 V0 ").concat(x),G=1;return w||(G=0),Object(ie.g)("path",{d:B,stroke:c,strokeWidth:j,opacity:G})}},{key:"render",value:function(){var i=this.props,a=i.type,c=i.size,h=i.graphModel.transformModel,m=h.SCALE_X,x=h.SKEW_Y,w=h.SKEW_X,j=h.SCALE_Y,B=h.TRANSLATE_X,G=h.TRANSLATE_Y,K=[m,x,w,j,B,G].join(","),oe="matrix(".concat(K,")");return Object(ie.g)("div",{className:"lf-grid"},Object(ie.g)("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"100%",height:"100%"},Object(ie.g)("defs",null,Object(ie.g)("pattern",{id:this.id,patternUnits:"userSpaceOnUse",patternTransform:oe,x:"0",y:"0",width:c,height:c},a==="dot"&&this.renderDot(),a==="mesh"&&this.renderMesh())),Object(ie.g)("rect",{width:"100%",height:"100%",fill:"url(#".concat(this.id,")")})))}}]),t}(ie.a))||dv;vv.defaultProps={size:20,visible:!0,type:"dot",config:{color:"#ababab",thickness:1}},o(52);function ts(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ts=function(t){return typeof t}:ts=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ts(e)}function yT(e,r){return OT(e)||bT(e,r)||mT(e,r)||gT()}function gT(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mT(e,r){if(e){if(typeof e=="string")return yv(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return yv(e,r)}}function yv(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function bT(e,r){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],i=!0,a=!1,c,h;try{for(t=t.call(e);!(i=(c=t.next()).done)&&(n.push(c.value),!(r&&n.length===r));i=!0);}catch(m){a=!0,h=m}finally{try{!i&&t.return!=null&&t.return()}finally{if(a)throw h}}return n}}function OT(e){if(Array.isArray(e))return e}function ET(e){var r={x1:10,y1:10,x2:20,y2:20,stroke:"black"};return Object.entries(e).forEach(function(t){var n=yT(t,2),i=n[0],a=n[1];if(i==="style")r[i]=a;else{var c=ts(a);c!=="object"&&(r[i]=a)}}),Object(ie.g)("line",r)}var wo=ET;function rs(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?rs=function(t){return typeof t}:rs=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rs(e)}var gv;function mv(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),t.push.apply(t,n)}return t}function ns(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?mv(Object(t),!0).forEach(function(n){xT(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):mv(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function xT(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function ST(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function bv(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function PT(e,r,t){return r&&bv(e.prototype,r),t&&bv(e,t),e}function MT(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Df(e,r)}function Df(e,r){return Df=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},Df(e,r)}function TT(e){var r=NT();return function(){var n=os(e),i;if(r){var a=os(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return wT(this,i)}}function wT(e,r){if(r&&(rs(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return AT(e)}function AT(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function NT(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function os(e){return os=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},os(e)}var DT=$r(gv=function(e){MT(t,e);var r=TT(t);function t(){return ST(this,t),r.apply(this,arguments)}return PT(t,[{key:"render",value:function(){var i=this.props.snaplineModel,a=i.position,c=i.isShowHorizontal,h=i.isShowVertical,m=i.getStyle(),x=a.x,w=x===void 0?0:x,j=a.y,B=j===void 0?0:j,G=ns(ns({x1:-1e5,y1:B,x2:1e5,y2:B},m),{},{stroke:c?m.stroke:"none"}),K=ns(ns({x1:w,y1:-1e5,x2:w,y2:1e5},m),{},{stroke:h?m.stroke:"none"});return Object(ie.g)("g",{className:"lf-snapline"},Object(ie.g)(wo,G),Object(ie.g)(wo,K))}}]),t}(ie.a))||gv;function is(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?is=function(t){return typeof t}:is=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},is(e)}function jT(e,r){return LT(e)||RT(e,r)||IT(e,r)||CT()}function CT(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function IT(e,r){if(e){if(typeof e=="string")return Ov(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Ov(e,r)}}function Ov(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function RT(e,r){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],i=!0,a=!1,c,h;try{for(t=t.call(e);!(i=(c=t.next()).done)&&(n.push(c.value),!(r&&n.length===r));i=!0);}catch(m){a=!0,h=m}finally{try{!i&&t.return!=null&&t.return()}finally{if(a)throw h}}return n}}function LT(e){if(Array.isArray(e))return e}function Bn(e){var r=e.x,t=e.y,n=e.width,i=e.height,a=e.className,c=e.radius,h=r-n/2,m=t-i/2,x={};return Object.entries(e).forEach(function(w){var j=jT(w,2),B=j[0],G=j[1],K=is(G);K!=="object"&&(x[B]=G)}),a?x.className="lf-basic-shape ".concat(a):x.className="lf-basic-shape",c&&(x.rx=c,x.ry=c),x.x=h,x.y=m,Object(ie.g)("rect",x)}Bn.defaultProps={className:"",radius:""};function as(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?as=function(t){return typeof t}:as=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},as(e)}var Ev;function Ao(){return Ao=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},Ao.apply(this,arguments)}function xv(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),t.push.apply(t,n)}return t}function Sv(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?xv(Object(t),!0).forEach(function(n){BT(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):xv(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function BT(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function _T(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Pv(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function zT(e,r,t){return r&&Pv(e.prototype,r),t&&Pv(e,t),e}function FT(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&jf(e,r)}function jf(e,r){return jf=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},jf(e,r)}function GT(e){var r=kT();return function(){var n=ss(e),i;if(r){var a=ss(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return HT(this,i)}}function HT(e,r){if(r&&(as(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $T(e)}function $T(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function kT(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function ss(e){return ss=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},ss(e)}var UT=$r(Ev=function(e){FT(t,e);var r=GT(t);function t(){return _T(this,t),r.apply(this,arguments)}return zT(t,[{key:"getNodesOutline",value:function(){var i=this.props.graphModel,a=i.nodes,c=i.editConfigModel,h=c.hoverOutline,m=c.nodeSelectedOutline,x=[];return a.forEach(function(w){if(w.isHovered||w.isSelected){var j=w.isHovered,B=w.isSelected,G=w.x,K=w.y,oe=w.width,ne=w.height;if(m&&B||h&&j){var ae=w.getOutlineStyle(),we={};if(Object.keys(ae).forEach(function(ye){ye!=="hover"&&(we[ye]=ae[ye])}),j){var Ce=ae.hover;we=Sv(Sv({},we),Ce)}x.push(Object(ie.g)(Bn,Ao({className:"lf-outline-node",x:G,y:K,width:oe+10,height:ne+10},we)))}}}),x}},{key:"getEdgeOutline",value:function(){for(var i=this.props.graphModel,a=i.edges,c=i.editConfigModel,h=c.edgeSelectedOutline,m=c.hoverOutline,x=[],w=0;w<a.length;w++){var j=a[w];(h&&j.isSelected||m&&j.isHovered)&&(j.modelType===pt.LINE_EDGE?x.push(this.getLineOutline(j)):j.modelType===pt.POLYLINE_EDGE?x.push(this.getPolylineOutline(j)):j.modelType===pt.BEZIER_EDGE&&x.push(this.getBezierOutline(j)))}return x}},{key:"getLineOutline",value:function(i){var a=i.startPoint,c=i.endPoint,h=(a.x+c.x)/2,m=(a.y+c.y)/2,x=Math.abs(a.x-c.x)+10,w=Math.abs(a.y-c.y)+10,j=i.getOutlineStyle();return Object(ie.g)(Bn,Ao({className:"lf-outline-edge",x:h,y:m,width:x,height:w},j))}},{key:"getPolylineOutline",value:function(i){var a=i.points,c=Po(a),h=fi(c,8),m=h.x,x=h.y,w=h.width,j=h.height,B=i.getOutlineStyle();return Object(ie.g)(Bn,Ao({className:"lf-outline",x:m,y:x,width:w,height:j},B))}},{key:"getBezierOutline",value:function(i){var a=i.path,c=ka(a),h=fi(c,8),m=h.x,x=h.y,w=h.width,j=h.height,B=i.getOutlineStyle();return Object(ie.g)(Bn,Ao({className:"lf-outline",x:m,y:x,width:w,height:j},B))}},{key:"render",value:function(){return Object(ie.g)("g",{className:"lf-outline"},this.getNodesOutline(),this.getEdgeOutline())}}]),t}(ie.a))||Ev;function ls(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ls=function(t){return typeof t}:ls=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ls(e)}function XT(e,r){return VT(e)||KT(e,r)||WT(e,r)||YT()}function YT(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function WT(e,r){if(e){if(typeof e=="string")return Mv(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Mv(e,r)}}function Mv(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function KT(e,r){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],i=!0,a=!1,c,h;try{for(t=t.call(e);!(i=(c=t.next()).done)&&(n.push(c.value),!(r&&n.length===r));i=!0);}catch(m){a=!0,h=m}finally{try{!i&&t.return!=null&&t.return()}finally{if(a)throw h}}return n}}function VT(e){if(Array.isArray(e))return e}function hi(e){var r=e.x,t=r===void 0?0:r,n=e.y,i=n===void 0?0:n,a=e.r,c=a===void 0?4:a,h=e.className,m={cx:t,cy:i,r:c,fill:"transparent",fillOpacity:1,strokeWidth:"1",stroke:"#000",strokeOpacity:1};return Object.entries(e).forEach(function(x){var w=XT(x,2),j=w[0],B=w[1],G=ls(B);G!=="object"&&(m[j]=B)}),h?m.className="lf-basic-shape ".concat(h):m.className="lf-basic-shape",Object(ie.g)("circle",m)}function us(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?us=function(t){return typeof t}:us=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},us(e)}var Tv;function ZT(e,r){return ew(e)||qT(e,r)||QT(e,r)||JT()}function JT(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function QT(e,r){if(e){if(typeof e=="string")return wv(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return wv(e,r)}}function wv(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function qT(e,r){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],i=!0,a=!1,c,h;try{for(t=t.call(e);!(i=(c=t.next()).done)&&(n.push(c.value),!(r&&n.length===r));i=!0);}catch(m){a=!0,h=m}finally{try{!i&&t.return!=null&&t.return()}finally{if(a)throw h}}return n}}function ew(e){if(Array.isArray(e))return e}function vi(){return vi=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},vi.apply(this,arguments)}function Av(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Nv(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Dv(e,r,t){return r&&Nv(e.prototype,r),t&&Nv(e,t),e}function jv(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Cf(e,r)}function Cf(e,r){return Cf=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},Cf(e,r)}function Cv(e){var r=rw();return function(){var n=cs(e),i;if(r){var a=cs(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return tw(this,i)}}function tw(e,r){if(r&&(us(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fs(e)}function fs(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function rw(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function cs(e){return cs=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},cs(e)}function If(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var Iv=function(e){jv(t,e);var r=Cv(t);function t(){var n;return Av(this,t),n=r.call(this),If(fs(n),"dragHandler",void 0),If(fs(n),"onDragging",function(i){var a=i.event,c=n.props,h=c.graphModel,m=c.bezierModel,x=c.type,w=h.getPointByClient({x:a.clientX,y:a.clientY}),j=w.canvasOverlayPosition,B=j.x,G=j.y;m.updateAdjustAnchor({x:B,y:G},x)}),If(fs(n),"onDragEnd",function(){var i=n.props.bezierModel;i.isDragging=!1}),n.dragHandler=new un({onDragging:n.onDragging,onDragEnd:n.onDragEnd}),n}return Dv(t,[{key:"render",value:function(){var i=this,a=this.props.position,c=a.x,h=a.y,m=this.props.bezierModel,x=m.getEdgeStyle(),w=x.adjustAnchor;return Object(ie.g)(hi,vi({className:"lf-bezier-adjust-anchor",x:c,y:h},w,{onMouseDown:function(B){i.dragHandler.handleMouseDown(B)}}))}}]),t}(ie.a),nw=$r(Tv=function(e){jv(t,e);var r=Cv(t);function t(){return Av(this,t),r.apply(this,arguments)}return Dv(t,[{key:"getBezierAdjust",value:function(i,a){var c=i.path,h=i.id,m=ka(c),x=ZT(m,4),w=x[0],j=x[1],B=x[2],G=x[3],K=i.getEdgeStyle(),oe=K.adjustLine,ne=[];return ne.push(Object(ie.g)(wo,vi({x1:w.x,y1:w.y,x2:j.x,y2:j.y},oe))),ne.push(Object(ie.g)(Iv,{position:j,bezierModel:i,graphModel:a,key:"".concat(h,"_ePre"),type:"sNext"})),ne.push(Object(ie.g)(wo,vi({x1:G.x,y1:G.y,x2:B.x,y2:B.y},oe))),ne.push(Object(ie.g)(Iv,{position:B,bezierModel:i,graphModel:a,key:"".concat(h,"_sNext"),type:"ePre"})),ne}},{key:"selectedBezierEdge",value:function(){for(var i=this.props.graphModel,a=i.edges,c=[],h=0;h<a.length;h++){var m=a[h];m.isSelected&&m.modelType===pt.BEZIER_EDGE&&m.draggable&&c.push(this.getBezierAdjust(m,i))}return c}},{key:"render",value:function(){return Object(ie.g)("g",{className:"lf-bezier-adjust"},this.selectedBezierEdge())}}]),t}(ie.a))||Tv;function ds(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ds=function(t){return typeof t}:ds=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ds(e)}var Rv;function ow(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Lv(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function iw(e,r,t){return r&&Lv(e.prototype,r),t&&Lv(e,t),e}function aw(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Rf(e,r)}function Rf(e,r){return Rf=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},Rf(e,r)}function sw(e){var r=fw();return function(){var n=ps(e),i;if(r){var a=ps(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return lw(this,i)}}function lw(e,r){if(r&&(ds(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return uw(e)}function uw(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function fw(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function ps(e){return ps=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},ps(e)}var cw=$r(Rv=function(e){aw(t,e);var r=sw(t);function t(){return ow(this,t),r.apply(this,arguments)}return iw(t,[{key:"render",value:function(){var i=this.props.graphModel.transformModel,a=i.getTransformStyle(),c=a.transform,h=this.props.children;return Object(ie.g)("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"100%",height:"100%",className:"modification-overlay"},Object(ie.g)("g",{transform:c},h))}}]),t}(ie.a))||Rv;function hs(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?hs=function(t){return typeof t}:hs=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hs(e)}var Bv;function Lf(){return Lf=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},Lf.apply(this,arguments)}function dw(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function _v(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function pw(e,r,t){return r&&_v(e.prototype,r),t&&_v(e,t),e}function hw(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Bf(e,r)}function Bf(e,r){return Bf=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},Bf(e,r)}function vw(e){var r=mw();return function(){var n=vs(e),i;if(r){var a=vs(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return yw(this,i)}}function yw(e,r){if(r&&(hs(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gw(e)}function gw(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function mw(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function vs(e){return vs=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},vs(e)}var bw=$r(Bv=function(e){hw(t,e);var r=vw(t);function t(){return dw(this,t),r.apply(this,arguments)}return pw(t,[{key:"getComponent",value:function(i,a){var c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"canvas-overlay",h=this.props.getView,m=h(i.type);return Object(ie.g)(m,{key:i.id,model:i,graphModel:a,overlay:c})}},{key:"render",value:function(){var i=this,a=this.props,c=a.graphModel,h=a.tool,m=a.options,x=a.dnd,w=a.snaplineModel,j={};m.width&&(j.width="".concat(c.width,"px")),m.height&&(j.height="".concat(c.height,"px"));var B=m.grid,G=c.fakerNode,K=c.editConfigModel,oe=K.adjustEdge;return Object(ie.g)("div",{className:"lf-graph","flow-id":c.flowId,style:j},Object(ie.g)(YM,{graphModel:c,dnd:x},Object(ie.g)("g",{className:"lf-base"},Sa(c.sortElements,function(ne){return i.getComponent(ne,c)})),G?this.getComponent(G,c):""),Object(ie.g)(cw,{graphModel:c},Object(ie.g)(UT,{graphModel:c}),oe?Object(ie.g)(nw,{graphModel:c}):"",m.snapline!==!1?Object(ie.g)(DT,{snaplineModel:w}):""),Object(ie.g)(eT,{graphModel:c,tool:h}),m.background&&Object(ie.g)(lT,{background:m.background}),m.grid&&Object(ie.g)(vv,Lf({},B,{graphModel:c})))}}]),t}(ie.a))||Bv,Ow=bw;function zv(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),t.push.apply(t,n)}return t}function ys(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?zv(Object(t),!0).forEach(function(n){cn(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):zv(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function Ew(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Fv(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function xw(e,r,t){return r&&Fv(e.prototype,r),t&&Fv(e,t),e}function cn(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var Sw=function(){function e(r){var t=this;Ew(this,e),cn(this,"nodeConfig",void 0),cn(this,"lf",void 0),cn(this,"fakerNode",void 0),cn(this,"stopDrag",function(){t.nodeConfig=null,window.document.removeEventListener("mouseup",t.stopDrag)}),cn(this,"dragEnter",function(i){!t.nodeConfig||t.fakerNode||(t.fakerNode=t.lf.createFakerNode(ys(ys({},t.nodeConfig),t.clientToLocalPoint({x:i.clientX,y:i.clientY}))))}),cn(this,"onDragOver",function(i){if(i.preventDefault(),t.fakerNode){var a=t.clientToLocalPoint({x:i.clientX,y:i.clientY}),c=a.x,h=a.y;t.fakerNode.moveTo(c,h);var m=t.fakerNode.getData();t.lf.setNodeSnapLine(m),t.lf.graphModel.eventCenter.emit(nt.NODE_DND_DRAG,{data:m})}return!1}),cn(this,"onDragLeave",function(){t.fakerNode&&(t.lf.removeNodeSnapLine(),t.lf.graphModel.removeFakerNode(),t.fakerNode=null)}),cn(this,"onDrop",function(i){if(!(!t.lf.graphModel||!i||!t.nodeConfig)){var a=t.lf.addNode(ys(ys({},t.nodeConfig),t.clientToLocalPoint({x:i.clientX,y:i.clientY})),nt.NODE_DND_ADD);i.preventDefault(),i.stopPropagation(),t.nodeConfig=null,t.lf.removeNodeSnapLine(),t.lf.graphModel.removeFakerNode(),t.fakerNode=null,a.getData()}});var n=r.lf;this.lf=n}return xw(e,[{key:"clientToLocalPoint",value:function(t){var n=t.x,i=t.y,a=Ld(this.lf.options,["grid","size"]),c=this.lf.graphModel.getPointByClient({x:n,y:i}),h=c.canvasOverlayPosition,m=h.x,x=h.y;return{x:Cn(m,a),y:Cn(x,a)}}},{key:"startDrag",value:function(t){this.nodeConfig=t,window.document.addEventListener("mouseup",this.stopDrag)}},{key:"eventMap",value:function(){return{onMouseEnter:this.dragEnter,onMouseOver:this.dragEnter,onMouseMove:this.onDragOver,onMouseLeave:this.onDragLeave,onMouseUp:this.onDrop}}}]),e}();function Gv(e){var r=e.container,t=e.grid,n=e.width,i=e.height;if(!r)throw new Error(" container ");if(typeof n=="string"||typeof i=="string")throw new Error("widthheight");return t&&(e.grid=ar({size:20,type:"dot",visible:!0,config:{color:"#ababab",thickness:1}},t)),ar({},Hv,e)}var Hv={background:!1,grid:!1,textEdit:!0,disabledTools:[]};function gs(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?gs=function(t){return typeof t}:gs=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gs(e)}var gt,$v;function _f(e,r){return ww(e)||Tw(e,r)||Mw(e,r)||Pw()}function Pw(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Mw(e,r){if(e){if(typeof e=="string")return kv(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return kv(e,r)}}function kv(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function Tw(e,r){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],i=!0,a=!1,c,h;try{for(t=t.call(e);!(i=(c=t.next()).done)&&(n.push(c.value),!(r&&n.length===r));i=!0);}catch(m){a=!0,h=m}finally{try{!i&&t.return!=null&&t.return()}finally{if(a)throw h}}return n}}function ww(e){if(Array.isArray(e))return e}function Uv(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),t.push.apply(t,n)}return t}function ms(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?Uv(Object(t),!0).forEach(function(n){Yv(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Uv(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function Aw(e,r,t,n){t&&Object.defineProperty(e,r,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(n):void 0})}function Nw(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Xv(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Dw(e,r,t){return r&&Xv(e.prototype,r),t&&Xv(e,t),e}function No(){return typeof Reflect<"u"&&Reflect.get?No=Reflect.get:No=function(r,t,n){var i=jw(r,t);if(i){var a=Object.getOwnPropertyDescriptor(i,t);return a.get?a.get.call(arguments.length<3?r:n):a.value}},No.apply(this,arguments)}function jw(e,r){for(;!Object.prototype.hasOwnProperty.call(e,r)&&(e=_n(e),e!==null););return e}function Cw(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&zf(e,r)}function zf(e,r){return zf=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},zf(e,r)}function Iw(e){var r=Lw();return function(){var n=_n(e),i;if(r){var a=_n(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return Rw(this,i)}}function Rw(e,r){if(r&&(gs(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return bs(e)}function bs(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Lw(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function _n(e){return _n=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},_n(e)}function Yv(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function Fr(e,r,t,n,i){var a={};return Object.keys(n).forEach(function(c){a[c]=n[c]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=t.slice().reverse().reduce(function(c,h){return h(e,r,c)||c},a),i&&a.initializer!==void 0&&(a.value=a.initializer?a.initializer.call(i):void 0,a.initializer=void 0),a.initializer===void 0&&(Object.defineProperty(e,r,a),a=null),a}var Ff=(gt=function(e){Cw(t,e);var r=Iw(t);function t(){var n;Nw(this,t);for(var i=arguments.length,a=new Array(i),c=0;c<i;c++)a[c]=arguments[c];return n=r.call.apply(r,[this].concat(a)),Yv(bs(n),"modelType",pt.BEZIER_EDGE),Aw(bs(n),"path",$v,bs(n)),n}return Dw(t,[{key:"initEdgeData",value:function(i){this.offset=100,No(_n(t.prototype),"initEdgeData",this).call(this,i)}},{key:"getEdgeStyle",value:function(){var i=this.graphModel.theme.bezier,a=No(_n(t.prototype),"getEdgeStyle",this).call(this);return ms(ms({},a),Rt(i))}},{key:"getTextPosition",value:function(){if(this.pointsList&&this.pointsList.length>0){var i=0,a=0;return this.pointsList.forEach(function(c){var h=c.x,m=c.y;i+=h,a+=m}),{x:i/this.pointsList.length,y:a/this.pointsList.length}}return{x:(this.startPoint.x+this.endPoint.x)/2,y:(this.startPoint.y+this.endPoint.y)/2}}},{key:"getData",value:function(){var i=No(_n(t.prototype),"getData",this).call(this),a=this.pointsList.map(function(c){var h=c.x,m=c.y;return{x:h,y:m}});return ms(ms({},i),{},{pointsList:a})}},{key:"getControls",value:function(){var i=this.startPoint,a=this.endPoint,c=Fh({start:i,end:a,sourceNode:this.sourceNode,targetNode:this.targetNode,offset:this.offset});return c}},{key:"getPath",value:function(i){var a=_f(i,4),c=a[0],h=a[1],m=a[2],x=a[3];return"M ".concat(c.x," ").concat(c.y,`
    C `).concat(h.x," ").concat(h.y,`,
    `).concat(m.x," ").concat(m.y,`,
    `).concat(x.x," ").concat(x.y)}},{key:"initPoints",value:function(){this.pointsList.length>0?this.path=this.getPath(this.pointsList):this.updatePoints()}},{key:"updatePoints",value:function(){var i=this.getControls(),a=i.sNext,c=i.ePre;this.updatePath(a,c)}},{key:"updatePath",value:function(i,a){var c={x:this.startPoint.x,y:this.startPoint.y},h={x:this.endPoint.x,y:this.endPoint.y};if(!i||!a){var m=this.getControls();i=m.sNext,a=m.ePre}this.pointsList=[c,i,a,h],this.path=this.getPath(this.pointsList)}},{key:"updateStartPoint",value:function(i){this.startPoint=i,this.updatePoints()}},{key:"updateEndPoint",value:function(i){this.endPoint=i,this.updatePoints()}},{key:"moveStartPoint",value:function(i,a){this.startPoint.x+=i,this.startPoint.y+=a;var c=_f(this.pointsList,3),h=c[1],m=c[2];h.x+=i,h.y+=a,this.updatePath(h,m)}},{key:"moveEndPoint",value:function(i,a){this.endPoint.x+=i,this.endPoint.y+=a;var c=_f(this.pointsList,3),h=c[1],m=c[2];m.x+=i,m.y+=a,this.updatePath(h,m)}},{key:"updateAdjustAnchor",value:function(i,a){a==="sNext"?this.pointsList[1]=i:a==="ePre"&&(this.pointsList[2]=i),this.path=this.getPath(this.pointsList),this.setText(Object.assign({},this.text,this.textPosition))}},{key:"getAdjustStart",value:function(){return this.pointsList[0]||this.startPoint}},{key:"getAdjustEnd",value:function(){var i=this.pointsList;return i[i.length-1]||this.endPoint}},{key:"updateAfterAdjustStartAndEnd",value:function(i){var a=i.startPoint,c=i.endPoint,h=i.sourceNode,m=i.targetNode,x=Fh({start:a,end:c,sourceNode:h,targetNode:m,offset:this.offset}),w=x.sNext,j=x.ePre;this.pointsList=[a,w,j,c],this.initPoints()}}]),t}(hf),$v=Fr(gt.prototype,"path",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Fr(gt.prototype,"initPoints",[l.k],Object.getOwnPropertyDescriptor(gt.prototype,"initPoints"),gt.prototype),Fr(gt.prototype,"updatePoints",[l.k],Object.getOwnPropertyDescriptor(gt.prototype,"updatePoints"),gt.prototype),Fr(gt.prototype,"updateStartPoint",[l.k],Object.getOwnPropertyDescriptor(gt.prototype,"updateStartPoint"),gt.prototype),Fr(gt.prototype,"updateEndPoint",[l.k],Object.getOwnPropertyDescriptor(gt.prototype,"updateEndPoint"),gt.prototype),Fr(gt.prototype,"moveStartPoint",[l.k],Object.getOwnPropertyDescriptor(gt.prototype,"moveStartPoint"),gt.prototype),Fr(gt.prototype,"moveEndPoint",[l.k],Object.getOwnPropertyDescriptor(gt.prototype,"moveEndPoint"),gt.prototype),Fr(gt.prototype,"updateAdjustAnchor",[l.k],Object.getOwnPropertyDescriptor(gt.prototype,"updateAdjustAnchor"),gt.prototype),Fr(gt.prototype,"getAdjustStart",[l.k],Object.getOwnPropertyDescriptor(gt.prototype,"getAdjustStart"),gt.prototype),Fr(gt.prototype,"getAdjustEnd",[l.k],Object.getOwnPropertyDescriptor(gt.prototype,"getAdjustEnd"),gt.prototype),Fr(gt.prototype,"updateAfterAdjustStartAndEnd",[l.k],Object.getOwnPropertyDescriptor(gt.prototype,"updateAfterAdjustStartAndEnd"),gt.prototype),gt);function Bw(e){return e==null}var _w=Bw,Re,Wv,Kv,Vv,Zv,Jv,Qv,qv,ey,ty,ry,ny,oy,iy,ay,sy,ly,uy,fy,cy;function Os(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Os=function(t){return typeof t}:Os=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Os(e)}function zw(e,r){var t=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=Fw(e))||r&&e&&typeof e.length=="number"){t&&(e=t);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(x){throw x},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a=!0,c=!1,h;return{s:function(){t=t.call(e)},n:function(){var x=t.next();return a=x.done,x},e:function(x){c=!0,h=x},f:function(){try{!a&&t.return!=null&&t.return()}finally{if(c)throw h}}}}function Fw(e,r){if(e){if(typeof e=="string")return dy(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return dy(e,r)}}function dy(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function py(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),t.push.apply(t,n)}return t}function lr(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?py(Object(t),!0).forEach(function(n){pr(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):py(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function kt(e,r,t,n){t&&Object.defineProperty(e,r,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(n):void 0})}function Gw(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function hy(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Hw(e,r,t){return r&&hy(e.prototype,r),t&&hy(e,t),e}function pr(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function ut(e,r,t,n,i){var a={};return Object.keys(n).forEach(function(c){a[c]=n[c]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=t.slice().reverse().reduce(function(c,h){return h(e,r,c)||c},a),i&&a.initializer!==void 0&&(a.value=a.initializer?a.initializer.call(i):void 0,a.initializer=void 0),a.initializer===void 0&&(Object.defineProperty(e,r,a),a=null),a}var dn=(Re=function(){function e(r,t){Gw(this,e),pr(this,"id",""),kt(this,"type",Wv,this),kt(this,"x",Kv,this),kt(this,"y",Vv,this),kt(this,"text",Zv,this),kt(this,"properties",Jv,this),kt(this,"_width",Qv,this),kt(this,"_height",qv,this),kt(this,"anchorsOffset",ey,this),kt(this,"isSelected",ty,this),kt(this,"isHovered",ry,this),kt(this,"isShowAnchor",ny,this),kt(this,"isDragging",oy,this),kt(this,"isHitable",iy,this),kt(this,"draggable",ay,this),kt(this,"visible",sy,this),pr(this,"virtual",!1),pr(this,"graphModel",void 0),kt(this,"zIndex",ly,this),kt(this,"state",uy,this),kt(this,"autoToFront",fy,this),kt(this,"style",cy,this),pr(this,"BaseType",zt.NODE),pr(this,"modelType",pt.NODE),pr(this,"additionStateData",void 0),pr(this,"targetRules",[]),pr(this,"sourceRules",[]),pr(this,"moveRules",[]),pr(this,"hasSetTargetRules",!1),pr(this,"hasSetSourceRules",!1),this.graphModel=t,this.initNodeData(r),this.setAttributes()}return Hw(e,[{key:"width",get:function(){return this._width},set:function(t){this._width=t}},{key:"height",get:function(){return this._height},set:function(t){this._height=t}},{key:"incoming",get:function(){return{nodes:this.graphModel.getNodeIncomingNode(this.id),edges:this.graphModel.getNodeIncomingEdge(this.id)}}},{key:"outgoing",get:function(){return{nodes:this.graphModel.getNodeOutgoingNode(this.id),edges:this.graphModel.getNodeOutgoingEdge(this.id)}}},{key:"initNodeData",value:function(t){if(t.properties||(t.properties={}),!t.id){var n=this.graphModel.idGenerator,i=n&&n(t.type),a=this.createId();t.id=a||i||In()}this.formatText(t),ar(this,A0(t));var c=this.graphModel.overlapMode;c===Er.INCREASE&&(this.zIndex=t.zIndex||df())}},{key:"setAttributes",value:function(){}},{key:"createId",value:function(){return null}},{key:"formatText",value:function(t){t.text||(t.text={value:"",x:t.x,y:t.y,draggable:!1,editable:!0}),t.text&&typeof t.text=="string"?t.text={value:t.text,x:t.x,y:t.y,draggable:!1,editable:!0}:t.text&&t.text.editable===void 0&&(t.text.editable=!0)}},{key:"getData",value:function(){var t=this.text,n=t.x,i=t.y,a=t.value,c=this.properties;Object(l.x)(c)&&(c=Object(l.I)(c));var h={id:this.id,type:this.type,x:this.x,y:this.y,properties:c};return this.graphModel.overlapMode===Er.INCREASE&&(h.zIndex=this.zIndex),a&&(h.text={x:n,y:i,value:a}),h}},{key:"getHistoryData",value:function(){return this.getData()}},{key:"getProperties",value:function(){return Object(l.I)(this.properties)}},{key:"getNodeStyle",value:function(){return lr(lr({},this.graphModel.theme.baseNode),this.style)}},{key:"getTextStyle",value:function(){var t=this.graphModel.theme.nodeText;return Rt(t)}},{key:"getAnchorStyle",value:function(t){var n=this.graphModel.theme.anchor;return Rt(n)}},{key:"getAnchorLineStyle",value:function(t){var n=this.graphModel.theme.anchorLine;return Rt(n)}},{key:"getOutlineStyle",value:function(){var t=this.graphModel.theme.outline;return Rt(t)}},{key:"isAllowConnectedAsSource",value:function(t,n,i,a){var c=this.hasSetSourceRules?this.sourceRules:this.getConnectedSourceRules();this.hasSetSourceRules=!0;for(var h=!0,m,x=0;x<c.length;x++){var w=c[x];if(!w.validate.call(this,this,t,n,i,a)){h=!1,m=w.message;break}}return{isAllPass:h,msg:m}}},{key:"getConnectedSourceRules",value:function(){return this.sourceRules}},{key:"isAllowConnectedAsTarget",value:function(t,n,i,a){var c=this.hasSetTargetRules?this.targetRules:this.getConnectedTargetRules();this.hasSetTargetRules=!0;for(var h=!0,m,x=0;x<c.length;x++){var w=c[x];if(!w.validate.call(this,t,this,n,i,a)){h=!1,m=w.message;break}}return{isAllPass:h,msg:m}}},{key:"isAllowMoveNode",value:function(t,n){var i=!0,a=!0,c=this.moveRules.concat(this.graphModel.nodeMoveRules),h=zw(c),m;try{for(h.s();!(m=h.n()).done;){var x=m.value,w=x(this,t,n);if(!w)return!1;if(Os(w)==="object"){var j=w;if(j.x===!1&&j.y===!1)return!1;i=i&&j.x,a=a&&j.y}}}catch(B){h.e(B)}finally{h.f()}return{x:i,y:a}}},{key:"getConnectedTargetRules",value:function(){return this.targetRules}},{key:"getAnchorsByOffset",value:function(){var t=this.anchorsOffset,n=this.id,i=this.x,a=this.y;return t&&t.length>0?t.map(function(c,h){return c.length?(c=c,{id:"".concat(n,"_").concat(h),x:i+c[0],y:a+c[1]}):(c=c,lr(lr({},c),{},{x:i+c.x,y:a+c.y,id:c.id||"".concat(n,"_").concat(h)}))}):this.getDefaultAnchor()}},{key:"getDefaultAnchor",value:function(){return[]}},{key:"getTargetAnchor",value:function(t){return M0(t,this)}},{key:"getBounds",value:function(){return{x1:this.x-this.width/2,y1:this.y-this.height/2,x2:this.x+this.width/2,y2:this.y+this.height/2}}},{key:"anchors",get:function(){return this.getAnchorsByOffset()}},{key:"getAnchorInfo",value:function(t){if(!_w(t))for(var n=0;n<this.anchors.length;n++){var i=this.anchors[n];if(i.id===t)return i}}},{key:"addNodeMoveRules",value:function(t){this.moveRules.includes(t)||this.moveRules.push(t)}},{key:"move",value:function(t,n){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,a=!1,c=!1;if(i)a=!0,c=!0;else{var h=this.isAllowMoveNode(t,n);typeof h=="boolean"?(a=h,c=h):(a=h.x,c=h.y)}if(a){var m=this.x+t;this.x=m,this.text&&this.moveText(t,0)}if(c){var x=this.y+n;this.y=x,this.text&&this.moveText(0,n)}return a||c}},{key:"getMoveDistance",value:function(t,n){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,a=!1,c=!1,h=0,m=0;if(i)a=!0,c=!0;else{var x=this.isAllowMoveNode(t,n);typeof x=="boolean"?(a=x,c=x):(a=x.x,c=x.y)}if(a&&t){var w=this.x+t;this.x=w,this.text&&this.moveText(t,0),h=t}if(c&&n){var j=this.y+n;this.y=j,this.text&&this.moveText(0,n),m=n}return[h,m]}},{key:"moveTo",value:function(t,n){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,a=t-this.x,c=n-this.y;return!i&&!this.isAllowMoveNode(a,c)?!1:(this.text&&this.text&&this.moveText(a,c),this.x=t,this.y=n,!0)}},{key:"moveText",value:function(t,n){var i=this.text,a=i.x,c=i.y,h=i.value,m=i.draggable,x=i.editable;this.text={value:h,editable:x,draggable:m,x:a+t,y:c+n}}},{key:"updateText",value:function(t){this.text=lr(lr({},this.text),{},{value:t})}},{key:"setSelected",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.isSelected=t}},{key:"setHovered",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.isHovered=t,this.setIsShowAnchor(t)}},{key:"setIsShowAnchor",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.isShowAnchor=t}},{key:"setHitable",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.isHitable=t}},{key:"setElementState",value:function(t,n){this.state=t,this.additionStateData=n}},{key:"setProperty",value:function(t,n){this.properties=lr(lr({},this.properties),{},pr({},t,tr(n))),this.setAttributes()}},{key:"setProperties",value:function(t){this.properties=lr(lr({},this.properties),tr(t)),this.setAttributes()}},{key:"deleteProperty",value:function(t){delete this.properties[t],this.setAttributes()}},{key:"setStyle",value:function(t,n){this.style=lr(lr({},this.style),{},pr({},t,tr(n)))}},{key:"setStyles",value:function(t){this.style=lr(lr({},this.style),tr(t))}},{key:"updateStyles",value:function(t){this.style=lr({},tr(t))}},{key:"setZIndex",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;this.zIndex=t}},{key:"updateAttributes",value:function(t){ar(this,t)}}]),e}(),Wv=ut(Re.prototype,"type",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Kv=ut(Re.prototype,"x",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Vv=ut(Re.prototype,"y",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Zv=ut(Re.prototype,"text",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{value:"",x:0,y:0,draggable:!1,editable:!0}}}),Jv=ut(Re.prototype,"properties",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),Qv=ut(Re.prototype,"_width",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 100}}),qv=ut(Re.prototype,"_height",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 80}}),ey=ut(Re.prototype,"anchorsOffset",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ty=ut(Re.prototype,"isSelected",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ry=ut(Re.prototype,"isHovered",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ny=ut(Re.prototype,"isShowAnchor",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),oy=ut(Re.prototype,"isDragging",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),iy=ut(Re.prototype,"isHitable",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),ay=ut(Re.prototype,"draggable",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),sy=ut(Re.prototype,"visible",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),ly=ut(Re.prototype,"zIndex",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),uy=ut(Re.prototype,"state",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),fy=ut(Re.prototype,"autoToFront",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),cy=ut(Re.prototype,"style",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),ut(Re.prototype,"incoming",[l.m],Object.getOwnPropertyDescriptor(Re.prototype,"incoming"),Re.prototype),ut(Re.prototype,"outgoing",[l.m],Object.getOwnPropertyDescriptor(Re.prototype,"outgoing"),Re.prototype),ut(Re.prototype,"addNodeMoveRules",[l.k],Object.getOwnPropertyDescriptor(Re.prototype,"addNodeMoveRules"),Re.prototype),ut(Re.prototype,"move",[l.k],Object.getOwnPropertyDescriptor(Re.prototype,"move"),Re.prototype),ut(Re.prototype,"getMoveDistance",[l.k],Object.getOwnPropertyDescriptor(Re.prototype,"getMoveDistance"),Re.prototype),ut(Re.prototype,"moveTo",[l.k],Object.getOwnPropertyDescriptor(Re.prototype,"moveTo"),Re.prototype),ut(Re.prototype,"moveText",[l.k],Object.getOwnPropertyDescriptor(Re.prototype,"moveText"),Re.prototype),ut(Re.prototype,"updateText",[l.k],Object.getOwnPropertyDescriptor(Re.prototype,"updateText"),Re.prototype),ut(Re.prototype,"setSelected",[l.k],Object.getOwnPropertyDescriptor(Re.prototype,"setSelected"),Re.prototype),ut(Re.prototype,"setHovered",[l.k],Object.getOwnPropertyDescriptor(Re.prototype,"setHovered"),Re.prototype),ut(Re.prototype,"setIsShowAnchor",[l.k],Object.getOwnPropertyDescriptor(Re.prototype,"setIsShowAnchor"),Re.prototype),ut(Re.prototype,"setHitable",[l.k],Object.getOwnPropertyDescriptor(Re.prototype,"setHitable"),Re.prototype),ut(Re.prototype,"setElementState",[l.k],Object.getOwnPropertyDescriptor(Re.prototype,"setElementState"),Re.prototype),ut(Re.prototype,"setProperty",[l.k],Object.getOwnPropertyDescriptor(Re.prototype,"setProperty"),Re.prototype),ut(Re.prototype,"setProperties",[l.k],Object.getOwnPropertyDescriptor(Re.prototype,"setProperties"),Re.prototype),ut(Re.prototype,"deleteProperty",[l.k],Object.getOwnPropertyDescriptor(Re.prototype,"deleteProperty"),Re.prototype),ut(Re.prototype,"setStyle",[l.k],Object.getOwnPropertyDescriptor(Re.prototype,"setStyle"),Re.prototype),ut(Re.prototype,"setStyles",[l.k],Object.getOwnPropertyDescriptor(Re.prototype,"setStyles"),Re.prototype),ut(Re.prototype,"updateStyles",[l.k],Object.getOwnPropertyDescriptor(Re.prototype,"updateStyles"),Re.prototype),ut(Re.prototype,"setZIndex",[l.k],Object.getOwnPropertyDescriptor(Re.prototype,"setZIndex"),Re.prototype),ut(Re.prototype,"updateAttributes",[l.k],Object.getOwnPropertyDescriptor(Re.prototype,"updateAttributes"),Re.prototype),Re);function Es(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Es=function(t){return typeof t}:Es=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Es(e)}var pn,vy;function yy(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),t.push.apply(t,n)}return t}function gy(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?yy(Object(t),!0).forEach(function(n){by(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):yy(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function $w(e,r,t,n){t&&Object.defineProperty(e,r,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(n):void 0})}function kw(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function my(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Uw(e,r,t){return r&&my(e.prototype,r),t&&my(e,t),e}function xs(){return typeof Reflect<"u"&&Reflect.get?xs=Reflect.get:xs=function(r,t,n){var i=Xw(r,t);if(i){var a=Object.getOwnPropertyDescriptor(i,t);return a.get?a.get.call(arguments.length<3?r:n):a.value}},xs.apply(this,arguments)}function Xw(e,r){for(;!Object.prototype.hasOwnProperty.call(e,r)&&(e=Do(e),e!==null););return e}function Yw(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Gf(e,r)}function Gf(e,r){return Gf=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},Gf(e,r)}function Ww(e){var r=Vw();return function(){var n=Do(e),i;if(r){var a=Do(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return Kw(this,i)}}function Kw(e,r){if(r&&(Es(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ss(e)}function Ss(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Vw(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Do(e){return Do=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Do(e)}function by(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function Hf(e,r,t,n,i){var a={};return Object.keys(n).forEach(function(c){a[c]=n[c]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=t.slice().reverse().reduce(function(c,h){return h(e,r,c)||c},a),i&&a.initializer!==void 0&&(a.value=a.initializer?a.initializer.call(i):void 0,a.initializer=void 0),a.initializer===void 0&&(Object.defineProperty(e,r,a),a=null),a}var $f=(pn=function(e){Yw(t,e);var r=Ww(t);function t(){var n;kw(this,t);for(var i=arguments.length,a=new Array(i),c=0;c<i;c++)a[c]=arguments[c];return n=r.call.apply(r,[this].concat(a)),by(Ss(n),"modelType",pt.CIRCLE_NODE),$w(Ss(n),"r",vy,Ss(n)),n}return Uw(t,[{key:"width",get:function(){return this.r*2}},{key:"height",get:function(){return this.r*2}},{key:"getNodeStyle",value:function(){var i=xs(Do(t.prototype),"getNodeStyle",this).call(this),a=this.graphModel.theme.circle;return gy(gy({},i),Rt(a))}},{key:"getDefaultAnchor",value:function(){var i=this.x,a=this.y,c=this.r;return[{x:i,y:a-c,id:"".concat(this.id,"_0")},{x:i+c,y:a,id:"".concat(this.id,"_1")},{x:i,y:a+c,id:"".concat(this.id,"_2")},{x:i-c,y:a,id:"".concat(this.id,"_3")}]}}]),t}(dn),vy=Hf(pn.prototype,"r",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 50}}),Hf(pn.prototype,"width",[l.m],Object.getOwnPropertyDescriptor(pn.prototype,"width"),pn.prototype),Hf(pn.prototype,"height",[l.m],Object.getOwnPropertyDescriptor(pn.prototype,"height"),pn.prototype),pn);o(127);function Ps(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ps=function(t){return typeof t}:Ps=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ps(e)}var rr,Oy,Ey;function kf(e,r){return qw(e)||Qw(e,r)||Jw(e,r)||Zw()}function Zw(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Jw(e,r){if(e){if(typeof e=="string")return xy(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return xy(e,r)}}function xy(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function Qw(e,r){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],i=!0,a=!1,c,h;try{for(t=t.call(e);!(i=(c=t.next()).done)&&(n.push(c.value),!(r&&n.length===r));i=!0);}catch(m){a=!0,h=m}finally{try{!i&&t.return!=null&&t.return()}finally{if(a)throw h}}return n}}function qw(e){if(Array.isArray(e))return e}function Sy(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),t.push.apply(t,n)}return t}function Py(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?Sy(Object(t),!0).forEach(function(n){wy(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Sy(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function My(e,r,t,n){t&&Object.defineProperty(e,r,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(n):void 0})}function eA(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Ty(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function tA(e,r,t){return r&&Ty(e.prototype,r),t&&Ty(e,t),e}function Ms(){return typeof Reflect<"u"&&Reflect.get?Ms=Reflect.get:Ms=function(r,t,n){var i=rA(r,t);if(i){var a=Object.getOwnPropertyDescriptor(i,t);return a.get?a.get.call(arguments.length<3?r:n):a.value}},Ms.apply(this,arguments)}function rA(e,r){for(;!Object.prototype.hasOwnProperty.call(e,r)&&(e=Co(e),e!==null););return e}function nA(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Uf(e,r)}function Uf(e,r){return Uf=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},Uf(e,r)}function oA(e){var r=aA();return function(){var n=Co(e),i;if(r){var a=Co(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return iA(this,i)}}function iA(e,r){if(r&&(Ps(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return jo(e)}function jo(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function aA(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Co(e){return Co=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Co(e)}function wy(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function Io(e,r,t,n,i){var a={};return Object.keys(n).forEach(function(c){a[c]=n[c]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=t.slice().reverse().reduce(function(c,h){return h(e,r,c)||c},a),i&&a.initializer!==void 0&&(a.value=a.initializer?a.initializer.call(i):void 0,a.initializer=void 0),a.initializer===void 0&&(Object.defineProperty(e,r,a),a=null),a}var Xf=(rr=function(e){nA(t,e);var r=oA(t);function t(){var n;eA(this,t);for(var i=arguments.length,a=new Array(i),c=0;c<i;c++)a[c]=arguments[c];return n=r.call.apply(r,[this].concat(a)),wy(jo(n),"modelType",pt.DIAMOND_NODE),My(jo(n),"rx",Oy,jo(n)),My(jo(n),"ry",Ey,jo(n)),n}return tA(t,[{key:"getNodeStyle",value:function(){var i=Ms(Co(t.prototype),"getNodeStyle",this).call(this),a=this.graphModel.theme.diamond;return Py(Py({},i),Rt(a))}},{key:"points",get:function(){var i=this.x,a=this.y,c=this.rx,h=this.ry;return[[i,a-h],[i+c,a],[i,a+h],[i-c,a]]}},{key:"pointsPosition",get:function(){var i=this.points.map(function(a){return{x:a[0],y:a[1]}});return i}},{key:"width",get:function(){var i=Number.MAX_SAFE_INTEGER,a=Number.MIN_SAFE_INTEGER;return this.points.forEach(function(c){var h=kf(c,1),m=h[0];m<i&&(i=m),m>a&&(a=m)}),a-i}},{key:"height",get:function(){var i=Number.MAX_SAFE_INTEGER,a=Number.MIN_SAFE_INTEGER;return this.points.forEach(function(c){var h=kf(c,2),m=h[1];m<i&&(i=m),m>a&&(a=m)}),a-i}},{key:"getDefaultAnchor",value:function(){var i=this;return this.points.map(function(a,c){var h=kf(a,2),m=h[0],x=h[1];return{x:m,y:x,id:"".concat(i.id,"_").concat(c)}})}}]),t}(dn),Oy=Io(rr.prototype,"rx",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 30}}),Ey=Io(rr.prototype,"ry",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 50}}),Io(rr.prototype,"points",[l.m],Object.getOwnPropertyDescriptor(rr.prototype,"points"),rr.prototype),Io(rr.prototype,"pointsPosition",[l.m],Object.getOwnPropertyDescriptor(rr.prototype,"pointsPosition"),rr.prototype),Io(rr.prototype,"width",[l.m],Object.getOwnPropertyDescriptor(rr.prototype,"width"),rr.prototype),Io(rr.prototype,"height",[l.m],Object.getOwnPropertyDescriptor(rr.prototype,"height"),rr.prototype),rr);function Ts(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ts=function(t){return typeof t}:Ts=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ts(e)}var Qr,Ay,Ny;function Dy(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),t.push.apply(t,n)}return t}function jy(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?Dy(Object(t),!0).forEach(function(n){Ry(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Dy(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function Cy(e,r,t,n){t&&Object.defineProperty(e,r,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(n):void 0})}function sA(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Iy(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function lA(e,r,t){return r&&Iy(e.prototype,r),t&&Iy(e,t),e}function ws(){return typeof Reflect<"u"&&Reflect.get?ws=Reflect.get:ws=function(r,t,n){var i=uA(r,t);if(i){var a=Object.getOwnPropertyDescriptor(i,t);return a.get?a.get.call(arguments.length<3?r:n):a.value}},ws.apply(this,arguments)}function uA(e,r){for(;!Object.prototype.hasOwnProperty.call(e,r)&&(e=Lo(e),e!==null););return e}function fA(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Yf(e,r)}function Yf(e,r){return Yf=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},Yf(e,r)}function cA(e){var r=pA();return function(){var n=Lo(e),i;if(r){var a=Lo(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return dA(this,i)}}function dA(e,r){if(r&&(Ts(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ro(e)}function Ro(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function pA(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Lo(e){return Lo=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Lo(e)}function Ry(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function As(e,r,t,n,i){var a={};return Object.keys(n).forEach(function(c){a[c]=n[c]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=t.slice().reverse().reduce(function(c,h){return h(e,r,c)||c},a),i&&a.initializer!==void 0&&(a.value=a.initializer?a.initializer.call(i):void 0,a.initializer=void 0),a.initializer===void 0&&(Object.defineProperty(e,r,a),a=null),a}var Wf=(Qr=function(e){fA(t,e);var r=cA(t);function t(){var n;sA(this,t);for(var i=arguments.length,a=new Array(i),c=0;c<i;c++)a[c]=arguments[c];return n=r.call.apply(r,[this].concat(a)),Ry(Ro(n),"modelType",pt.ELLIPSE_NODE),Cy(Ro(n),"rx",Ay,Ro(n)),Cy(Ro(n),"ry",Ny,Ro(n)),n}return lA(t,[{key:"getNodeStyle",value:function(){var i=ws(Lo(t.prototype),"getNodeStyle",this).call(this),a=this.graphModel.theme.ellipse;return jy(jy({},i),Rt(a))}},{key:"width",get:function(){return this.rx*2}},{key:"height",get:function(){return this.ry*2}},{key:"getDefaultAnchor",value:function(){var i=this.x,a=this.y,c=this.rx,h=this.ry;return[{x:i,y:a-h,id:"".concat(this.id,"_0")},{x:i+c,y:a,id:"".concat(this.id,"_1")},{x:i,y:a+h,id:"".concat(this.id,"_2")},{x:i-c,y:a,id:"".concat(this.id,"_3")}]}}]),t}(dn),Ay=As(Qr.prototype,"rx",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 30}}),Ny=As(Qr.prototype,"ry",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 45}}),As(Qr.prototype,"width",[l.m],Object.getOwnPropertyDescriptor(Qr.prototype,"width"),Qr.prototype),As(Qr.prototype,"height",[l.m],Object.getOwnPropertyDescriptor(Qr.prototype,"height"),Qr.prototype),Qr);function Ns(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ns=function(t){return typeof t}:Ns=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ns(e)}var Ir,Ly;function Kf(e,r){return gA(e)||yA(e,r)||vA(e,r)||hA()}function hA(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vA(e,r){if(e){if(typeof e=="string")return By(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return By(e,r)}}function By(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function yA(e,r){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],i=!0,a=!1,c,h;try{for(t=t.call(e);!(i=(c=t.next()).done)&&(n.push(c.value),!(r&&n.length===r));i=!0);}catch(m){a=!0,h=m}finally{try{!i&&t.return!=null&&t.return()}finally{if(a)throw h}}return n}}function gA(e){if(Array.isArray(e))return e}function _y(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),t.push.apply(t,n)}return t}function zy(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?_y(Object(t),!0).forEach(function(n){Gy(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):_y(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function mA(e,r,t,n){t&&Object.defineProperty(e,r,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(n):void 0})}function bA(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Fy(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function OA(e,r,t){return r&&Fy(e.prototype,r),t&&Fy(e,t),e}function Ds(){return typeof Reflect<"u"&&Reflect.get?Ds=Reflect.get:Ds=function(r,t,n){var i=EA(r,t);if(i){var a=Object.getOwnPropertyDescriptor(i,t);return a.get?a.get.call(arguments.length<3?r:n):a.value}},Ds.apply(this,arguments)}function EA(e,r){for(;!Object.prototype.hasOwnProperty.call(e,r)&&(e=Bo(e),e!==null););return e}function xA(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Vf(e,r)}function Vf(e,r){return Vf=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},Vf(e,r)}function SA(e){var r=MA();return function(){var n=Bo(e),i;if(r){var a=Bo(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return PA(this,i)}}function PA(e,r){if(r&&(Ns(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return js(e)}function js(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function MA(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Bo(e){return Bo=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Bo(e)}function Gy(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function Cs(e,r,t,n,i){var a={};return Object.keys(n).forEach(function(c){a[c]=n[c]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=t.slice().reverse().reduce(function(c,h){return h(e,r,c)||c},a),i&&a.initializer!==void 0&&(a.value=a.initializer?a.initializer.call(i):void 0,a.initializer=void 0),a.initializer===void 0&&(Object.defineProperty(e,r,a),a=null),a}var Zf=(Ir=function(e){xA(t,e);var r=SA(t);function t(){var n;bA(this,t);for(var i=arguments.length,a=new Array(i),c=0;c<i;c++)a[c]=arguments[c];return n=r.call.apply(r,[this].concat(a)),Gy(js(n),"modelType",pt.POLYGON_NODE),mA(js(n),"points",Ly,js(n)),n}return OA(t,[{key:"getNodeStyle",value:function(){var i=Ds(Bo(t.prototype),"getNodeStyle",this).call(this),a=this.graphModel.theme.polygon;return zy(zy({},i),Rt(a))}},{key:"pointsPosition",get:function(){var i=this.x,a=this.y,c=this.width,h=this.height,m=this.points.map(function(x){return{x:x[0]+i-c/2,y:x[1]+a-h/2}});return m}},{key:"width",get:function(){var i=Number.MAX_SAFE_INTEGER,a=Number.MIN_SAFE_INTEGER;return this.points.forEach(function(c){var h=Kf(c,1),m=h[0];m<i&&(i=m),m>a&&(a=m)}),a-i}},{key:"height",get:function(){var i=Number.MAX_SAFE_INTEGER,a=Number.MIN_SAFE_INTEGER;return this.points.forEach(function(c){var h=Kf(c,2),m=h[1];m<i&&(i=m),m>a&&(a=m)}),a-i}},{key:"getDefaultAnchor",value:function(){var i=this,a=this.x,c=this.y,h=this.width,m=this.height,x=this.points;return x.map(function(w,j){var B=Kf(w,2),G=B[0],K=B[1];return{x:a+G-h/2,y:c+K-m/2,id:"".concat(i.id,"_").concat(j)}})}}]),t}(dn),Ly=Cs(Ir.prototype,"points",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[[50,0],[100,50],[50,100],[0,50]]}}),Cs(Ir.prototype,"pointsPosition",[l.m],Object.getOwnPropertyDescriptor(Ir.prototype,"pointsPosition"),Ir.prototype),Cs(Ir.prototype,"width",[l.m],Object.getOwnPropertyDescriptor(Ir.prototype,"width"),Ir.prototype),Cs(Ir.prototype,"height",[l.m],Object.getOwnPropertyDescriptor(Ir.prototype,"height"),Ir.prototype),Ir);function Is(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Is=function(t){return typeof t}:Is=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Is(e)}var Jf,Hy;function $y(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),t.push.apply(t,n)}return t}function ky(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?$y(Object(t),!0).forEach(function(n){Xy(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):$y(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function TA(e,r,t,n){t&&Object.defineProperty(e,r,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(n):void 0})}function wA(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Uy(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function AA(e,r,t){return r&&Uy(e.prototype,r),t&&Uy(e,t),e}function Rs(){return typeof Reflect<"u"&&Reflect.get?Rs=Reflect.get:Rs=function(r,t,n){var i=NA(r,t);if(i){var a=Object.getOwnPropertyDescriptor(i,t);return a.get?a.get.call(arguments.length<3?r:n):a.value}},Rs.apply(this,arguments)}function NA(e,r){for(;!Object.prototype.hasOwnProperty.call(e,r)&&(e=_o(e),e!==null););return e}function DA(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Qf(e,r)}function Qf(e,r){return Qf=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},Qf(e,r)}function jA(e){var r=IA();return function(){var n=_o(e),i;if(r){var a=_o(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return CA(this,i)}}function CA(e,r){if(r&&(Is(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ls(e)}function Ls(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function IA(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function _o(e){return _o=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},_o(e)}function Xy(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function RA(e,r,t,n,i){var a={};return Object.keys(n).forEach(function(c){a[c]=n[c]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=t.slice().reverse().reduce(function(c,h){return h(e,r,c)||c},a),i&&a.initializer!==void 0&&(a.value=a.initializer?a.initializer.call(i):void 0,a.initializer=void 0),a.initializer===void 0&&(Object.defineProperty(e,r,a),a=null),a}var qf=(Jf=function(e){DA(t,e);var r=jA(t);function t(){var n;wA(this,t);for(var i=arguments.length,a=new Array(i),c=0;c<i;c++)a[c]=arguments[c];return n=r.call.apply(r,[this].concat(a)),Xy(Ls(n),"modelType",pt.RECT_NODE),TA(Ls(n),"radius",Hy,Ls(n)),n}return AA(t,[{key:"getDefaultAnchor",value:function(){var i=this.x,a=this.y,c=this.width,h=this.height;return[{x:i,y:a-h/2,id:"".concat(this.id,"_0")},{x:i+c/2,y:a,id:"".concat(this.id,"_1")},{x:i,y:a+h/2,id:"".concat(this.id,"_2")},{x:i-c/2,y:a,id:"".concat(this.id,"_3")}]}},{key:"getNodeStyle",value:function(){var i=Rs(_o(t.prototype),"getNodeStyle",this).call(this),a=this.graphModel.theme.rect;return ky(ky({},i),Rt(a))}}]),t}(dn),Hy=RA(Jf.prototype,"radius",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Jf);function Bs(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Bs=function(t){return typeof t}:Bs=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bs(e)}var zn;function Yy(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),t.push.apply(t,n)}return t}function Wy(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?Yy(Object(t),!0).forEach(function(n){Zy(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Yy(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function LA(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Ky(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function BA(e,r,t){return r&&Ky(e.prototype,r),t&&Ky(e,t),e}function _s(){return typeof Reflect<"u"&&Reflect.get?_s=Reflect.get:_s=function(r,t,n){var i=_A(r,t);if(i){var a=Object.getOwnPropertyDescriptor(i,t);return a.get?a.get.call(arguments.length<3?r:n):a.value}},_s.apply(this,arguments)}function _A(e,r){for(;!Object.prototype.hasOwnProperty.call(e,r)&&(e=zo(e),e!==null););return e}function zA(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&ec(e,r)}function ec(e,r){return ec=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},ec(e,r)}function FA(e){var r=HA();return function(){var n=zo(e),i;if(r){var a=zo(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return GA(this,i)}}function GA(e,r){if(r&&(Bs(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Vy(e)}function Vy(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function HA(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function zo(e){return zo=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},zo(e)}function Zy(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function Jy(e,r,t,n,i){var a={};return Object.keys(n).forEach(function(c){a[c]=n[c]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=t.slice().reverse().reduce(function(c,h){return h(e,r,c)||c},a),i&&a.initializer!==void 0&&(a.value=a.initializer?a.initializer.call(i):void 0,a.initializer=void 0),a.initializer===void 0&&(Object.defineProperty(e,r,a),a=null),a}var tc=(zn=function(e){zA(t,e);var r=FA(t);function t(){var n;LA(this,t);for(var i=arguments.length,a=new Array(i),c=0;c<i;c++)a[c]=arguments[c];return n=r.call.apply(r,[this].concat(a)),Zy(Vy(n),"modelType",pt.TEXT_NODE),n}return BA(t,[{key:"getTextStyle",value:function(){var i=_s(zo(t.prototype),"getTextStyle",this).call(this),a=this.graphModel.theme.text;return Wy(Wy({},i),Rt(a))}},{key:"width",get:function(){var i=String(this.text.value).split(/[\r\n]/g),a=this.getTextStyle(),c=a.fontSize,h=cf({rows:i,fontSize:c,rowsLength:i.length}),m=h.width;return m}},{key:"height",get:function(){var i=String(this.text.value).split(/[\r\n]/g),a=this.getTextStyle(),c=a.fontSize,h=cf({rows:i,fontSize:c,rowsLength:i.length}),m=h.height;return m}}]),t}(dn),Jy(zn.prototype,"width",[l.m],Object.getOwnPropertyDescriptor(zn.prototype,"width"),zn.prototype),Jy(zn.prototype,"height",[l.m],Object.getOwnPropertyDescriptor(zn.prototype,"height"),zn.prototype),zn);function zs(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?zs=function(t){return typeof t}:zs=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zs(e)}function $A(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Qy(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function kA(e,r,t){return r&&Qy(e.prototype,r),t&&Qy(e,t),e}function UA(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&rc(e,r)}function rc(e,r){return rc=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},rc(e,r)}function XA(e){var r=WA();return function(){var n=Fs(e),i;if(r){var a=Fs(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return YA(this,i)}}function YA(e,r){if(r&&(zs(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qy(e)}function qy(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function WA(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Fs(e){return Fs=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Fs(e)}function KA(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var nc=function(e){UA(t,e);var r=XA(t);function t(){var n;$A(this,t);for(var i=arguments.length,a=new Array(i),c=0;c<i;c++)a[c]=arguments[c];return n=r.call.apply(r,[this].concat(a)),KA(qy(n),"modelType",pt.HTML_NODE),n}return kA(t,[{key:"getDefaultAnchor",value:function(){var i=this.x,a=this.y,c=this.width,h=this.height;return[{x:i,y:a-h/2,id:"".concat(this.id,"_0")},{x:i+c/2,y:a,id:"".concat(this.id,"_1")},{x:i,y:a+h/2,id:"".concat(this.id,"_2")},{x:i-c/2,y:a,id:"".concat(this.id,"_3")}]}}]),t}(dn),Gr,eg,tg,rg;function ng(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),t.push.apply(t,n)}return t}function VA(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?ng(Object(t),!0).forEach(function(n){ig(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ng(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function oc(e,r,t,n){t&&Object.defineProperty(e,r,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(n):void 0})}function ZA(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function og(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function JA(e,r,t){return r&&og(e.prototype,r),t&&og(e,t),e}function ig(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function yi(e,r,t,n,i){var a={};return Object.keys(n).forEach(function(c){a[c]=n[c]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=t.slice().reverse().reduce(function(c,h){return h(e,r,c)||c},a),i&&a.initializer!==void 0&&(a.value=a.initializer?a.initializer.call(i):void 0,a.initializer=void 0),a.initializer===void 0&&(Object.defineProperty(e,r,a),a=null),a}var ag=(Gr=function(){function e(r){ZA(this,e),ig(this,"graphModel",void 0),oc(this,"isShowHorizontal",eg,this),oc(this,"isShowVertical",tg,this),oc(this,"position",rg,this),this.isShowHorizontal=!1,this.isShowVertical=!1,this.position={x:0,y:0},this.graphModel=r}return JA(e,[{key:"getStyle",value:function(){return VA({},this.graphModel.theme.snapline)}},{key:"getCenterSnapLine",value:function(t,n){for(var i=t.x,a=t.y,c=!1,h=!1,m=0;m<n.length;m++){var x=n[m];if(x.id!==t.id&&(i===x.x&&(c=!0),a===x.y&&(h=!0),c&&h))break}return{isShowVertical:c,isShowHorizontal:h,position:{x:i,y:a}}}},{key:"getHorizontalSnapline",value:function(t,n){var i=!1,a,c=t.id,h;if(c){var m=this.graphModel.fakerNode;if(m&&m.id===c)h=xr(m);else{var x=this.graphModel.getNodeModelById(c);h=xr(x)}}for(var w=0;w<n.length;w++){var j=n[w];if(j.id!==t.id){var B=xr(j);if(B.minY===h.minY||B.maxY===h.minY){i=!0,a=h.minY;break}if(B.minY===h.maxY||B.maxY===h.maxY){i=!0,a=h.maxY;break}}}return ar({isShowHorizontal:i,position:{y:a}})}},{key:"getVerticalSnapline",value:function(t,n){var i=!1,a,c=t.id,h;if(c){var m=this.graphModel.fakerNode;if(m&&m.id===c)h=xr(m);else{var x=this.graphModel.getNodeModelById(c);h=xr(x)}}for(var w=0;w<n.length;w++){var j=n[w];if(j.id!==t.id){var B=xr(j);if(B.minX===h.minX||B.maxX===h.minX){i=!0,a=h.minX;break}if(B.minX===h.maxX||B.maxX===h.maxX){i=!0,a=h.maxX;break}}}return ar({isShowVertical:i,position:{x:a}})}},{key:"getSnapLinePosition",value:function(t,n){var i=this.getCenterSnapLine(t,n),a=i.isShowHorizontal,c=i.isShowVertical;if(!a){var h=this.getHorizontalSnapline(t,n);h.isShowHorizontal&&(i.isShowHorizontal=h.isShowHorizontal,i.position.y=h.position.y)}if(!c){var m=this.getVerticalSnapline(t,n);m.isShowVertical&&(i.isShowVertical=m.isShowVertical,i.position.x=m.position.x)}return i}},{key:"setSnaplineInfo",value:function(t){var n=t.isShowHorizontal,i=t.isShowVertical,a=t.position;this.position=a,this.isShowHorizontal=n,this.isShowVertical=i}},{key:"clearSnapline",value:function(){this.position={x:0,y:0},this.isShowHorizontal=!1,this.isShowVertical=!1}},{key:"setNodeSnapLine",value:function(t){var n=this.graphModel.nodes,i=this.getSnapLinePosition(t,n);this.setSnaplineInfo(i)}}]),e}(),eg=yi(Gr.prototype,"isShowHorizontal",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),tg=yi(Gr.prototype,"isShowVertical",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),rg=yi(Gr.prototype,"position",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),yi(Gr.prototype,"clearSnapline",[l.k],Object.getOwnPropertyDescriptor(Gr.prototype,"clearSnapline"),Gr.prototype),yi(Gr.prototype,"setNodeSnapLine",[l.k],Object.getOwnPropertyDescriptor(Gr.prototype,"setNodeSnapLine"),Gr.prototype),Gr),gi=new Map,sg=function(r){var t=In();function n(){r();var a=gi.get(t);if(a){var c=window.requestAnimationFrame(n);gi.set(t,c)}}var i=window.requestAnimationFrame(n);return gi.set(t,i),t},Gs=function(r){var t=gi.get(r);t&&(window.cancelAnimationFrame(t),gi.delete(r))};function Hs(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Hs=function(t){return typeof t}:Hs=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hs(e)}function mi(){return mi=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},mi.apply(this,arguments)}function lg(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),t.push.apply(t,n)}return t}function $s(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?lg(Object(t),!0).forEach(function(n){en(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):lg(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function QA(e,r){return r1(e)||t1(e,r)||e1(e,r)||qA()}function qA(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function e1(e,r){if(e){if(typeof e=="string")return ug(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return ug(e,r)}}function ug(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function t1(e,r){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],i=!0,a=!1,c,h;try{for(t=t.call(e);!(i=(c=t.next()).done)&&(n.push(c.value),!(r&&n.length===r));i=!0);}catch(m){a=!0,h=m}finally{try{!i&&t.return!=null&&t.return()}finally{if(a)throw h}}return n}}function r1(e){if(Array.isArray(e))return e}function n1(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function fg(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function o1(e,r,t){return r&&fg(e.prototype,r),t&&fg(e,t),e}function i1(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&ic(e,r)}function ic(e,r){return ic=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},ic(e,r)}function a1(e){var r=l1();return function(){var n=ks(e),i;if(r){var a=ks(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return s1(this,i)}}function s1(e,r){if(r&&(Hs(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qr(e)}function qr(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function l1(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function ks(e){return ks=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},ks(e)}function en(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var u1=function(e){i1(t,e);var r=a1(t);function t(){var n;return n1(this,t),n=r.call(this),en(qr(n),"preTargetNode",void 0),en(qr(n),"sourceRuleResults",void 0),en(qr(n),"targetRuleResults",void 0),en(qr(n),"dragHandler",void 0),en(qr(n),"t",void 0),en(qr(n),"onDragStart",function(i){var a=i.event,c=n.props,h=c.anchorData,m=c.nodeModel,x=c.graphModel,w=x.overlapMode;x.selectNodeById(m.id),w!==Er.INCREASE&&m.autoToFront&&x.toFront(m.id),x.eventCenter.emit(nt.ANCHOR_DRAGSTART,{data:h,e:a,nodeModel:m}),n.setState({startX:h.x,startY:h.y,endX:h.x,endY:h.y})}),en(qr(n),"onDragging",function(i){var a=i.event,c=n.props,h=c.graphModel,m=c.nodeModel,x=c.anchorData,w=h.transformModel,j=h.eventCenter,B=h.width,G=h.height,K=h.editConfigModel,oe=K.autoExpand,ne=K.stopMoveGraph,ae=a.clientX,we=a.clientY,Ce=h.getPointByClient({x:ae,y:we}),ye=Ce.domOverlayPosition,Le=ye.x,Ne=ye.y,Ue=Ce.canvasOverlayPosition,De=Ue.x,ot=Ue.y;n.t&&Gs(n.t);var ht=[],Ht=10;Le<10?ht=[Ht,0]:Le+10>B?ht=[-Ht,0]:Ne<10?ht=[0,Ht]:Ne+10>G&&(ht=[0,-Ht]),n.setState({endX:De,endY:ot,dragging:!0}),n.moveAnchorEnd(De,ot),ht.length>0&&!ne&&oe&&(n.t=sg(function(){var Wt=ht,or=QA(Wt,2),hr=or[0],io=or[1];w.translate(hr,io);var Ho=n.state,Hn=Ho.endX,$o=Ho.endY;n.setState({endX:Hn-hr,endY:$o-io}),n.moveAnchorEnd(Hn-hr,$o-io)})),j.emit(nt.ANCHOR_DRAG,{data:x,e:a,nodeModel:m})}),en(qr(n),"onDragEnd",function(i){var a=i.event;n.t&&Gs(n.t),n.checkEnd(a),n.setState({startX:0,startY:0,endX:0,endY:0,dragging:!1}),n.sourceRuleResults.clear(),n.targetRuleResults.clear();var c=n.props,h=c.graphModel,m=c.nodeModel,x=c.anchorData;h.eventCenter.emit(nt.ANCHOR_DRAGEND,{data:x,e:a,nodeModel:m})}),en(qr(n),"checkEnd",function(i){var a=n.props,c=a.graphModel,h=a.nodeModel,m=a.anchorData,x=m.x,w=m.y,j=m.id;c.edgeType;var B=n.state,G=B.endX,K=B.endY,oe=B.dragging,ne=Da({x:G,y:K},c);if(n.preTargetNode&&n.preTargetNode.state!==bt.DEFAULT&&n.preTargetNode.setElementState(bt.DEFAULT),!!oe&&ne&&ne.node){var ae=ne.node,we=ne.anchor.id,Ce="".concat(h.id,"_").concat(ae.id,"_").concat(we,"_").concat(j),ye=n.sourceRuleResults.get(Ce)||{},Le=ye.isAllPass,Ne=ye.msg,Ue=n.targetRuleResults.get(Ce)||{},De=Ue.isAllPass,ot=Ue.msg;if(Le&&De){ae.setElementState(bt.DEFAULT);var ht=c.edgeGenerator(h.getData(),c.getNodeModelById(ne.node.id).getData()),Ht=c.addEdge($s($s({},ht),{},{sourceNodeId:h.id,sourceAnchorId:j,startPoint:{x,y:w},targetNodeId:ne.node.id,targetAnchorId:ne.anchor.id,endPoint:{x:ne.anchor.x,y:ne.anchor.y}})),Wt=n.props.anchorData;c.eventCenter.emit(nt.ANCHOR_DROP,{data:Wt,e:i,nodeModel:h,edgeModel:Ht})}else{var or=ae.getData();c.eventCenter.emit(nt.CONNECTION_NOT_ALLOWED,{data:or,msg:ot||Ne})}}}),n.sourceRuleResults=new Map,n.targetRuleResults=new Map,n.state={startX:0,startY:0,endX:0,endY:0,dragging:!1},n.dragHandler=new un({onDragStart:n.onDragStart,onDragging:n.onDragging,onDragEnd:n.onDragEnd}),n}return o1(t,[{key:"getAnchorShape",value:function(){var i=this.props,a=i.anchorData,c=i.style,h=i.node,m=h.getAnchorShape(a);if(m)return m;var x=a.x,w=a.y,j=$s($s({},c),c.hover);return Object(ie.g)("g",null,Object(ie.g)(hi,mi({className:"lf-node-anchor-hover"},j,{x,y:w})),Object(ie.g)(hi,mi({className:"lf-node-anchor"},c,{x,y:w})))}},{key:"moveAnchorEnd",value:function(i,a){var c=this.props,h=c.graphModel,m=c.nodeModel,x=c.anchorData,w=Da({x:i,y:a},h);if(w){var j=w.node,B=w.anchor.id;if(this.preTargetNode&&this.preTargetNode!==w.node&&this.preTargetNode.setElementState(bt.DEFAULT),x.id===B)return;this.preTargetNode=j;var G="".concat(m.id,"_").concat(j.id,"_").concat(B,"_").concat(x.id);if(!this.targetRuleResults.has(G)){var K=w.anchor,oe=m.isAllowConnectedAsSource(j,x,K),ne=j.isAllowConnectedAsTarget(m,x,K);this.sourceRuleResults.set(G,Ca(oe)),this.targetRuleResults.set(G,Ca(ne))}var ae=this.sourceRuleResults.get(G),we=ae.isAllPass,Ce=this.targetRuleResults.get(G),ye=Ce.isAllPass;we&&ye?j.setElementState(bt.ALLOW_CONNECT):j.setElementState(bt.NOT_ALLOW_CONNECT)}else this.preTargetNode&&this.preTargetNode.state!==bt.DEFAULT&&this.preTargetNode.setElementState(bt.DEFAULT)}},{key:"isShowLine",value:function(){var i=this.state,a=i.startX,c=i.startY,h=i.endX,m=i.endY,x=Kr(a,c,h,m);return x>10}},{key:"render",value:function(){var i=this,a=this.state,c=a.startX,h=a.startY,m=a.endX,x=a.endY,w=this.props,j=w.anchorData.edgeAddable,B=w.edgeStyle;return Object(ie.g)("g",{className:"lf-anchor"},Object(ie.g)("g",{onMouseDown:function(K){j!==!1&&i.dragHandler.handleMouseDown(K)}},this.getAnchorShape()),this.isShowLine()&&Object(ie.g)(wo,mi({x1:c,y1:h,x2:m,y2:x},B,{"pointer-events":"none"})))}}]),t}(ie.a),f1=u1;o(64);function cg(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),t.push.apply(t,n)}return t}function c1(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?cg(Object(t),!0).forEach(function(n){d1(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):cg(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function d1(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function Us(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Us=function(t){return typeof t}:Us=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Us(e)}function p1(e,r){return g1(e)||y1(e,r)||v1(e,r)||h1()}function h1(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function v1(e,r){if(e){if(typeof e=="string")return dg(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return dg(e,r)}}function dg(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function y1(e,r){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],i=!0,a=!1,c,h;try{for(t=t.call(e);!(i=(c=t.next()).done)&&(n.push(c.value),!(r&&n.length===r));i=!0);}catch(m){a=!0,h=m}finally{try{!i&&t.return!=null&&t.return()}finally{if(a)throw h}}return n}}function g1(e){if(Array.isArray(e))return e}function pg(e){var r=e.x,t=r===void 0?0:r,n=e.y,i=n===void 0?0:n,a=e.value,c=e.fontSize,h=e.fill,m=h===void 0?"currentColor":h,x=e.overflowMode,w=x===void 0?"default":x,j=e.textWidth,B=j===void 0?"":j,G=e.model,K={textAnchor:"middle","dominant-baseline":"middle",x:t,y:i,fill:m};if(Object.entries(e).forEach(function(ye){var Le=p1(ye,2),Ne=Le[0],Ue=Le[1],De=Us(Ue);De!=="object"&&(K[Ne]=Ue)}),a){var oe=String(a).split(/[\r\n]/g),ne=oe.length;if(w!=="default"){var ae=G.BaseType,we=G.modelType;if(ae===zt.NODE&&we!==pt.TEXT_NODE||ae===zt.EDGE&&B)return m1(e)}if(ne>1){var Ce=oe.map(function(ye,Le){var Ne=c+2,Ue=(Le-(ne-1)/2)*Ne;return Object(ie.g)("tspan",{className:"lf-text-tspan",x:t,y:i+Ue},ye)});return Object(ie.g)("text",K,Ce)}return Object(ie.g)("text",K,a)}}function m1(e){var r=e.value,t=e.fontSize,n=e.model,i=e.fontFamily,a=i===void 0?"":i,c=e.lineHeight,h=e.wrapPadding,m=h===void 0?"0, 0":h,x=e.overflowMode,w=e.x,j=e.y,B=n.width,G=n.textHeight,K=e.textWidth||B,oe=String(r).split(/[\r\n]/g),ne=oe.length,ae=Wp({rows:oe,style:{fontSize:"".concat(t,"px"),width:"".concat(K,"px"),fontFamily:a,lineHeight:c,padding:m},rowsLength:ne,className:"lf-get-text-height"}),we=n.height>ae?n.height:ae;G&&(we=G);var Ce=x==="ellipsis";return Object(ie.g)("g",null,Object(ie.g)("foreignObject",{width:K,height:we,x:w-K/2,y:j-we/2},Object(ie.g)("div",{className:"lf-node-text-auto-wrap",style:{minHeight:we,width:K,padding:m}},Object(ie.g)("div",{className:Ce?"lf-node-text-ellipsis-content":"lf-node-text-auto-wrap-content",title:Ce?oe.join(""):"",style:c1({},e)},oe.map(function(ye){return Object(ie.g)("div",{className:"lf-node-text--auto-wrap-inner"},ye)})))))}function Xs(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Xs=function(t){return typeof t}:Xs=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xs(e)}function ac(){return ac=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},ac.apply(this,arguments)}function b1(e,r){return S1(e)||x1(e,r)||E1(e,r)||O1()}function O1(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function E1(e,r){if(e){if(typeof e=="string")return hg(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return hg(e,r)}}function hg(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function x1(e,r){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],i=!0,a=!1,c,h;try{for(t=t.call(e);!(i=(c=t.next()).done)&&(n.push(c.value),!(r&&n.length===r));i=!0);}catch(m){a=!0,h=m}finally{try{!i&&t.return!=null&&t.return()}finally{if(a)throw h}}return n}}function S1(e){if(Array.isArray(e))return e}function P1(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function vg(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function M1(e,r,t){return r&&vg(e.prototype,r),t&&vg(e,t),e}function T1(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&sc(e,r)}function sc(e,r){return sc=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},sc(e,r)}function w1(e){var r=N1();return function(){var n=Ys(e),i;if(r){var a=Ys(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return A1(this,i)}}function A1(e,r){if(r&&(Xs(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Fn(e)}function Fn(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function N1(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Ys(e){return Ys=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Ys(e)}function ro(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var yg=function(e){T1(t,e);var r=w1(t);function t(n){var i;P1(this,t),i=r.call(this),ro(Fn(i),"dragHandler",void 0),ro(Fn(i),"sumDeltaX",0),ro(Fn(i),"sumDeltaY",0),ro(Fn(i),"stepDrag",void 0),ro(Fn(i),"onDragging",function(h){var m=h.deltaX,x=h.deltaY,w=i.props,j=w.model,B=w.graphModel.transformModel,G=B.fixDeltaXY(m,x),K=b1(G,2),oe=K[0],ne=K[1];j.moveText(oe,ne)}),ro(Fn(i),"dblClickHandler",function(){var h=i.props.editable;if(h){var m=i.props.model;m.setElementState(bt.TEXT_EDIT)}}),ro(Fn(i),"mouseDownHandle",function(h){var m=i.props,x=m.draggable,w=m.graphModel.editConfigModel.nodeTextDraggable;(x||w)&&i.stepDrag.handleMouseDown(h)});var a=n.model,c=n.draggable;return i.stepDrag=new un({onDragging:i.onDragging,step:1,model:a,isStopPropagation:c}),i}return M1(t,[{key:"getShape",value:function(){var i=this.props,a=i.model,c=i.graphModel,h=a.text,m=c.editConfigModel,x=h.value,w=h.x,j=h.y,B=h.editable,G=h.draggable,K={x:w,y:j,className:"",value:x};B?K.className="lf-element-text":G||m.nodeTextDraggable?K.className="lf-text-draggable":K.className="lf-text-disabled";var oe=a.getTextStyle();return Object(ie.g)(pg,ac({},K,oe,{model:a}))}},{key:"render",value:function(){var i=this.props.model.text;if(i)return Object(ie.g)("g",{onMouseDown:this.mouseDownHandle,onDblClick:this.dblClickHandler},this.getShape())}}]),t}(ie.a),D1=window.navigator.userAgent.match(/MSIE|Trident/)!==null;function Ws(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ws=function(t){return typeof t}:Ws=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ws(e)}function Ks(e,r){return R1(e)||I1(e,r)||C1(e,r)||j1()}function j1(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function C1(e,r){if(e){if(typeof e=="string")return gg(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return gg(e,r)}}function gg(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function I1(e,r){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],i=!0,a=!1,c,h;try{for(t=t.call(e);!(i=(c=t.next()).done)&&(n.push(c.value),!(r&&n.length===r));i=!0);}catch(m){a=!0,h=m}finally{try{!i&&t.return!=null&&t.return()}finally{if(a)throw h}}return n}}function R1(e){if(Array.isArray(e))return e}function L1(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function mg(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function B1(e,r,t){return r&&mg(e.prototype,r),t&&mg(e,t),e}function _1(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&lc(e,r)}function lc(e,r){return lc=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},lc(e,r)}function z1(e){var r=G1();return function(){var n=Vs(e),i;if(r){var a=Vs(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return F1(this,i)}}function F1(e,r){if(r&&(Ws(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return nr(e)}function nr(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function G1(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Vs(e){return Vs=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Vs(e)}function ur(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var hn=function(e){_1(t,e);var r=z1(t);function t(n){var i;L1(this,t),i=r.call(this),ur(nr(i),"t",void 0),ur(nr(i),"moveOffset",void 0),ur(nr(i),"stepDrag",void 0),ur(nr(i),"contextMenuTime",void 0),ur(nr(i),"startTime",void 0),ur(nr(i),"clickTimer",void 0),ur(nr(i),"onDragStart",function(x){var w=x.event,j=w.clientX,B=w.clientY,G=i.props,K=G.model,oe=G.graphModel,ne=oe.getPointByClient({x:j,y:B}),ae=ne.canvasOverlayPosition,we=ae.x,Ce=ae.y;i.moveOffset={x:K.x-we,y:K.y-Ce}}),ur(nr(i),"onDragging",function(x){var w=x.event,j=i.props,B=j.model,G=j.graphModel,K=G.editConfigModel,oe=K.stopMoveGraph,ne=K.autoExpand,ae=G.transformModel,we=G.width,Ce=G.height,ye=G.gridSize;B.isDragging=!0;var Le=w.clientX,Ne=w.clientY,Ue=G.getPointByClient({x:Le,y:Ne}),De=Ue.canvasOverlayPosition,ot=De.x,ht=De.y,Ht=ae.CanvasPointToHtmlPoint([ot,ht]),Wt=Ks(Ht,2),or=Wt[0],hr=Wt[1];if(ot=ot+i.moveOffset.x,ht=ht+i.moveOffset.y,ot=Cn(ot,ye),ht=Cn(ht,ye),!we||!Ce){G.moveNode2Coordinate(B.id,ot,ht);return}var io=or<0||hr<0||or>we||hr>Ce;if(!(ne&&!oe&&io)){var Ho=ae.CanvasPointToHtmlPoint([ot-B.width/2,ht-B.height/2]),Hn=Ks(Ho,2),$o=Hn[0],qc=Hn[1],AC=ae.CanvasPointToHtmlPoint([ot+B.width/2,ht+B.height/2]),gm=Ks(AC,2),NC=gm[0],DC=gm[1],_l=Math.max(ye,20),ko=[];$o<0?ko=[_l,0]:NC>G.width?ko=[-_l,0]:qc<0?ko=[0,_l]:DC>G.height&&(ko=[0,-_l]),i.t&&Gs(i.t),ko.length>0&&!oe&&ne?i.t=sg(function(){var jC=ko,mm=Ks(jC,2),bm=mm[0],Om=mm[1];ae.translate(bm,Om),G.moveNode(B.id,-bm/ae.SCALE_X,-Om/ae.SCALE_X)}):G.moveNode2Coordinate(B.id,ot,ht)}}),ur(nr(i),"onDragEnd",function(){i.t&&Gs(i.t);var x=i.props.model;x.isDragging=!1}),ur(nr(i),"handleClick",function(x){if(i.startTime){var w=new Date().getTime()-i.startTime;if(!(w>200)){var j=i.props,B=j.model,G=j.graphModel,K=B.getData(),oe=G.getPointByClient({x:x.clientX,y:x.clientY}),ne={data:K,e:x,position:oe,isSelected:!1,isMultiple:!1},ae=x.button===2,we=x.detail===2;if(!ae){var Ce=G.editConfigModel,ye=Gp(x,Ce);ne.isMultiple=ye,B.isSelected&&!we&&ye?(ne.isSelected=!1,B.setSelected(!1)):(G.selectNodeById(B.id,ye),ne.isSelected=!0,i.toFront()),we?(Ce.nodeTextEdit&&B.text.editable&&(B.setSelected(!1),G.setElementStateById(B.id,bt.TEXT_EDIT)),G.eventCenter.emit(nt.NODE_DBCLICK,ne)):(G.eventCenter.emit(nt.ELEMENT_CLICK,ne),G.eventCenter.emit(nt.NODE_CLICK,ne))}}}}),ur(nr(i),"handleContextMenu",function(x){x.preventDefault();var w=i.props,j=w.model,B=w.graphModel,G=j.getData(),K=B.getPointByClient({x:x.clientX,y:x.clientY});B.setElementStateById(j.id,bt.SHOW_MENU,K.domOverlayPosition),j.isSelected||B.selectNodeById(j.id),B.eventCenter.emit(nt.NODE_CONTEXTMENU,{data:G,e:x,position:K}),i.toFront()}),ur(nr(i),"handleMouseDown",function(x){var w=i.props,j=w.model,B=w.graphModel;i.startTime=new Date().getTime();var G=B.editConfigModel;G.adjustNodePosition&&j.draggable&&i.stepDrag&&i.stepDrag.handleMouseDown(x)}),ur(nr(i),"setHoverON",function(x){var w=i.props,j=w.model,B=w.graphModel;if(!j.isHovered){var G=j.getData();j.setHovered(!0),B.eventCenter.emit(nt.NODE_MOUSEENTER,{data:G,e:x})}}),ur(nr(i),"setHoverOFF",function(x){var w=i.props,j=w.model,B=w.graphModel,G=j.getData();j.isHovered&&(j.setHovered(!1),B.eventCenter.emit(nt.NODE_MOUSELEAVE,{data:G,e:x}))}),ur(nr(i),"onMouseOut",function(x){D1&&i.setHoverOFF(x)});var a=n.graphModel,c=a.gridSize,h=a.eventCenter,m=n.model;return i.stepDrag=new un({onDragStart:i.onDragStart,onDragging:i.onDragging,onDragEnd:i.onDragEnd,step:c,eventType:"NODE",isStopPropagation:!1,eventCenter:h,model:m}),i}return B1(t,[{key:"getAnchorShape",value:function(i){return null}},{key:"getAnchors",value:function(){var i=this,a=this.props,c=a.model,h=a.graphModel,m=c.isSelected,x=c.isHitable,w=c.isDragging,j=c.isShowAnchor;return x&&(m||j)&&!w?Sa(c.anchors,function(B,G){var K=c.getAnchorLineStyle(B),oe=c.getAnchorStyle(B);return Object(ie.g)(f1,{anchorData:B,node:i,style:oe,edgeStyle:K,anchorIndex:G,nodeModel:c,graphModel:h,setHoverOFF:i.setHoverOFF})}):[]}},{key:"getText",value:function(){var i=this.props,a=i.model,c=i.graphModel;if(a.state===bt.TEXT_EDIT)return"";if(a.text){var h=c.editConfigModel,m=!1;return(a.text.draggable||h.nodeTextDraggable)&&(m=!0),Object(ie.g)(yg,{editable:h.nodeTextEdit&&a.text.editable,model:a,graphModel:c,draggable:m})}}},{key:"getStateClassName",value:function(){var i=this.props.model,a=i.state,c=i.isDragging,h=i.isSelected,m="lf-node";switch(a){case bt.ALLOW_CONNECT:m+=" lf-node-allow";break;case bt.NOT_ALLOW_CONNECT:m+=" lf-node-not-allow";break;default:m+=" lf-node-default";break}return c&&(m+=" lf-isDragging"),h&&(m+=" lf-node-selected"),m}},{key:"toFront",value:function(){var i=this.props,a=i.model,c=i.graphModel,h=c.overlapMode;h!==Er.INCREASE&&a.autoToFront&&c.toFront(a.id)}},{key:"render",value:function(){var i=this.props,a=i.model,c=i.graphModel,h=c.editConfigModel,m=h.hideAnchors,x=h.adjustNodePosition,w=c.gridSize,j=c.transformModel.SCALE_X,B=a.isHitable,G=a.draggable,K=Object(ie.g)("g",{className:"lf-node-content"},this.getShape(),this.getText(),m?null:this.getAnchors()),oe;return B?(x&&G&&this.stepDrag.setStep(w*j),oe=Object(ie.g)("g",{className:this.getStateClassName(),onMouseDown:this.handleMouseDown,onClick:this.handleClick,onMouseEnter:this.setHoverON,onMouseOver:this.setHoverON,onMouseLeave:this.setHoverOFF,onMouseOut:this.onMouseOut,onContextMenu:this.handleContextMenu},K)):oe=Object(ie.g)("g",{className:this.getStateClassName()},K),oe}}],[{key:"getModel",value:function(i){return i}}]),t}(ie.a);function Zs(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Zs=function(t){return typeof t}:Zs=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zs(e)}function uc(){return uc=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},uc.apply(this,arguments)}function H1(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function bg(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function $1(e,r,t){return r&&bg(e.prototype,r),t&&bg(e,t),e}function k1(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&fc(e,r)}function fc(e,r){return fc=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},fc(e,r)}function U1(e){var r=W1();return function(){var n=Js(e),i;if(r){var a=Js(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return X1(this,i)}}function X1(e,r){if(r&&(Zs(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Y1(e)}function Y1(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function W1(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Js(e){return Js=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Js(e)}var cc=function(e){k1(t,e);var r=U1(t);function t(){return H1(this,t),r.apply(this,arguments)}return $1(t,[{key:"getShape",value:function(){var i=this.props.model,a=i.getNodeStyle();return Object(ie.g)(Bn,uc({},a,{x:i.x,y:i.y,width:i.width,height:i.height,radius:i.radius}))}}]),t}(hn);function Qs(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Qs=function(t){return typeof t}:Qs=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qs(e)}function dc(){return dc=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},dc.apply(this,arguments)}function K1(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Og(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function V1(e,r,t){return r&&Og(e.prototype,r),t&&Og(e,t),e}function Z1(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&pc(e,r)}function pc(e,r){return pc=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},pc(e,r)}function J1(e){var r=eN();return function(){var n=qs(e),i;if(r){var a=qs(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return Q1(this,i)}}function Q1(e,r){if(r&&(Qs(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return q1(e)}function q1(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function eN(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function qs(e){return qs=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},qs(e)}var hc=function(e){Z1(t,e);var r=J1(t);function t(){return K1(this,t),r.apply(this,arguments)}return V1(t,[{key:"getShape",value:function(){var i=this.props.model,a=i.x,c=i.y,h=i.r,m=i.getNodeStyle();return Object(ie.g)(hi,dc({},m,{x:a,y:c,r:h}))}}]),t}(hn);function el(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?el=function(t){return typeof t}:el=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},el(e)}function tN(e,r){return iN(e)||oN(e,r)||nN(e,r)||rN()}function rN(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nN(e,r){if(e){if(typeof e=="string")return Eg(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Eg(e,r)}}function Eg(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function oN(e,r){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],i=!0,a=!1,c,h;try{for(t=t.call(e);!(i=(c=t.next()).done)&&(n.push(c.value),!(r&&n.length===r));i=!0);}catch(m){a=!0,h=m}finally{try{!i&&t.return!=null&&t.return()}finally{if(a)throw h}}return n}}function iN(e){if(Array.isArray(e))return e}function xg(e){var r=e.points,t=e.className,n={fill:"transparent",fillOpacity:1,strokeWidth:1,stroke:"#000",strokeOpacity:1,points:""};return Object.entries(e).forEach(function(i){var a=tN(i,2),c=a[0],h=a[1],m=el(h);m!=="object"&&(n[c]=h)}),t?n.className="lf-basic-shape ".concat(t):n.className="lf-basic-shape",n.points=r.map(function(i){return i.join(",")}).join(" "),Object(ie.g)("polygon",n)}function tl(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?tl=function(t){return typeof t}:tl=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tl(e)}function vc(){return vc=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},vc.apply(this,arguments)}function aN(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Sg(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function sN(e,r,t){return r&&Sg(e.prototype,r),t&&Sg(e,t),e}function lN(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&yc(e,r)}function yc(e,r){return yc=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},yc(e,r)}function uN(e){var r=dN();return function(){var n=rl(e),i;if(r){var a=rl(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return fN(this,i)}}function fN(e,r){if(r&&(tl(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return cN(e)}function cN(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function dN(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function rl(e){return rl=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},rl(e)}var gc=function(e){lN(t,e);var r=uN(t);function t(){return aN(this,t),r.apply(this,arguments)}return sN(t,[{key:"getShape",value:function(){var i=this.props.model,a=i.x,c=i.y,h=i.width,m=i.height,x=i.points,w=i.getNodeStyle(),j={transform:"matrix(1 0 0 1 ".concat(a-h/2," ").concat(c-m/2,")")};return Object(ie.g)("g",j,Object(ie.g)(xg,vc({},w,{points:x,x:a,y:c})))}}]),t}(hn);function nl(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?nl=function(t){return typeof t}:nl=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nl(e)}function mc(){return mc=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},mc.apply(this,arguments)}function pN(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Pg(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function hN(e,r,t){return r&&Pg(e.prototype,r),t&&Pg(e,t),e}function vN(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&bc(e,r)}function bc(e,r){return bc=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},bc(e,r)}function yN(e){var r=bN();return function(){var n=ol(e),i;if(r){var a=ol(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return gN(this,i)}}function gN(e,r){if(r&&(nl(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mN(e)}function mN(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function bN(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function ol(e){return ol=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},ol(e)}var Oc=function(e){vN(t,e);var r=yN(t);function t(){return pN(this,t),r.apply(this,arguments)}return hN(t,[{key:"getShape",value:function(){var i=this.props.model,a=i.getNodeStyle();return Object(ie.g)("g",null,Object(ie.g)(xg,mc({},a,{points:i.points,x:i.x,y:i.y})))}}]),t}(hn);function il(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?il=function(t){return typeof t}:il=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},il(e)}function ON(e,r){return PN(e)||SN(e,r)||xN(e,r)||EN()}function EN(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xN(e,r){if(e){if(typeof e=="string")return Mg(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Mg(e,r)}}function Mg(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function SN(e,r){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],i=!0,a=!1,c,h;try{for(t=t.call(e);!(i=(c=t.next()).done)&&(n.push(c.value),!(r&&n.length===r));i=!0);}catch(m){a=!0,h=m}finally{try{!i&&t.return!=null&&t.return()}finally{if(a)throw h}}return n}}function PN(e){if(Array.isArray(e))return e}function MN(e){var r=e.x,t=r===void 0?0:r,n=e.y,i=n===void 0?0:n,a=e.rx,c=a===void 0?4:a,h=e.ry,m=h===void 0?4:h,x=e.className,w={cx:t,cy:i,rx:c,ry:m,fill:"transparent",fillOpacity:1,strokeWidth:"1",stroke:"#000",strokeOpacity:1};return Object.entries(e).forEach(function(j){var B=ON(j,2),G=B[0],K=B[1],oe=il(K);oe!=="object"&&(w[G]=K)}),x?w.className="lf-basic-shape ".concat(x):w.className="lf-basic-shape",Object(ie.g)("ellipse",w)}function al(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?al=function(t){return typeof t}:al=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},al(e)}function Ec(){return Ec=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},Ec.apply(this,arguments)}function TN(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Tg(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function wN(e,r,t){return r&&Tg(e.prototype,r),t&&Tg(e,t),e}function AN(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&xc(e,r)}function xc(e,r){return xc=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},xc(e,r)}function NN(e){var r=CN();return function(){var n=sl(e),i;if(r){var a=sl(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return DN(this,i)}}function DN(e,r){if(r&&(al(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return jN(e)}function jN(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function CN(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function sl(e){return sl=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},sl(e)}var Sc=function(e){AN(t,e);var r=NN(t);function t(){return TN(this,t),r.apply(this,arguments)}return wN(t,[{key:"getShape",value:function(){var i=this.props.model,a=i.getNodeStyle();return Object(ie.g)(MN,Ec({},a,{x:i.x,y:i.y,rx:i.rx,ry:i.ry}))}}]),t}(hn);function ll(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ll=function(t){return typeof t}:ll=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ll(e)}function wg(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),t.push.apply(t,n)}return t}function Ag(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?wg(Object(t),!0).forEach(function(n){IN(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):wg(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function IN(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function RN(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Ng(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function LN(e,r,t){return r&&Ng(e.prototype,r),t&&Ng(e,t),e}function BN(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Pc(e,r)}function Pc(e,r){return Pc=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},Pc(e,r)}function _N(e){var r=GN();return function(){var n=ul(e),i;if(r){var a=ul(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return zN(this,i)}}function zN(e,r){if(r&&(ll(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return FN(e)}function FN(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function GN(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function ul(e){return ul=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},ul(e)}var Mc=function(e){BN(t,e);var r=_N(t);function t(){return RN(this,t),r.apply(this,arguments)}return LN(t,[{key:"getBackground",value:function(){var i=this.props.model,a=i.getTextStyle(),c=i.text;if(c&&c.value&&a.background&&a.background.fill!=="transparent"){var h=c.x,m=c.y,x=i.width,w=i.height,j=Ag(Ag({},a.background),{},{x:h,y:m-1,width:x,height:w});return Object(ie.g)(Bn,j)}}},{key:"getShape",value:function(){return Object(ie.g)("g",null,this.getBackground())}}]),t}(hn);function fl(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?fl=function(t){return typeof t}:fl=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fl(e)}function Tc(){return Tc=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},Tc.apply(this,arguments)}function HN(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Dg(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function $N(e,r,t){return r&&Dg(e.prototype,r),t&&Dg(e,t),e}function kN(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&wc(e,r)}function wc(e,r){return wc=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},wc(e,r)}function UN(e){var r=YN();return function(){var n=cl(e),i;if(r){var a=cl(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return XN(this,i)}}function XN(e,r){if(r&&(fl(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return bi(e)}function bi(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function YN(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function cl(e){return cl=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},cl(e)}function dl(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var Ac=function(e){kN(t,e);var r=UN(t);function t(){var n;HN(this,t);for(var i=arguments.length,a=new Array(i),c=0;c<i;c++)a[c]=arguments[c];return n=r.call.apply(r,[this].concat(a)),dl(bi(n),"ref",void 0),dl(bi(n),"currentProperties",void 0),dl(bi(n),"preProperties",void 0),dl(bi(n),"setRef",function(h){n.ref=h}),n}return $N(t,[{key:"rootEl",get:function(){return this.ref}},{key:"setHtml",value:function(i){i.appendChild(document.createElement("div"))}},{key:"shouldUpdate",value:function(){if(!(this.preProperties&&this.preProperties===this.currentProperties))return this.preProperties=this.currentProperties,!0}},{key:"componentDidMount",value:function(){this.shouldUpdate()&&this.setHtml(this.rootEl)}},{key:"componentDidUpdate",value:function(){this.shouldUpdate()&&this.setHtml(this.rootEl)}},{key:"getShape",value:function(){var i=this.props.model,a=i.x,c=i.y,h=i.height,m=i.width,x=i.getNodeStyle();return this.currentProperties=JSON.stringify(i.properties),Object(ie.g)("foreignObject",Tc({},x,{x:a-m/2,y:c-h/2,width:m,height:h,ref:this.setRef}))}}]),t}(hn);function pl(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?pl=function(t){return typeof t}:pl=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pl(e)}function Nc(){return Nc=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},Nc.apply(this,arguments)}function jg(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),t.push.apply(t,n)}return t}function no(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?jg(Object(t),!0).forEach(function(n){Cc(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):jg(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function WN(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Cg(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function KN(e,r,t){return r&&Cg(e.prototype,r),t&&Cg(e,t),e}function VN(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Dc(e,r)}function Dc(e,r){return Dc=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},Dc(e,r)}function ZN(e){var r=QN();return function(){var n=hl(e),i;if(r){var a=hl(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return JN(this,i)}}function JN(e,r){if(r&&(pl(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return jc(e)}function jc(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function QN(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function hl(e){return hl=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},hl(e)}function Cc(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var qN=function(e){VN(t,e);var r=ZN(t);function t(n){var i;return WN(this,t),i=r.call(this,n),Cc(jc(i),"setHoverON",function(){i.setState({isHovered:!0})}),Cc(jc(i),"setHoverOFF",function(){i.setState({isHovered:!1})}),i.state={isHovered:!1},i}return KN(t,[{key:"getBackground",value:function(){var i=this.props.model,a=i.getTextStyle(),c=i.text,h=a.background||{},m=this.state.isHovered;if(m&&a.hover&&a.hover.background&&(h=no(no({},h),a.hover.background)),c&&c.value&&h.fill!=="transparent"){var x=a.fontSize,w=a.overflowMode,j=a.lineHeight,B=a.wrapPadding,G=a.textWidth,K=c.value,oe=c.x,ne=c.y,ae=String(K).split(/[\r\n]/g),we=ae.length,Ce;if(w==="autoWrap"&&G){var ye=Wp({rows:ae,style:{fontSize:"".concat(x,"px"),width:"".concat(G,"px"),lineHeight:j,padding:B},rowsLength:we,className:"lf-get-text-height"});Ce=no(no({},h),{},{x:oe-1,y:ne-1,width:G,height:ye})}else{ae&&ae.forEach(function(ot){zh(ot)});var Le=cf({rows:ae,fontSize:x,rowsLength:we}),Ne=Le.width,Ue=Le.height;if(typeof h.wrapPadding=="string"){var De=h.wrapPadding.split(",").filter(function(ot){return ot.trim()}).map(function(ot){return parseFloat(ot.trim())});De.length>0&&De.length<=4&&(De.length===1?De=[De[0],De[0],De[0],De[0]]:De.length===2?De=[De[0],De[1],De[0],De[1]]:De.length===3&&(De=[De[0],De[1],De[2],De[1]]),Ne+=De[1]+De[3],Ue+=De[0]+De[2],oe=oe+(De[1]-De[3])/2,ne=ne+(De[2]-De[0])/2)}Ce=no(no({},h),{},{x:oe-1,y:ne-1,width:Ne,height:Ue})}return Object(ie.g)(Bn,Ce)}}},{key:"getShape",value:function(){var i=this.props.model,a=i.text,c=a.value,h=a.x,m=a.y;if(c){var x=i.getTextStyle(),w=no({x:h,y:m,className:"lf-element-text",value:c},x);return Object(ie.g)("g",{className:"lf-line-text",onMouseEnter:this.setHoverON,onMouseLeave:this.setHoverOFF},this.getBackground(),Object(ie.g)(pg,Nc({},w,{model:i})))}}}]),t}(yg);function vl(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?vl=function(t){return typeof t}:vl=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vl(e)}function Ig(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),t.push.apply(t,n)}return t}function vn(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?Ig(Object(t),!0).forEach(function(n){Pr(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Ig(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function eD(e,r){return oD(e)||nD(e,r)||rD(e,r)||tD()}function tD(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rD(e,r){if(e){if(typeof e=="string")return Rg(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Rg(e,r)}}function Rg(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function nD(e,r){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],i=!0,a=!1,c,h;try{for(t=t.call(e);!(i=(c=t.next()).done)&&(n.push(c.value),!(r&&n.length===r));i=!0);}catch(m){a=!0,h=m}finally{try{!i&&t.return!=null&&t.return()}finally{if(a)throw h}}return n}}function oD(e){if(Array.isArray(e))return e}function iD(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Lg(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function aD(e,r,t){return r&&Lg(e.prototype,r),t&&Lg(e,t),e}function sD(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Ic(e,r)}function Ic(e,r){return Ic=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},Ic(e,r)}function lD(e){var r=fD();return function(){var n=yl(e),i;if(r){var a=yl(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return uD(this,i)}}function uD(e,r){if(r&&(vl(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Sr(e)}function Sr(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function fD(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function yl(e){return yl=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},yl(e)}function Pr(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var tn;(function(e){e.SOURCE="SOURCE",e.TARGET="TARGET"})(tn||(tn={}));var Bg=function(e){sD(t,e);var r=lD(t);function t(n){var i;iD(this,t),i=r.call(this),Pr(Sr(i),"stepDragData",void 0),Pr(Sr(i),"stepDrag",void 0),Pr(Sr(i),"oldEdge",void 0),Pr(Sr(i),"preTargetNode",void 0),Pr(Sr(i),"targetRuleResults",void 0),Pr(Sr(i),"sourceRuleResults",void 0),Pr(Sr(i),"handleMouseDown",function(x){i.stepDrag&&i.stepDrag.handleMouseDown(x)}),Pr(Sr(i),"onDragStart",function(){var x=i.props,w=x.x,j=x.y,B=x.edgeModel,G=B.startPoint,K=B.endPoint,oe=B.pointsList;i.oldEdge={startPoint:G,endPoint:K,pointsList:oe},i.setState({endX:w,endY:j,dragging:!0})}),Pr(Sr(i),"onDragging",function(x){var w=x.deltaX,j=x.deltaY,B=i.state,G=B.endX,K=B.endY,oe=i.props,ne=oe.graphModel,ae=oe.type,we=ne.transformModel,Ce=ne.editConfigModel,ye=we.moveCanvasPointByHtml([G,K],w,j),Le=eD(ye,2),Ne=Le[0],Ue=Le[1];i.setState({endX:Ne,endY:Ue,dragging:!0});var De=i.props.edgeModel,ot=Da({x:G,y:K},ne);if(ot&&ot.node&&i.isAllowAdjust(ot)){var ht,Ht=De.startPoint,Wt=De.endPoint,or=De.sourceNode,hr=De.targetNode;ae===tn.SOURCE?ht={startPoint:{x:ot.anchor.x,y:ot.anchor.y},endPoint:{x:Wt.x,y:Wt.y},sourceNode:ot.node,targetNode:hr}:ae===tn.TARGET&&(ht={startPoint:{x:Ht.x,y:Ht.y},endPoint:{x:ot.anchor.x,y:ot.anchor.y},sourceNode:or,targetNode:ot.node}),De.updateAfterAdjustStartAndEnd(ht)}else ae===tn.SOURCE?De.updateStartPoint({x:Ne,y:Ue}):ae===tn.TARGET&&De.updateEndPoint({x:Ne,y:Ue});De.text.value&&Ce.adjustEdge&&De.setText(Object.assign({},De.text,De.textPosition))}),Pr(Sr(i),"onDragEnd",function(x){var w=x.event;try{var j;i.setState({dragging:!1});var B=i.props,G=B.graphModel,K=B.edgeModel,oe=B.type,ne=i.state,ae=ne.endX,we=ne.endY,Ce=ne.dragging,ye=Da({x:ae,y:we},G);if(!Ce)return;var Le=!1,Ne;if(ye&&ye.node&&i.isAllowAdjust(ye)){var Ue,De=K.getData();if(Ne=vn(vn({},De),{},{sourceAnchorId:"",targetAnchorId:"",text:(De==null||(Ue=De.text)===null||Ue===void 0?void 0:Ue.value)||""}),oe===tn.SOURCE){var ot=G.edgeGenerator(G.getNodeModelById(ye.node.id).getData(),G.getNodeModelById(K.targetNodeId).getData(),Ne);Ne=vn(vn({},ot),{},{sourceNodeId:ye.node.id,sourceAnchorId:ye.anchor.id,startPoint:{x:ye.anchor.x,y:ye.anchor.y},targetNodeId:K.targetNodeId,endPoint:vn({},K.endPoint)}),K.sourceNodeId===ye.node.id&&K.sourceAnchorId===ye.anchor.id&&(Le=!0)}else if(oe===tn.TARGET){var ht=G.edgeGenerator(G.getNodeModelById(K.sourceNodeId).getData(),G.getNodeModelById(ye.node.id).getData(),Ne);Ne=vn(vn({},ht),{},{sourceNodeId:K.sourceNodeId,startPoint:vn({},K.startPoint),targetNodeId:ye.node.id,targetAnchorId:ye.anchor.id,endPoint:{x:ye.anchor.x,y:ye.anchor.y}}),K.targetNodeId===ye.node.id&&K.targetAnchorId===ye.anchor.id&&(Le=!0)}}else Le=!0;if(Le)i.recoveryEdge();else{G.deleteEdgeById(K.id);var Ht=G.addEdge(vn({},Ne));G.eventCenter.emit(nt.EDGE_EXCHANGE_NODE,{data:{newEdge:Ht.getData(),oldEdge:K.getData()}})}(j=i.preTargetNode)===null||j===void 0||j.setElementState(bt.DEFAULT)}finally{var Wt=i.props.graphModel;Wt.eventCenter.emit(nt.ADJUST_POINT_DRAGEND,{e:w,data:i.stepDragData})}}),Pr(Sr(i),"recoveryEdge",function(){var x=i.props.edgeModel,w=i.oldEdge,j=w.startPoint,B=w.endPoint,G=w.pointsList;x.updateStartPoint(j),x.updateEndPoint(B),x.modelType!==pt.LINE_EDGE&&(x.pointsList=G,x.initPoints())}),Pr(Sr(i),"getAdjustPointStyle",function(){var x=i.props,w=x.graphModel.theme;x.edgeModel;var j=w.edgeAdjust;return j}),i.state={dragging:!1,endX:0,endY:0},i.targetRuleResults=new Map,i.sourceRuleResults=new Map;var a=n.type,c=n.edgeModel,h=n.graphModel,m=h.eventCenter;return i.stepDragData={type:a,edgeData:c.getData()},i.stepDrag=new un({onDragStart:i.onDragStart,onDragging:i.onDragging,onDragEnd:i.onDragEnd,eventType:"ADJUST_POINT",isStopPropagation:!1,eventCenter:m,data:i.stepDragData}),i}return aD(t,[{key:"isAllowAdjust",value:function(i){var a=this.props,c=a.edgeModel,h=c.id,m=c.sourceNode,x=c.targetNode,w=c.sourceAnchorId,j=c.targetAnchorId,B=a.type,G=null,K=null,oe=null,ne=null;if(B===tn.SOURCE?(G=i.node,K=x,oe=i.anchor,ne=x.getAnchorInfo(j)):(G=m,K=i.node,ne=i.anchor,oe=m.getAnchorInfo(w)),this.preTargetNode&&this.preTargetNode!==i.node&&this.preTargetNode.setElementState(bt.DEFAULT),this.preTargetNode=i.node,ne.id===oe.id)return!1;var ae="".concat(G.id,"_").concat(K.id,"_").concat(oe.id,"_").concat(ne.id);if(!this.targetRuleResults.has(ae)){var we=G.isAllowConnectedAsSource(K,oe,ne,h),Ce=K.isAllowConnectedAsTarget(G,oe,ne,h);this.sourceRuleResults.set(ae,Ca(we)),this.targetRuleResults.set(ae,Ca(Ce))}var ye=this.sourceRuleResults.get(ae),Le=ye.isAllPass,Ne=this.targetRuleResults.get(ae),Ue=Ne.isAllPass,De=Le&&Ue?bt.ALLOW_CONNECT:bt.NOT_ALLOW_CONNECT;return B===tn.SOURCE?G.setElementState(De):K.setElementState(De),Le&&Ue}},{key:"render",value:function(){var i=this.props,a=i.x,c=i.y,h=i.getAdjustPointShape,m=this.state.dragging;return Object(ie.g)("g",{pointerEvents:m?"none":"",onMouseDown:this.handleMouseDown},h(a,c,m))}}]),t}(ie.a);function gl(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?gl=function(t){return typeof t}:gl=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gl(e)}function Oi(){return Oi=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},Oi.apply(this,arguments)}function cD(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function _g(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function dD(e,r,t){return r&&_g(e.prototype,r),t&&_g(e,t),e}function pD(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Rc(e,r)}function Rc(e,r){return Rc=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},Rc(e,r)}function hD(e){var r=yD();return function(){var n=ml(e),i;if(r){var a=ml(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return vD(this,i)}}function vD(e,r){if(r&&(gl(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Rr(e)}function Rr(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function yD(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function ml(e){return ml=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},ml(e)}function Hr(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var Ei=function(e){pD(t,e);var r=hD(t);function t(){var n;cD(this,t);for(var i=arguments.length,a=new Array(i),c=0;c<i;c++)a[c]=arguments[c];return n=r.call.apply(r,[this].concat(a)),Hr(Rr(n),"startTime",void 0),Hr(Rr(n),"contextMenuTime",void 0),Hr(Rr(n),"clickTimer",void 0),Hr(Rr(n),"textRef",Object(ie.f)()),Hr(Rr(n),"getAdjustPointShape",function(h,m){var x=n.props.model,w=x.getAdjustPointStyle();return Object(ie.g)(hi,Oi({className:"lf-edge-adjust-point"},w,{x:h,y:m}))}),Hr(Rr(n),"handleHover",function(h,m){var x=n.props,w=x.model,j=x.graphModel.eventCenter;w.setHovered(h);var B=h?nt.EDGE_MOUSEENTER:nt.EDGE_MOUSELEAVE,G=w.getData();j.emit(B,{data:G,e:m})}),Hr(Rr(n),"setHoverON",function(h){var m=n.props.model.isHovered;m||(n.textRef&&n.textRef.current.setHoverON(),n.handleHover(!0,h))}),Hr(Rr(n),"setHoverOFF",function(h){var m=n.props.model.isHovered;m&&(n.textRef&&n.textRef.current.setHoverOFF(),n.handleHover(!1,h))}),Hr(Rr(n),"handleContextMenu",function(h){h.preventDefault(),n.contextMenuTime=new Date().getTime(),n.clickTimer&&clearTimeout(n.clickTimer);var m=n.props,x=m.model,w=m.graphModel,j=w.getPointByClient({x:h.clientX,y:h.clientY});w.setElementStateById(x.id,bt.SHOW_MENU,j.domOverlayPosition),n.toFront(),x.isSelected||w.selectEdgeById(x.id);var B=x==null?void 0:x.getData();w.eventCenter.emit(nt.EDGE_CONTEXTMENU,{data:B,e:h,position:j})}),Hr(Rr(n),"handleMouseDown",function(h){h.stopPropagation(),n.startTime=new Date().getTime()}),Hr(Rr(n),"handleMouseUp",function(h){if(n.startTime){var m=new Date().getTime()-n.startTime;if(!(m>200)){var x=h.button===2;if(!x){var w=h.detail===2,j=n.props,B=j.model,G=j.graphModel,K=B==null?void 0:B.getData(),oe=G.getPointByClient({x:h.clientX,y:h.clientY});if(w){var ne=G.editConfigModel,ae=G.textEditElement;if(ae&&ae.id===B.id&&G.setElementStateById(B.id,bt.DEFAULT),ne.edgeTextEdit&&B.text.editable&&G.setElementStateById(B.id,bt.TEXT_EDIT),B.modelType===pt.POLYLINE_EDGE){var we=B,Ce=G.getPointByClient({x:h.x,y:h.y}),ye=Ce.canvasOverlayPosition,Le=ye.x,Ne=ye.y,Ue=Gh({x:Le,y:Ne},we.points);we.dbClickPosition=Ue}G.eventCenter.emit(nt.EDGE_DBCLICK,{data:K,e:h,position:oe})}else G.eventCenter.emit(nt.ELEMENT_CLICK,{data:K,e:h,position:oe}),G.eventCenter.emit(nt.EDGE_CLICK,{data:K,e:h,position:oe});var De=G.editConfigModel;G.selectEdgeById(B.id,Gp(h,De)),n.toFront()}}}}),n}return dD(t,[{key:"getShape",value:function(){return Object(ie.g)("g",null,this.getEdge())}},{key:"getTextStyle",value:function(){}},{key:"getText",value:function(){var i=this.props,a=i.model,c=i.graphModel;if(a.state===bt.TEXT_EDIT)return null;var h=!1,m=c.editConfigModel;return(a.text.draggable||m.edgeTextDraggable)&&(h=!0),Object(ie.g)(qN,{ref:this.textRef,editable:m.edgeTextEdit&&a.text.editable,model:a,graphModel:c,draggable:h})}},{key:"getArrowInfo",value:function(){var i=this.props.model,a=i.startPoint,c=i.endPoint,h=i.isSelected,m=this.state,x=m.hover;return{start:a,end:c,hover:x,isSelected:h}}},{key:"getArrowStyle",value:function(){return console.error("getArrowStyle is deprecated in 1.2.0, please use model.getArrowStyle"),null}},{key:"getArrow",value:function(){var i=this.props.model,a=i.id,c=i.getArrowStyle(),h=c.refY,m=h===void 0?0:h,x=c.refX,w=x===void 0?2:x;return Object(ie.g)("g",null,Object(ie.g)("defs",null,Object(ie.g)("marker",{id:"marker-start-".concat(a),refX:-w,refY:m,overflow:"visible",orient:"auto",markerUnits:"userSpaceOnUse"},this.getStartArrow()),Object(ie.g)("marker",{id:"marker-end-".concat(a),refX:w,refY:m,overflow:"visible",orient:"auto",markerUnits:"userSpaceOnUse"},this.getEndArrow())))}},{key:"getStartArrow",value:function(){var i=this.props.model,a=i.getArrowStyle(),c=a.stroke,h=a.strokeWidth,m=a.offset,x=a.verticalLength;return Object(ie.g)("path",{stroke:c,fill:c,strokeWidth:h,d:"M 0 0 L ".concat(m," -").concat(x," L ").concat(m," ").concat(x," Z")})}},{key:"getEndArrow",value:function(){var i=this.props.model,a=i.getArrowStyle(),c=a.stroke,h=a.strokeWidth,m=a.offset,x=a.verticalLength;return Object(ie.g)("path",{stroke:c,fill:c,strokeWidth:h,transform:"rotate(180)",d:"M 0 0 L ".concat(m," -").concat(x," L ").concat(m," ").concat(x," Z")})}},{key:"getAdjustPoints",value:function(){var i=this.props,a=i.model,c=i.graphModel,h=a.getAdjustStart(),m=a.getAdjustEnd();return Object(ie.g)("g",null,Object(ie.g)(Bg,Oi({type:"SOURCE"},h,{getAdjustPointShape:this.getAdjustPointShape,edgeModel:a,graphModel:c})),Object(ie.g)(Bg,Oi({type:"TARGET"},m,{getAdjustPointShape:this.getAdjustPointShape,edgeModel:a,graphModel:c})))}},{key:"getAnimation",value:function(){console.error("getAnimation is deprecated in 1.2.0, please use model.getEdgeAnimationStyle")}},{key:"getAppendWidth",value:function(){return Object(ie.g)("g",null)}},{key:"getAppend",value:function(){return Object(ie.g)("g",{className:"lf-edge-append"},this.getAppendWidth())}},{key:"getEdge",value:function(){return null}},{key:"toFront",value:function(){var i=this.props,a=i.graphModel,c=i.model,h=a.overlapMode;h!==Er.INCREASE&&a.toFront(c.id)}},{key:"render",value:function(){var i=this.props,a=i.model,c=a.isSelected,h=a.isHitable,m=a.isShowAdjustPoint,x=i.graphModel;return x.animation,Object(ie.g)("g",null,Object(ie.g)("g",{className:["lf-edge",!h&&"pointer-none",c&&"lf-edge-selected"].filter(Boolean).join(" "),onMouseDown:this.handleMouseDown,onMouseUp:this.handleMouseUp,onContextMenu:this.handleContextMenu,onMouseOver:this.setHoverON,onMouseEnter:this.setHoverON,onMouseLeave:this.setHoverOFF},this.getShape(),this.getAppend(),this.getText(),this.getArrow()),m&&c?this.getAdjustPoints():"")}}]),t}(ie.a);function bl(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?bl=function(t){return typeof t}:bl=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bl(e)}function gD(e,r){return ED(e)||OD(e,r)||bD(e,r)||mD()}function mD(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bD(e,r){if(e){if(typeof e=="string")return zg(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return zg(e,r)}}function zg(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function OD(e,r){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],i=!0,a=!1,c,h;try{for(t=t.call(e);!(i=(c=t.next()).done)&&(n.push(c.value),!(r&&n.length===r));i=!0);}catch(m){a=!0,h=m}finally{try{!i&&t.return!=null&&t.return()}finally{if(a)throw h}}return n}}function ED(e){if(Array.isArray(e))return e}function xD(e){var r={d:""};return Object.entries(e).forEach(function(t){var n=gD(t,2),i=n[0],a=n[1],c=bl(a);(i==="style"||c!=="object")&&(r[i]=a)}),Object(ie.g)("path",r)}var xi=xD;function Ol(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ol=function(t){return typeof t}:Ol=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ol(e)}function Lc(){return Lc=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},Lc.apply(this,arguments)}function SD(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Fg(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function PD(e,r,t){return r&&Fg(e.prototype,r),t&&Fg(e,t),e}function MD(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Bc(e,r)}function Bc(e,r){return Bc=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},Bc(e,r)}function TD(e){var r=ND();return function(){var n=El(e),i;if(r){var a=El(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return wD(this,i)}}function wD(e,r){if(r&&(Ol(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return AD(e)}function AD(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ND(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function El(e){return El=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},El(e)}var _c=function(e){MD(t,e);var r=TD(t);function t(){return SD(this,t),r.apply(this,arguments)}return PD(t,[{key:"getEdge",value:function(){var i=this.props.model,a=i.startPoint,c=i.endPoint,h=i.isAnimation,m=i.arrowConfig,x=i.getEdgeStyle(),w=i.getEdgeAnimationStyle(),j=w.strokeDasharray,B=w.stroke,G=w.strokeDashoffset,K=w.animationName,oe=w.animationDuration,ne=w.animationIterationCount,ae=w.animationTimingFunction,we=w.animationDirection;return Object(ie.g)(wo,Lc({},x,{x1:a.x,y1:a.y,x2:c.x,y2:c.y},m,h?{strokeDasharray:j,stroke:B,style:{strokeDashoffset:G,animationName:K,animationDuration:oe,animationIterationCount:ne,animationTimingFunction:ae,animationDirection:we}}:{}))}},{key:"getAppendWidth",value:function(){var i=this.props.model,a=i.startPoint,c=i.endPoint,h={start:a,end:c},m=OM(h),x=m.d,w=m.strokeWidth,j=m.fill,B=m.strokeDasharray,G=m.stroke;return Object(ie.g)(xi,{d:x,fill:j,strokeWidth:w,stroke:G,strokeDasharray:B})}}]),t}(Ei);function xl(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?xl=function(t){return typeof t}:xl=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xl(e)}function DD(e,r){return RD(e)||ID(e,r)||CD(e,r)||jD()}function jD(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function CD(e,r){if(e){if(typeof e=="string")return Gg(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Gg(e,r)}}function Gg(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function ID(e,r){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],i=!0,a=!1,c,h;try{for(t=t.call(e);!(i=(c=t.next()).done)&&(n.push(c.value),!(r&&n.length===r));i=!0);}catch(m){a=!0,h=m}finally{try{!i&&t.return!=null&&t.return()}finally{if(a)throw h}}return n}}function RD(e){if(Array.isArray(e))return e}function LD(e){var r={points:"",fill:"none"};return Object.entries(e).forEach(function(t){var n=DD(t,2),i=n[0],a=n[1];if(i==="style")r[i]=a;else{var c=xl(a);c!=="object"&&(r[i]=a)}}),Object(ie.g)("polyline",r)}var BD=LD;function Sl(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Sl=function(t){return typeof t}:Sl=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sl(e)}function Hg(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),t.push.apply(t,n)}return t}function Pl(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?Hg(Object(t),!0).forEach(function(n){gn(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Hg(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function zc(){return zc=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},zc.apply(this,arguments)}function _D(e,r){return HD(e)||GD(e,r)||FD(e,r)||zD()}function zD(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function FD(e,r){if(e){if(typeof e=="string")return $g(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return $g(e,r)}}function $g(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function GD(e,r){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],i=!0,a=!1,c,h;try{for(t=t.call(e);!(i=(c=t.next()).done)&&(n.push(c.value),!(r&&n.length===r));i=!0);}catch(m){a=!0,h=m}finally{try{!i&&t.return!=null&&t.return()}finally{if(a)throw h}}return n}}function HD(e){if(Array.isArray(e))return e}function $D(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function kg(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function kD(e,r,t){return r&&kg(e.prototype,r),t&&kg(e,t),e}function UD(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Fc(e,r)}function Fc(e,r){return Fc=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},Fc(e,r)}function XD(e){var r=WD();return function(){var n=Ml(e),i;if(r){var a=Ml(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return YD(this,i)}}function YD(e,r){if(r&&(Sl(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return yn(e)}function yn(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function WD(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Ml(e){return Ml=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Ml(e)}function gn(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var Gc=function(e){UD(t,e);var r=XD(t);function t(){var n;return $D(this,t),n=r.call(this),gn(yn(n),"drag",void 0),gn(yn(n),"isDragging",void 0),gn(yn(n),"isShowAdjustPointTemp",void 0),gn(yn(n),"appendInfo",void 0),gn(yn(n),"onDragStart",function(){var i=n.props.model;i.dragAppendStart(),n.isShowAdjustPointTemp=i.isShowAdjustPoint,i.isShowAdjustPoint=!1}),gn(yn(n),"onDragging",function(i){var a=i.deltaX,c=i.deltaY,h=n.props,m=h.model,x=h.graphModel;n.isDragging=!0;var w=x.transformModel,j=x.editConfigModel,B=w.fixDeltaXY(a,c),G=_D(B,2),K=G[0],oe=G[1],ne=m,ae=j.adjustEdgeMiddle;ae?n.appendInfo=ne.dragAppendSimple(n.appendInfo,{x:K,y:oe}):n.appendInfo=ne.dragAppend(n.appendInfo,{x:K,y:oe})}),gn(yn(n),"onDragEnd",function(){var i=n.props,a=i.model,c=i.graphModel.eventCenter,h=a;h.dragAppendEnd(),n.isDragging=!1,h.isShowAdjustPoint=n.isShowAdjustPointTemp,n.appendInfo=void 0,c.emit(nt.EDGE_ADJUST,{data:h.getData()})}),gn(yn(n),"beforeDragStart",function(i,a){a.dragAble&&n.drag.handleMouseDown(i),n.appendInfo=a}),n.drag=new un({onDragStart:n.onDragStart,onDragging:n.onDragging,onDragEnd:n.onDragEnd,isStopPropagation:!1}),n}return kD(t,[{key:"getEdge",value:function(){var i=this.props.model,a=i.points,c=i.isAnimation,h=i.arrowConfig,m=i.getEdgeStyle(),x=i.getEdgeAnimationStyle(),w=x.strokeDasharray,j=x.stroke,B=x.strokeDashoffset,G=x.animationName,K=x.animationDuration,oe=x.animationIterationCount,ne=x.animationTimingFunction,ae=x.animationDirection;return Object(ie.g)(BD,zc({points:a},m,h,c?{strokeDasharray:w,stroke:j,style:{strokeDashoffset:B,animationName:G,animationDuration:K,animationIterationCount:oe,animationTimingFunction:ne,animationDirection:ae}}:{}))}},{key:"getArrowInfo",value:function(){var i=this.props.model,a=i.points,c=i.isSelected,h=this.state,m=h.hover,x={start:null,end:null,hover:m,isSelected:c},w=Po(a);return w.length>=2&&(x.start=w[w.length-2],x.end=w[w.length-1]),x}},{key:"getAppendAttributes",value:function(i){var a=i.start,c=i.end,h;if(a.x===c.x&&a.y===c.y)h="";else{var m={start:a,end:c,offset:10,verticalLength:5},x=ui(Pl(Pl({},m),{},{type:"start"})),w=ui(Pl(Pl({},m),{},{type:"end"}));h="M".concat(x.leftX," ").concat(x.leftY,` 
      L`).concat(x.rightX," ").concat(x.rightY,` 
      L`).concat(w.rightX," ").concat(w.rightY,`
      L`).concat(w.leftX," ").concat(w.leftY," z")}return{d:h,fill:"transparent",stroke:"transparent",strokeWidth:1,strokeDasharray:"4, 4"}}},{key:"getAppendShape",value:function(i){var a=this.getAppendAttributes(i),c=a.d,h=a.strokeWidth,m=a.fill,x=a.strokeDasharray,w=a.stroke;return Object(ie.g)(xi,{d:c,fill:m,strokeWidth:h,stroke:w,strokeDasharray:x})}},{key:"getAppendWidth",value:function(){for(var i=this,a=this.props,c=a.model,h=a.graphModel,m=c.pointsList,x=c.draggable,w=[],j=m.length,B=function(oe){var ne="lf-polyline-append",ae={start:{x:m[oe].x,y:m[oe].y},end:{x:m[oe+1].x,y:m[oe+1].y},startIndex:oe,endIndex:oe+1,direction:"",dragAble:!0},we=Object(ie.g)("g",{className:ne},i.getAppendShape(ae)),Ce=h.editConfigModel,ye=Ce.adjustEdge,Le=Ce.adjustEdgeMiddle;if(ye&&x){var Ne=ae.startIndex,Ue=ae.endIndex,De=Le&&(Ne===0||Ue===j-1);ae.dragAble=!De,ae.start.x===ae.end.x?(ae.dragAble&&(ne+="-ew-resize"),ae.direction=Dt.VERTICAL):ae.start.y===ae.end.y&&(ae.dragAble&&(ne+="-ns-resize"),ae.direction=Dt.HORIZONTAL),we=Object(ie.g)("g",{className:i.isDragging?"lf-dragging":"lf-drag-able",onMouseDown:function(ht){return i.beforeDragStart(ht,ae)}},Object(ie.g)("g",{className:ne},i.getAppendShape(ae)))}w.push(we)},G=0;G<j-1;G++)B(G);return Object(ie.g)("g",null,w)}}]),t}(Ei);function Tl(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Tl=function(t){return typeof t}:Tl=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tl(e)}function KD(e,r){return QD(e)||JD(e,r)||ZD(e,r)||VD()}function VD(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ZD(e,r){if(e){if(typeof e=="string")return Ug(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Ug(e,r)}}function Ug(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function JD(e,r){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],i=!0,a=!1,c,h;try{for(t=t.call(e);!(i=(c=t.next()).done)&&(n.push(c.value),!(r&&n.length===r));i=!0);}catch(m){a=!0,h=m}finally{try{!i&&t.return!=null&&t.return()}finally{if(a)throw h}}return n}}function QD(e){if(Array.isArray(e))return e}function Hc(){return Hc=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},Hc.apply(this,arguments)}function qD(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Xg(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ej(e,r,t){return r&&Xg(e.prototype,r),t&&Xg(e,t),e}function tj(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&$c(e,r)}function $c(e,r){return $c=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},$c(e,r)}function rj(e){var r=ij();return function(){var n=wl(e),i;if(r){var a=wl(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return nj(this,i)}}function nj(e,r){if(r&&(Tl(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return oj(e)}function oj(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ij(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function wl(e){return wl=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},wl(e)}var kc=function(e){tj(t,e);var r=rj(t);function t(){return qD(this,t),r.apply(this,arguments)}return ej(t,[{key:"getEdge",value:function(){var i=this.props.model,a=i.getEdgeStyle(),c=i.path,h=i.isAnimation,m=i.arrowConfig,x=i.getEdgeAnimationStyle(),w=x.strokeDasharray,j=x.stroke,B=x.strokeDashoffset,G=x.animationName,K=x.animationDuration,oe=x.animationIterationCount,ne=x.animationTimingFunction,ae=x.animationDirection;return Object(ie.g)(xi,Hc({d:c},a,m,h?{strokeDasharray:w,stroke:j,style:{strokeDashoffset:B,animationName:G,animationDuration:K,animationIterationCount:oe,animationTimingFunction:ne,animationDirection:ae}}:{}))}},{key:"getAppendWidth",value:function(){var i=this.props.model.path;return Object(ie.g)(xi,{d:i,strokeWidth:10,stroke:"transparent",fill:"none"})}},{key:"getArrowInfo",value:function(){var i=this.props.model,a=this.state,c=a.hover,h=i,m=h.path,x=h.isSelected,w=EM(m),j=KD(w,2),B=j[0],G=j[1],K={start:B,end:G,hover:c,isSelected:x};return K}}]),t}(Ei);function Al(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Al=function(t){return typeof t}:Al=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Al(e)}function Yg(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),t.push.apply(t,n)}return t}function aj(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?Yg(Object(t),!0).forEach(function(n){sj(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Yg(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function sj(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function lj(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Wg(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function uj(e,r,t){return r&&Wg(e.prototype,r),t&&Wg(e,t),e}function fj(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Uc(e,r)}function Uc(e,r){return Uc=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},Uc(e,r)}function cj(e){var r=hj();return function(){var n=Nl(e),i;if(r){var a=Nl(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return dj(this,i)}}function dj(e,r){if(r&&(Al(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return pj(e)}function pj(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function hj(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Nl(e){return Nl=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Nl(e)}var vj=function(e){fj(t,e);var r=cj(t);function t(){return lj(this,t),r.apply(this,arguments)}return uj(t,[{key:"getArrowAttributes",value:function(){var i=this.props,a=i.arrowInfo,c=i.style,h=a.start,m=a.end,x={start:h,end:m,offset:c.offset,verticalLength:c.verticalLength,type:"end"},w=ui(x),j=w.leftX,B=w.leftY,G=w.rightX,K=w.rightY;return aj({d:"M".concat(j," ").concat(B," L").concat(m.x," ").concat(m.y," L").concat(G," ").concat(K," z")},c)}},{key:"getShape",value:function(){var i=this.getArrowAttributes(),a=i.d,c=i.strokeWidth,h=i.stroke,m=i.fill;return Object(ie.g)(xi,{d:a,fill:m,strokeWidth:c,stroke:h})}},{key:"render",value:function(){return Object(ie.g)("g",{className:"lf-arrow"},this.getShape())}}]),t}(ie.a);function yj(e,r){return Yu(e,r)}var Kg=yj;function gj(e){var r=e==null?0:e.length;return r?e[r-1]:void 0}var mj=gj,bj=function(){return Tr.a.Date.now()},Xc=bj,Oj=/\s/;function Ej(e){for(var r=e.length;r--&&Oj.test(e.charAt(r)););return r}var xj=Ej,Sj=/^\s+/;function Pj(e){return e&&e.slice(0,xj(e)+1).replace(Sj,"")}var Mj=Pj,Vg=0/0,Tj=/^[-+]0x[0-9a-f]+$/i,wj=/^0b[01]+$/i,Aj=/^0o[0-7]+$/i,Nj=parseInt;function Dj(e){if(typeof e=="number")return e;if(Ea(e))return Vg;if(Mt(e)){var r=typeof e.valueOf=="function"?e.valueOf():e;e=Mt(r)?r+"":r}if(typeof e!="string")return e===0?e:+e;e=Mj(e);var t=wj.test(e);return t||Aj.test(e)?Nj(e.slice(2),t?2:8):Tj.test(e)?Vg:+e}var Zg=Dj,jj="Expected a function",Cj=Math.max,Ij=Math.min;function Rj(e,r,t){var n,i,a,c,h,m,x=0,w=!1,j=!1,B=!0;if(typeof e!="function")throw new TypeError(jj);r=Zg(r)||0,Mt(t)&&(w=!!t.leading,j="maxWait"in t,a=j?Cj(Zg(t.maxWait)||0,r):a,B="trailing"in t?!!t.trailing:B);function G(Ne){var Ue=n,De=i;return n=i=void 0,x=Ne,c=e.apply(De,Ue),c}function K(Ne){return x=Ne,h=setTimeout(ae,r),w?G(Ne):c}function oe(Ne){var Ue=Ne-m,De=Ne-x,ot=r-Ue;return j?Ij(ot,a-De):ot}function ne(Ne){var Ue=Ne-m,De=Ne-x;return m===void 0||Ue>=r||Ue<0||j&&De>=a}function ae(){var Ne=Xc();if(ne(Ne))return we(Ne);h=setTimeout(ae,oe(Ne))}function we(Ne){return h=void 0,B&&n?G(Ne):(n=i=void 0,c)}function Ce(){h!==void 0&&clearTimeout(h),x=0,n=m=i=h=void 0}function ye(){return h===void 0?c:we(Xc())}function Le(){var Ne=Xc(),Ue=ne(Ne);if(n=arguments,i=this,m=Ne,Ue){if(h===void 0)return K(m);if(j)return clearTimeout(h),h=setTimeout(ae,r),G(m)}return h===void 0&&(h=setTimeout(ae,r)),c}return Le.cancel=Ce,Le.flush=ye,Le}var Lj=Rj,Bj=o(166);function _j(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Jg(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function zj(e,r,t){return r&&Jg(e.prototype,r),t&&Jg(e,t),e}function Gn(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var Fj=function(){function e(r){_j(this,e),Gn(this,"undos",[]),Gn(this,"redos",[]),Gn(this,"callbacks",[]),Gn(this,"stopWatch",null),Gn(this,"curData",null),Gn(this,"maxSize",50),Gn(this,"waitTime",100),Gn(this,"eventCenter",void 0),this.eventCenter=r}return zj(e,[{key:"add",value:function(t){Kg(mj(this.undos),t)||(this.undos.push(t),Kg(this.curData,t)||(this.redos=[]),this.eventCenter.emit(nt.HISTORY_CHANGE,{data:{undos:this.undos,redos:this.redos,undoAble:this.undos.length>1,redoAble:this.redos.length>0}}),this.undos.length>this.maxSize&&this.undos.shift())}},{key:"undoAble",value:function(){return this.undos.length>1}},{key:"undo",value:function(){if(this.undoAble()){var t=this.undos.pop();this.redos.push(t);var n=this.undos.pop();return this.curData=Rt(n),n}}},{key:"redoAble",value:function(){return this.redos.length>0}},{key:"redo",value:function(){if(this.redoAble()){var t=this.redos.pop();return this.curData=Rt(t),t}}},{key:"watch",value:function(t){var n=this;this.stopWatch&&this.stopWatch(),this.undos.push(t.modelToGraphData()),this.stopWatch=Object(Bj.a)(t,Lj(function(){var i=t.modelToHistoryData();i&&n.add(i)},this.waitTime))}}]),e}(),Gj=Fj;function Dl(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Dl=function(t){return typeof t}:Dl=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dl(e)}var Qg,qg,em;function Hj(e,r){return Xj(e)||Uj(e,r)||kj(e,r)||$j()}function $j(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kj(e,r){if(e){if(typeof e=="string")return tm(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return tm(e,r)}}function tm(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function Uj(e,r){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],i=!0,a=!1,c,h;try{for(t=t.call(e);!(i=(c=t.next()).done)&&(n.push(c.value),!(r&&n.length===r));i=!0);}catch(m){a=!0,h=m}finally{try{!i&&t.return!=null&&t.return()}finally{if(a)throw h}}return n}}function Xj(e){if(Array.isArray(e))return e}function rm(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),t.push.apply(t,n)}return t}function Fo(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?rm(Object(t),!0).forEach(function(n){oo(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):rm(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function Yj(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function nm(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Wj(e,r,t){return r&&nm(e.prototype,r),t&&nm(e,t),e}function Kj(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Yc(e,r)}function Yc(e,r){return Yc=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},Yc(e,r)}function Vj(e){var r=Jj();return function(){var n=jl(e),i;if(r){var a=jl(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return Zj(this,i)}}function Zj(e,r){if(r&&(Dl(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Go(e)}function Go(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Jj(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function jl(e){return jl=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},jl(e)}function oo(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var Wc=$r(Qg=(em=qg=function(e){Kj(t,e);var r=Vj(t);function t(){var n;return Yj(this,t),n=r.call(this),oo(Go(n),"ref",Object(ie.f)()),oo(Go(n),"__prevText",{type:"",text:"",id:""}),oo(Go(n),"keyupHandler",function(i){var a=n.props.graphModel.textEditElement;i.key==="Enter"&&i.altKey&&a.setElementState(0)}),oo(Go(n),"inputHandler",function(i){var a=i.target,c=a.innerText,h=n.props.graphModel.textEditElement;n.__prevText={type:h.type,text:c.replace(/(\r\n)+$|(\n)+$/,""),id:h.id}}),oo(Go(n),"keydownHandler",function(i){i.stopPropagation()}),n.state={style:{left:0,top:0}},n}return Wj(t,[{key:"componentDidUpdate",value:function(){var i=this.props.graphModel;if(this.ref.current&&(this.ref.current.focus(),this.placeCaretAtEnd(this.ref.current)),this.__prevText.id!==""){var a=this.__prevText,c=a.text,h=a.id;i.updateText(h,c),i.eventCenter.emit(nt.TEXT_UPDATE,Fo({},this.__prevText)),this.__prevText.id="",this.__prevText.text="",this.__prevText.type=""}}},{key:"placeCaretAtEnd",value:function(i){if(window.getSelection!==void 0&&document.createRange!==void 0){var a=document.createRange();a.selectNodeContents(i),a.collapse(!1);var c=window.getSelection();c.removeAllRanges(),c.addRange(a)}}},{key:"render",value:function(){var i,a=this.props.graphModel.textEditElement,c=this.state.style;return a?Object(ie.g)("div",{contentEditable:!0,className:"lf-text-input",style:c,ref:this.ref,key:a.id,onKeyUp:this.keyupHandler,onKeyDown:this.keydownHandler,onKeyPress:this.keydownHandler,onInput:this.inputHandler},(i=a.text)===null||i===void 0?void 0:i.value):null}}],[{key:"getDerivedStateFromProps",value:function(i){var a=i.graphModel,c=a.transformModel,h=a.theme,m=a.textEditElement,x;if(m){var w;if(!((w=m.text)!==null&&w!==void 0&&w.value))if(m.BaseType===zt.EDGE){m=m;var j=m.text,B=m.textPosition,G=B.x,K=B.y;j.x=G,j.y=K,m.setText(j)}else m=m;var oe={resize:"auto",whiteSpace:"normal",wordBreak:"break-all"};if(m.BaseType===zt.EDGE){var ne=h.edgeText,ae=ne.overflowMode,we=ne.lineHeight,Ce=ne.wrapPadding,ye=ne.textWidth;ye&&ae==="autoWrap"&&(x=Fo(Fo({},oe),{},{width:ye,minWidth:ye,lineHeight:we,padding:Ce}))}else if(m.BaseType===zt.NODE){var Le=h.nodeText,Ne=Le.overflowMode,Ue=Le.lineHeight,De=Le.wrapPadding,ot=Le.textWidth,ht=m,Ht=ht.width,Wt=ht.modelType;(Wt!==pt.TEXT_NODE&&Ne==="autoWrap"||Wt===pt.TEXT_NODE&&ot)&&(x=Fo(Fo({},oe),{},{width:ot||Ht,minWidth:ot||Ht,lineHeight:Ue,padding:De}))}var or=m.text,hr=or.x,io=or.y,Ho=c.CanvasPointToHtmlPoint([hr,io]),Hn=Hj(Ho,2),$o=Hn[0],qc=Hn[1];return{style:Fo({left:$o,top:qc},x)}}}}]),t}(ie.a),oo(qg,"toolName","textEdit"),em))||Qg,Qj=function(r){var t=r.x,n=r.y,i=r.width,a=r.height;return{x:t-i/2,y:n-a/2,x1:t+i/2,y1:n+a/2}},qj=function(r){var t=r.startPoint,n=r.endPoint,i=(t.x+n.x)/2,a=(t.y+n.y)/2,c=Math.abs(t.x-n.x)+10,h=Math.abs(t.y-n.y)+10;return{x:i-c/2,y:a-h/2,x1:i+c/2,y1:a+h/2}},eC=function(r){var t=r.points,n=Po(t),i=fi(n,8),a=i.x,c=i.y,h=i.width,m=i.height;return{x:a-h/2,y:c-m/2,x1:a+h/2,y1:c+m/2}},tC=function(r){var t=r.path,n=ka(t),i=fi(n,8),a=i.x,c=i.y,h=i.width,m=i.height;return{x:a-h/2,y:c-m/2,x1:a+h/2,y1:c+m/2}},rC=function(r){if(r.modelType===pt.LINE_EDGE)return qj(r);if(r.modelType===pt.POLYLINE_EDGE)return eC(r);if(r.modelType===pt.BEZIER_EDGE)return tC(r)};function Cl(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Cl=function(t){return typeof t}:Cl=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cl(e)}var om,im,am;function sm(e,r){return iC(e)||oC(e,r)||lm(e,r)||nC()}function nC(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oC(e,r){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],i=!0,a=!1,c,h;try{for(t=t.call(e);!(i=(c=t.next()).done)&&(n.push(c.value),!(r&&n.length===r));i=!0);}catch(m){a=!0,h=m}finally{try{!i&&t.return!=null&&t.return()}finally{if(a)throw h}}return n}}function iC(e){if(Array.isArray(e))return e}function aC(e){return uC(e)||lC(e)||lm(e)||sC()}function sC(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lm(e,r){if(e){if(typeof e=="string")return Kc(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Kc(e,r)}}function lC(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function uC(e){if(Array.isArray(e))return Kc(e)}function Kc(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function fC(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function um(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function cC(e,r,t){return r&&um(e.prototype,r),t&&um(e,t),e}function dC(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Vc(e,r)}function Vc(e,r){return Vc=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},Vc(e,r)}function pC(e){var r=vC();return function(){var n=Il(e),i;if(r){var a=Il(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return hC(this,i)}}function hC(e,r){if(r&&(Cl(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Si(e)}function Si(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function vC(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Il(e){return Il=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Il(e)}function Pi(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var Zc=$r(om=(am=im=function(e){dC(t,e);var r=pC(t);function t(n){var i;fC(this,t),i=r.call(this),Pi(Si(i),"stepDrag",void 0),Pi(Si(i),"handleMouseDown",function(m){i.stepDrag.handleMouseDown(m)}),Pi(Si(i),"onDragging",function(m){var x=m.deltaX,w=m.deltaY,j=i.props.graphModel,B=j.getSelectElements(!0);j.moveNodes(B.nodes.map(function(G){return G.id}),x,w)}),Pi(Si(i),"handleContextMenu",function(m){m.preventDefault();var x=i.props,w=x.graphModel,j=x.graphModel,B=j.eventCenter,G=j.selectElements,K=w.getPointByClient({x:m.clientX,y:m.clientY}),oe={nodes:[],edges:[]},ne=aC(G.values());ne.forEach(function(ae){ae.BaseType===zt.NODE&&oe.nodes.push(ae.getData()),ae.BaseType===zt.EDGE&&oe.edges.push(ae.getData())}),B.emit(nt.SELECTION_CONTEXTMENU,{data:oe,e:m,position:K})});var a=n.graphModel,c=a.gridSize,h=a.eventCenter;return i.stepDrag=new un({onDragging:i.onDragging,step:c,eventType:"SELECTION",eventCenter:h}),i}return cC(t,[{key:"render",value:function(){var i=this.props.graphModel,a=i.selectElements,c=i.transformModel;if(!(a.size<=1)){var h=Number.MAX_SAFE_INTEGER,m=Number.MAX_SAFE_INTEGER,x=Number.MIN_SAFE_INTEGER,w=Number.MIN_SAFE_INTEGER;a.forEach(function(ne){var ae={x:0,y:0,x1:0,y1:0};ne.BaseType===zt.NODE&&(ae=Qj(ne)),ne.BaseType===zt.EDGE&&(ae=rC(ne)),h=Math.min(h,ae.x),m=Math.min(m,ae.y),x=Math.max(x,ae.x1),w=Math.max(w,ae.y1)});var j=c.CanvasPointToHtmlPoint([h,m]),B=sm(j,2);h=B[0],m=B[1];var G=c.CanvasPointToHtmlPoint([x,w]),K=sm(G,2);x=K[0],w=K[1];var oe={left:"".concat(h-10,"px"),top:"".concat(m-10,"px"),width:"".concat(x-h+20,"px"),height:"".concat(w-m+20,"px")};return Object(ie.g)("div",{className:"lf-multiple-select",style:oe,onMouseDown:this.handleMouseDown,onContextMenu:this.handleContextMenu})}}}]),t}(ie.a),Pi(im,"toolName","multipleSelect"),am))||om;function yC(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function fm(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function gC(e,r,t){return r&&fm(e.prototype,r),t&&fm(e,t),e}function Rl(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var mC=function(){function e(r){yC(this,e),Rl(this,"tools",void 0),Rl(this,"components",void 0),Rl(this,"toolMap",new Map),Rl(this,"instance",void 0),this.instance=r,this.isDisabledTool(Wc.toolName)||this.registerTool(Wc.toolName,Wc),this.isDisabledTool(Zc.toolName)||this.registerTool(Zc.toolName,Zc);var t=r.graphModel,n=t.eventCenter;n.on("".concat(nt.GRAPH_TRANSFORM,",").concat(nt.NODE_CLICK,",").concat(nt.BLANK_CLICK," "),function(){var i=t.textEditElement,a=t.editConfigModel,c=a.edgeTextEdit,h=a.nodeTextEdit;(c||h)&&i&&t.textEditElement.setElementState(bt.DEFAULT)})}return gC(e,[{key:"isDisabledTool",value:function(t){return this.instance.options.disabledTools.indexOf(t)!==-1}},{key:"registerTool",value:function(t,n){this.toolMap.set(t,n)}},{key:"getTools",value:function(){return Array.from(this.toolMap.values())}},{key:"getInstance",value:function(){return this.instance}}]),e}(),bC=o(167),OC=o.n(bC);function EC(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function cm(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function xC(e,r,t){return r&&cm(e.prototype,r),t&&cm(e,t),e}function Jc(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var dm=function(){function e(r){EC(this,e),Jc(this,"mousetrap",void 0),Jc(this,"options",void 0),Jc(this,"target",void 0),r.keyboard||(r.keyboard={enabled:!1}),this.options=r;var t=r.lf;this.target=t.container,this.mousetrap=new OC.a,r.keyboard.enabled&&this.enable(!0)}return xC(e,[{key:"initShortcuts",value:function(){var t=this,n=this.options.keyboard.shortcuts;if(n)if(p(n))n.forEach(function(h){var m=h.keys,x=h.callback,w=h.action;return t.on(m,x,w)});else{var i=n.keys,a=n.callback,c=n.action;this.on(i,a,c)}}},{key:"on",value:function(t,n,i){this.mousetrap.bind(this.getKeys(t),n,i)}},{key:"disabled",get:function(){return this.options.keyboard.enabled!==!0}},{key:"off",value:function(t,n){this.mousetrap.unbind(this.getKeys(t),n)}},{key:"enable",value:function(t){(this.disabled||t)&&(this.options.keyboard.enabled=!0,this.target instanceof HTMLElement&&(this.target.setAttribute("tabindex","-1"),this.target.style.outline="none"))}},{key:"disable",value:function(){this.disabled||(this.options.keyboard.enabled=!1,this.target instanceof HTMLElement&&this.target.removeAttribute("tabindex"))}},{key:"getKeys",value:function(t){var n=this;return(Array.isArray(t)?t:[t]).map(function(i){return n.formatKey(i)})}},{key:"formatKey",value:function(t){var n=t.toLowerCase().replace(/\s/g,"").replace("delete","del").replace("cmd","command");return n}}]),e}(),SC=dm,rn=null;function pm(e,r){return e.x+=r,e.y+=r,e.text&&(e.text.x+=r,e.text.y+=r),e}function hm(e,r){return e.startPoint&&(e.startPoint.x+=r,e.startPoint.y+=r),e.endPoint&&(e.endPoint.x+=r,e.endPoint.y+=r),e.pointsList&&e.pointsList.length>0&&e.pointsList.forEach(function(t){t.x+=r,t.y+=r}),e.text&&(e.text.x+=r,e.text.y+=r),e}var Ll=40;function PC(e,r){var t=e.keyboard,n=t.options.keyboard;t.on(["cmd + c","ctrl + c"],function(){if(n.enabled&&!r.textEditElement){var i=e.options.guards,a=r.getSelectElements(!1),c=i&&i.beforeClone?i.beforeClone(a):!0;return c?(rn=a,rn.nodes.forEach(function(h){return pm(h,Ll)}),rn.edges.forEach(function(h){return hm(h,Ll)}),!1):(rn=null,!1)}}),t.on(["cmd + v","ctrl + v"],function(){if(n.enabled&&!r.textEditElement){if(rn&&(rn.nodes||rn.edges)){e.clearSelectElements();var i=e.addElements(rn);if(!i)return;i.nodes.forEach(function(a){return e.selectElementById(a.id,!0)}),i.edges.forEach(function(a){return e.selectElementById(a.id,!0)}),rn.nodes.forEach(function(a){return pm(a,Ll)}),rn.edges.forEach(function(a){return hm(a,Ll)})}return!1}}),t.on(["cmd + z","ctrl + z"],function(){if(n.enabled&&!r.textEditElement)return e.undo(),!1}),t.on(["cmd + y","ctrl + y"],function(){if(n.enabled&&!r.textEditElement)return e.redo(),!1}),t.on(["backspace"],function(){if(n.enabled&&!r.textEditElement){var i=r.getSelectElements(!0);return e.clearSelectElements(),i.edges.forEach(function(a){return e.deleteEdge(a.id)}),i.nodes.forEach(function(a){return e.deleteNode(a.id)}),!1}})}function MC(e,r){e.on("node:mousemove",function(t){var n=t.data;r.setNodeSnapLine(n)}),e.on("node:mouseup",function(){r.clearSnapline()})}function Bl(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Bl=function(t){return typeof t}:Bl=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bl(e)}function vm(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),t.push.apply(t,n)}return t}function Mi(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?vm(Object(t),!0).forEach(function(n){_t(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):vm(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function TC(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function ym(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function wC(e,r,t){return r&&ym(e.prototype,r),t&&ym(e,t),e}function _t(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var Qc=function(){function e(r){var t=this;TC(this,e),_t(this,"container",void 0),_t(this,"width",void 0),_t(this,"height",void 0),_t(this,"graphModel",void 0),_t(this,"history",void 0),_t(this,"viewMap",new Map),_t(this,"tool",void 0),_t(this,"keyboard",void 0),_t(this,"dnd",void 0),_t(this,"options",void 0),_t(this,"snaplineModel",void 0),_t(this,"components",[]),_t(this,"plugins",void 0),_t(this,"extension",{}),_t(this,"adapterIn",void 0),_t(this,"adapterOut",void 0),_t(this,"getView",function(n){return t.viewMap.get(n)}),r=Gv(r),this.options=r,this.container=r.container,this.plugins=r.plugins,this.graphModel=new zM(Mi({},r)),this.tool=new mC(this),this.history=new Gj(this.graphModel.eventCenter),this.dnd=new Sw({lf:this}),this.keyboard=new SC({lf:this,keyboard:r.keyboard}),r.snapline!==!1&&(this.snaplineModel=new ag(this.graphModel),MC(this.graphModel.eventCenter,this.snaplineModel)),PC(this,this.graphModel),this.keyboard.initShortcuts(),this.defaultRegister(),this.installPlugins(r.disabledPlugins)}return wC(e,[{key:"register",value:function(t,n){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(typeof t!="string"){this.registerElement(t);return}var a={BaseEdge:Ei,BaseEdgeModel:pf,BaseNode:hn,BaseNodeModel:dn,RectNode:cc,RectNodeModel:qf,CircleNode:hc,CircleNodeModel:$f,PolygonNode:gc,PolygonNodeModel:Zf,TextNode:Mc,TextNodeModel:tc,LineEdge:_c,LineEdgeModel:yf,DiamondNode:Oc,DiamondNodeModel:Xf,PolylineEdge:Gc,PolylineEdgeModel:bf,BezierEdge:kc,BezierEdgeModel:Ff,EllipseNode:Sc,EllipseNodeModel:Wf,HtmlNode:Ac,HtmlNodeModel:nc,h:ie.g,type:t};this.viewMap.forEach(function(w){var j=w.extendKey;j&&(a[j]=w)}),this.graphModel.modelMap.forEach(function(w){var j=w.extendKey;j&&(a[j]=w)});var c=n(a),h=c.view,m=c.model,x=h;i&&!x.isObervered&&(x.isObervered=!0,x=Ot(x)),this.setView(t,x),this.graphModel.setModel(t,m)}},{key:"registerElement",value:function(t){var n=t.view;t.isObserverView!==!1&&!n.isObervered&&(n.isObervered=!0,n=Ot(n)),this.setView(t.type,n),this.graphModel.setModel(t.type,t.model)}},{key:"batchRegister",value:function(){var t=this,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];n.forEach(function(i){t.registerElement(i)})}},{key:"defaultRegister",value:function(){this.registerElement({view:cc,model:qf,type:"rect"}),this.registerElement({type:"circle",view:hc,model:$f}),this.registerElement({type:"polygon",view:gc,model:Zf}),this.registerElement({type:"line",view:_c,model:yf}),this.registerElement({type:"polyline",view:Gc,model:bf}),this.registerElement({type:"bezier",view:kc,model:Ff}),this.registerElement({type:"text",view:Mc,model:tc}),this.registerElement({type:"ellipse",view:Sc,model:Wf}),this.registerElement({type:"diamond",view:Oc,model:Xf}),this.registerElement({type:"html",view:Ac,model:nc})}},{key:"selectElementById",value:function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;this.graphModel.selectElementById(t,n),!n&&i&&this.graphModel.toFront(t)}},{key:"focusOn",value:function(t){var n=this.graphModel.transformModel,i=t.coordinate,a=t.id;if(!i){var c=this.getNodeModelById(a);c&&(i=c.getData());var h=this.getEdgeModelById(a);h&&(i=h.textPosition)}var m=i,x=m.x,w=m.y;n.focusOn(x,w,this.graphModel.width,this.graphModel.height)}},{key:"setTheme",value:function(t){this.graphModel.setTheme(t)}},{key:"resize",value:function(t,n){this.graphModel.resize(t,n),this.options.width=this.graphModel.width,this.options.height=this.graphModel.height}},{key:"setDefaultEdgeType",value:function(t){this.graphModel.setDefaultEdgeType(t)}},{key:"updateText",value:function(t,n){this.graphModel.updateText(t,n)}},{key:"deleteElement",value:function(t){var n,i,a,c=this.getModelById(t);if(!c)return!1;var h=(n={},_t(n,zt.NODE,this.deleteNode),_t(n,zt.EDGE,this.deleteEdge),n),m=c.BaseType;return(i=(a=h[m])===null||a===void 0?void 0:a.call(this,t))!==null&&i!==void 0?i:!1}},{key:"getModelById",value:function(t){return this.graphModel.getElement(t)}},{key:"getDataById",value:function(t){var n;return(n=this.graphModel.getElement(t))===null||n===void 0?void 0:n.getData()}},{key:"changeNodeType",value:function(t,n){this.graphModel.changeNodeType(t,n)}},{key:"changeEdgeType",value:function(t,n){this.graphModel.changeEdgeType(t,n)}},{key:"getNodeEdges",value:function(t){return this.graphModel.getNodeEdges(t)}},{key:"addNode",value:function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:nt.NODE_ADD;return this.graphModel.addNode(t,n)}},{key:"deleteNode",value:function(t){var n=this.graphModel.getNodeModelById(t);if(!n)return!1;var i=n.getData(),a=this.options.guards,c=a&&a.beforeDelete?a.beforeDelete(i):!0;return c&&this.graphModel.deleteNode(t),c}},{key:"cloneNode",value:function(t){var n=this.graphModel.getNodeModelById(t),i=n.getData(),a=this.options.guards,c=a&&a.beforeClone?a.beforeClone(i):!0;if(c)return this.graphModel.cloneNode(t)}},{key:"changeNodeId",value:function(t,n){return this.graphModel.changeNodeId(t,n)}},{key:"getNodeModelById",value:function(t){return this.graphModel.getNodeModelById(t)}},{key:"getNodeDataById",value:function(t){return this.graphModel.getNodeModelById(t).getData()}},{key:"addEdge",value:function(t){return this.graphModel.addEdge(t)}},{key:"deleteEdge",value:function(t){var n=this.options.guards,i=this.graphModel.edgesMap[t];if(!i)return!1;var a=i.model.getData(),c=n&&n.beforeDelete?n.beforeDelete(a):!0;return c&&this.graphModel.deleteEdgeById(t),c}},{key:"deleteEdgeByNodeId",value:function(t){var n=t.sourceNodeId,i=t.targetNodeId;n&&i?this.graphModel.deleteEdgeBySourceAndTarget(n,i):n?this.graphModel.deleteEdgeBySource(n):i&&this.graphModel.deleteEdgeByTarget(i)}},{key:"changeEdgeId",value:function(t,n){return this.graphModel.changeEdgeId(t,n)}},{key:"getEdgeModelById",value:function(t){var n,i=this.graphModel.edgesMap;return(n=i[t])===null||n===void 0?void 0:n.model}},{key:"getEdgeModels",value:function(t){var n=this.graphModel.edges,i=t.sourceNodeId,a=t.targetNodeId;if(i&&a){var c=[];return n.forEach(function(x){x.sourceNodeId===i&&x.targetNodeId===a&&c.push(x)}),c}if(i){var h=[];return n.forEach(function(x){x.sourceNodeId===i&&h.push(x)}),h}if(a){var m=[];return n.forEach(function(x){x.targetNodeId===a&&m.push(x)}),m}return[]}},{key:"getEdgeDataById",value:function(t){var n;return(n=this.getEdgeModelById(t))===null||n===void 0?void 0:n.getData()}},{key:"getNodeIncomingEdge",value:function(t){return this.graphModel.getNodeIncomingEdge(t)}},{key:"getNodeOutgoingEdge",value:function(t){return this.graphModel.getNodeOutgoingEdge(t)}},{key:"getNodeIncomingNode",value:function(t){return this.graphModel.getNodeIncomingNode(t)}},{key:"getNodeOutgoingNode",value:function(t){return this.graphModel.getNodeOutgoingNode(t)}},{key:"editText",value:function(t){this.graphModel.editText(t)}},{key:"setProperties",value:function(t,n){var i;(i=this.graphModel.getElement(t))===null||i===void 0||i.setProperties(tr(n))}},{key:"deleteProperty",value:function(t,n){var i;(i=this.graphModel.getElement(t))===null||i===void 0||i.deleteProperty(n)}},{key:"getProperties",value:function(t){var n;return(n=this.graphModel.getElement(t))===null||n===void 0?void 0:n.getProperties()}},{key:"toFront",value:function(t){this.graphModel.toFront(t)}},{key:"setElementZIndex",value:function(t,n){return this.graphModel.setElementZIndex(t,n)}},{key:"addElements",value:function(t){for(var n=this,i=t.nodes,a=t.edges,c={},h={nodes:[],edges:[]},m=0;m<i.length;m++){var x=i[m],w=x.id,j=this.addNode(x);if(!j)return;w&&(c[w]=j.id),h.nodes.push(j)}return a.forEach(function(B){var G=B.sourceNodeId,K=B.targetNodeId;c[G]&&(G=c[G]),c[K]&&(K=c[K]);var oe=n.graphModel.addEdge(Mi(Mi({},B),{},{sourceNodeId:G,targetNodeId:K}));h.edges.push(oe)}),h}},{key:"getAreaElement",value:function(t,n){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,c=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;return this.graphModel.getAreaElement(t,n,i,a,c).map(function(h){return h.getData()})}},{key:"getSelectElements",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return this.graphModel.getSelectElements(t)}},{key:"clearSelectElements",value:function(){this.graphModel.clearSelectElements()}},{key:"getGraphData",value:function(){var t=this.graphModel.modelToGraphData();return this.adapterOut?this.adapterOut(t):t}},{key:"getGraphRawData",value:function(){return this.graphModel.modelToGraphData()}},{key:"clearData",value:function(){this.graphModel.clearData()}},{key:"updateEditConfig",value:function(t){this.graphModel.editConfigModel.updateEditConfig(t)}},{key:"getEditConfig",value:function(){return this.graphModel.editConfigModel.getConfig()}},{key:"getPointByClient",value:function(t,n){return this.graphModel.getPointByClient({x:t,y:n})}},{key:"undo",value:function(){if(this.history.undoAble()){var t=tr(this.history.undo());this.clearSelectElements(),this.graphModel.graphDataToModel(t)}}},{key:"redo",value:function(){if(this.history.redoAble()){var t=tr(this.history.redo());this.clearSelectElements(),this.graphModel.graphDataToModel(t)}}},{key:"zoom",value:function(t,n){var i=this.graphModel.transformModel;return i.zoom(t,n)}},{key:"resetZoom",value:function(){var t=this.graphModel.transformModel;t.resetZoom()}},{key:"setZoomMiniSize",value:function(t){var n=this.graphModel.transformModel;n.setZoomMiniSize(t)}},{key:"setZoomMaxSize",value:function(t){var n=this.graphModel.transformModel;n.setZoomMaxSize(t)}},{key:"getTransform",value:function(){var t=this.graphModel.transformModel,n=t.SCALE_X,i=t.SCALE_Y,a=t.TRANSLATE_X,c=t.TRANSLATE_Y;return{SCALE_X:n,SCALE_Y:i,TRANSLATE_X:a,TRANSLATE_Y:c}}},{key:"translate",value:function(t,n){var i=this.graphModel.transformModel;i.translate(t,n)}},{key:"resetTranslate",value:function(){var t=this.graphModel.transformModel,n=t.TRANSLATE_X,i=t.TRANSLATE_Y;this.translate(-n,-i)}},{key:"translateCenter",value:function(){this.graphModel.translateCenter()}},{key:"fitView",value:function(t,n){n===void 0&&(n=t),this.graphModel.fitView(t,n)}},{key:"openEdgeAnimation",value:function(t){this.graphModel.openEdgeAnimation(t)}},{key:"closeEdgeAnimation",value:function(t){this.graphModel.closeEdgeAnimation(t)}},{key:"on",value:function(t,n){this.graphModel.eventCenter.on(t,n)}},{key:"off",value:function(t,n){this.graphModel.eventCenter.off(t,n)}},{key:"once",value:function(t,n){this.graphModel.eventCenter.once(t,n)}},{key:"emit",value:function(t,n){this.graphModel.eventCenter.emit(t,n)}},{key:"installPlugins",value:function(){var t,n=this,i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],a=(t=this.plugins)!==null&&t!==void 0?t:e.extensions;a.forEach(function(c){var h=c.pluginName||c.name;i.indexOf(h)===-1&&n.installPlugin(c)})}},{key:"installPlugin",value:function(t){if(Bl(t)==="object"){var n=t.install,i=t.render;n&&n.call(t,this,e),i&&this.components.push(i.bind(t)),this.extension[t.pluginName]=t;return}var a=t,c=new a({lf:this,LogicFlow:e,options:this.options.pluginsOptions});c.render&&this.components.push(c.render.bind(c)),this.extension[a.pluginName]=c}},{key:"updateAttributes",value:function(t,n){this.graphModel.updateAttributes(t,n)}},{key:"createFakerNode",value:function(t){var n=this.graphModel.modelMap.get(t.type);if(!n){console.warn("".concat(t.type,""));return}var i=new n(Mi(Mi({},t),{},{virtual:!0}),this.graphModel);return this.graphModel.setFakerNode(i),i}},{key:"removeFakerNode",value:function(){this.graphModel.removeFakerNode()}},{key:"setNodeSnapLine",value:function(t){this.snaplineModel&&this.snaplineModel.setNodeSnapLine(t)}},{key:"removeNodeSnapLine",value:function(){this.snaplineModel&&this.snaplineModel.clearSnapline()}},{key:"setView",value:function(t,n){this.viewMap.set(t,n)}},{key:"renderRawData",value:function(t){this.graphModel.graphDataToModel(tr(t)),this.options.history!==!1&&this.history.watch(this.graphModel),Object(ie.j)(Object(ie.g)(Ow,{getView:this.getView,tool:this.tool,options:this.options,dnd:this.dnd,snaplineModel:this.snaplineModel,graphModel:this.graphModel}),this.container),this.emit(nt.GRAPH_RENDERED,this.graphModel.modelToGraphData())}},{key:"render",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.adapterIn&&(t=this.adapterIn(t)),this.renderRawData(t)}}],[{key:"use",value:function(t){var n=t.pluginName;n||(console.warn("".concat(t.name||t.constructor.name,"pluginName!")),n=t.name);var i=this.extensions.get(n);i&&i.destroy&&i.destroy(),this.extensions.set(n,t)}}]),e}();_t(Qc,"extensions",new Map);function $r(e){return Ot(e)}f.default=Qc}])})})(QC,Ge);const eb=VC(Ge);var tb=globalThis&&globalThis.__extends||function(){var y=function(d,s){return y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,o){f.__proto__=o}||function(f,o){for(var u in o)o.hasOwnProperty(u)&&(f[u]=o[u])},y(d,s)};return function(d,s){y(d,s);function f(){this.constructor=d}d.prototype=s===null?Object.create(s):(f.prototype=s.prototype,new f)}}(),qC=function(y){tb(d,y);function d(s,f){var o=this;return s.id||(s.id="Event_"+on()),s.text||(s.text=""),s.text&&typeof s.text=="string"&&(s.text={value:s.text,x:s.x,y:s.y+40}),o=y.call(this,s,f)||this,o}return d.prototype.setAttributes=function(){this.r=18},d.prototype.getConnectedTargetRules=function(){var s=y.prototype.getConnectedTargetRules.call(this),f={message:"",validate:function(){return!1}};return s.push(f),s},d.extendKey="StartEventModel",d}(Ge.CircleNodeModel),eI=function(y){tb(d,y);function d(){return y!==null&&y.apply(this,arguments)||this}return d.extendKey="StartEventNode",d}(Ge.CircleNode),rb=globalThis&&globalThis.__extends||function(){var y=function(d,s){return y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,o){f.__proto__=o}||function(f,o){for(var u in o)o.hasOwnProperty(u)&&(f[u]=o[u])},y(d,s)};return function(d,s){y(d,s);function f(){this.constructor=d}d.prototype=s===null?Object.create(s):(f.prototype=s.prototype,new f)}}(),Ul=globalThis&&globalThis.__assign||function(){return Ul=Object.assign||function(y){for(var d,s=1,f=arguments.length;s<f;s++){d=arguments[s];for(var o in d)Object.prototype.hasOwnProperty.call(d,o)&&(y[o]=d[o])}return y},Ul.apply(this,arguments)},tI=function(y){rb(d,y);function d(s,f){var o=this;return s.id||(s.id="Event_"+on()),s.text||(s.text=""),s.text&&typeof s.text=="string"&&(s.text={value:s.text,x:s.x,y:s.y+40}),o=y.call(this,s,f)||this,o}return d.prototype.setAttributes=function(){this.r=18},d.prototype.getConnectedSourceRules=function(){var s=y.prototype.getConnectedSourceRules.call(this),f={message:"",validate:function(){return!1}};return s.push(f),s},d.extendKey="EndEventModel",d}(Ge.CircleNodeModel),rI=function(y){rb(d,y);function d(){return y!==null&&y.apply(this,arguments)||this}return d.prototype.getAnchorStyle=function(){return{visibility:"hidden"}},d.prototype.getShape=function(){var s=this.props.model,f=s.getNodeStyle(),o=s.x,u=s.y,l=s.r,v=y.prototype.getShape.call(this);return Ge.h("g",{},v,Ge.h("circle",Ul(Ul({},f),{cx:o,cy:u,r:l-5})))},d.extendKey="EndEventView",d}(Ge.CircleNode),nb=globalThis&&globalThis.__extends||function(){var y=function(d,s){return y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,o){f.__proto__=o}||function(f,o){for(var u in o)o.hasOwnProperty(u)&&(f[u]=o[u])},y(d,s)};return function(d,s){y(d,s);function f(){this.constructor=d}d.prototype=s===null?Object.create(s):(f.prototype=s.prototype,new f)}}(),Ci=globalThis&&globalThis.__assign||function(){return Ci=Object.assign||function(y){for(var d,s=1,f=arguments.length;s<f;s++){d=arguments[s];for(var o in d)Object.prototype.hasOwnProperty.call(d,o)&&(y[o]=d[o])}return y},Ci.apply(this,arguments)},nI=function(y){nb(d,y);function d(s,f){var o=this;return s.id||(s.id="Gateway_"+on()),s.text||(s.text=""),s.text&&typeof s.text=="string"&&(s.text={value:s.text,x:s.x,y:s.y+40}),o=y.call(this,s,f)||this,o.points=[[25,0],[50,25],[25,50],[0,25]],o}return d.extendKey="ExclusiveGatewayModel",d}(Ge.PolygonNodeModel),oI=function(y){nb(d,y);function d(){return y!==null&&y.apply(this,arguments)||this}return d.prototype.getShape=function(){var s=this.props.model,f=s.x,o=s.y,u=s.width,l=s.height,v=s.points,b=s.getNodeStyle();return Ge.h("g",{transform:"matrix(1 0 0 1 "+(f-u/2)+" "+(o-l/2)+")"},Ge.h("polygon",Ci(Ci({},b),{x:f,y:o,points:v})),Ge.h("path",Ci({d:"m 16,15 7.42857142857143,9.714285714285715 -7.42857142857143,9.714285714285715 3.428571428571429,0 5.714285714285715,-7.464228571428572 5.714285714285715,7.464228571428572 3.428571428571429,0 -7.42857142857143,-9.714285714285715 7.42857142857143,-9.714285714285715 -3.428571428571429,0 -5.714285714285715,7.464228571428572 -5.714285714285715,-7.464228571428572 -3.428571428571429,0 z"},b)))},d.extendKey="ExclusiveGatewayNode",d}(Ge.PolygonNode),ob=globalThis&&globalThis.__extends||function(){var y=function(d,s){return y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,o){f.__proto__=o}||function(f,o){for(var u in o)o.hasOwnProperty(u)&&(f[u]=o[u])},y(d,s)};return function(d,s){y(d,s);function f(){this.constructor=d}d.prototype=s===null?Object.create(s):(f.prototype=s.prototype,new f)}}(),Xl=globalThis&&globalThis.__assign||function(){return Xl=Object.assign||function(y){for(var d,s=1,f=arguments.length;s<f;s++){d=arguments[s];for(var o in d)Object.prototype.hasOwnProperty.call(d,o)&&(y[o]=d[o])}return y},Xl.apply(this,arguments)},iI=function(y){ob(d,y);function d(s,f){var o=this;return s.id||(s.id="Activity_"+on()),o=y.call(this,s,f)||this,o}return d.extendKey="UserTaskModel",d}(Ge.RectNodeModel),aI=function(y){ob(d,y);function d(){return y!==null&&y.apply(this,arguments)||this}return d.prototype.getLabelShape=function(){var s=this.props.model,f=s.x,o=s.y,u=s.width,l=s.height,v=s.getNodeStyle();return Ge.h("svg",{x:f-u/2+5,y:o-l/2+5,width:25,height:25,viewBox:"0 0 1274 1024"},Ge.h("path",{fill:v.stroke,d:"M655.807326 287.35973m-223.989415 0a218.879 218.879 0 1 0 447.978829 0 218.879 218.879 0 1 0-447.978829 0ZM1039.955839 895.482975c-0.490184-212.177424-172.287821-384.030443-384.148513-384.030443-211.862739 0-383.660376 171.85302-384.15056 384.030443L1039.955839 895.482975z"}))},d.prototype.getShape=function(){var s=this.props.model,f=s.x,o=s.y,u=s.width,l=s.height,v=s.radius,b=s.getNodeStyle();return Ge.h("g",{},[Ge.h("rect",Xl(Xl({},b),{x:f-u/2,y:o-l/2,rx:v,ry:v,width:u,height:l})),this.getLabelShape()])},d.extendKey="UserTaskNode",d}(Ge.RectNode),ib=globalThis&&globalThis.__extends||function(){var y=function(d,s){return y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,o){f.__proto__=o}||function(f,o){for(var u in o)o.hasOwnProperty(u)&&(f[u]=o[u])},y(d,s)};return function(d,s){y(d,s);function f(){this.constructor=d}d.prototype=s===null?Object.create(s):(f.prototype=s.prototype,new f)}}(),rd=globalThis&&globalThis.__assign||function(){return rd=Object.assign||function(y){for(var d,s=1,f=arguments.length;s<f;s++){d=arguments[s];for(var o in d)Object.prototype.hasOwnProperty.call(d,o)&&(y[o]=d[o])}return y},rd.apply(this,arguments)},sI=function(y){ib(d,y);function d(s,f){var o=this;return s.id||(s.id="Activity_"+on()),o=y.call(this,s,f)||this,o}return d.extendKey="ServiceTaskModel",d}(Ge.RectNodeModel),lI=function(y){ib(d,y);function d(){return y!==null&&y.apply(this,arguments)||this}return d.prototype.getLabelShape=function(){var s=this.props.model,f=s.x,o=s.y,u=s.width,l=s.height,v=s.getNodeStyle();return Ge.h("svg",{x:f-u/2+5,y:o-l/2+5,width:30,height:30,viewBox:"0 0 1274 1024"},Ge.h("path",{fill:v.stroke,d:"M882.527918 434.149934c-2.234901-5.303796-7.311523-8.853645-13.059434-9.138124l-61.390185-3.009544c-6.635117-20.973684-15.521508-41.175795-26.513864-60.282968l42.051745-47.743374c4.308119-4.889357 4.955872-12.004405 1.602498-17.59268-46.384423-77.30362-103.969956-101.422947-106.400309-102.410438-5.332449-2.170432-11.432377-1.090844-15.693424 2.77009L654.674467 240.664222c-17.004279-8.654101-35.092239-15.756869-53.995775-21.210068l-3.26537-66.490344c-0.280386-5.747911-3.833305-10.824533-9.134031-13.059434-1.683339-0.709151-30.193673-12.391215-76.866668-12.051477-46.672996-0.339738-75.18333 11.342326-76.866668 12.051477-5.300726 2.234901-8.853645 7.311523-9.134031 13.059434l-3.26537 66.490344c-18.903535 5.453199-36.991496 12.555967-53.995775 21.210068l-48.450479-43.922349c-4.261047-3.860934-10.360975-4.940522-15.693424-2.77009-2.430352 0.98749-60.015885 25.106818-106.400309 102.410438-3.353374 5.588275-2.705622 12.703323 1.602498 17.59268l42.051745 47.743374c-10.992355 19.107173-19.878746 39.309284-26.513864 60.282968l-61.390185 3.009544c-5.747911 0.284479-10.824533 3.834328-13.059434 9.138124-1.01512 2.415003-24.687262 60.190871-2.822278 147.651828 1.583055 6.324032 7.072069 10.893094 13.57518 11.308557 5.892197 0.37146 11.751648 0.523933 17.419741 0.667196 14.498202 0.372483 28.193109 0.723477 40.908712 4.63353 4.212952 1.294482 6.435573 8.270361 9.349949 18.763342 1.287319 4.640694 2.617617 9.43693 4.484128 14.010085 1.794879 4.393054 3.75758 8.570189 5.66093 12.607132 1.302669 2.765997 2.529613 5.380544 3.689019 8.018627 2.986007 6.803963 2.682086 9.773598 2.578732 10.349719-3.061732 3.672646-6.391571 7.238868-9.91379 11.015891-1.810229 1.943258-3.680832 3.949962-5.523807 5.980201l-22.560832 24.8909c-3.865028 4.261047-4.940522 10.365068-2.774183 15.693424 0.991584 2.426259 25.102724 60.011792 102.414531 106.400309 5.588275 3.353374 12.703323 2.701528 17.591657-1.603521l23.476691-20.682042c2.346441-2.061962 4.64888-4.336772 6.875594-6.534833 9.05319-8.93858 14.018272-12.95608 17.73185-11.576663 3.305279 1.222851 6.907317 3.166109 10.720156 5.228071 3.325745 1.794879 6.764054 3.650133 10.465352 5.288446 6.016017 2.662643 12.120039 4.688789 18.019399 6.65149 6.827499 2.266623 13.279445 4.409426 18.819624 7.275707 1.518586 0.782829 1.926886 0.994654 2.358721 7.830339 0.726547 11.496845 1.25048 23.276123 1.753947 34.672684 0.264013 5.900384 0.528026 11.803837 0.815575 17.700127 0.284479 5.743818 3.833305 10.82044 9.138124 13.05534 1.654686 0.698918 29.371958 12.063757 74.869175 12.063757 0.328481 0 3.65832 0 3.986801 0 45.497217 0 73.214489-11.364839 74.869175-12.063757 5.304819-2.234901 8.853645-7.311523 9.138124-13.05534 0.287549-5.89629 0.551562-11.799744 0.815575-17.700127 0.503467-11.396561 1.027399-23.175839 1.753947-34.672684 0.431835-6.835685 0.840134-7.04751 2.358721-7.830339 5.54018-2.866281 11.992125-5.009084 18.819624-7.275707 5.89936-1.962701 12.003382-3.988848 18.019399-6.65149 3.701299-1.638313 7.139607-3.493567 10.465352-5.288446 3.812839-2.061962 7.414877-4.00522 10.720156-5.228071 3.713578-1.379417 8.67866 2.638083 17.73185 11.576663 2.226714 2.198062 4.529153 4.472871 6.875594 6.534833l23.476691 20.682042c4.888334 4.305049 12.003382 4.956895 17.591657 1.603521 77.311807-46.388517 101.422947-103.97405 102.414531-106.400309 2.166339-5.328355 1.090844-11.432377-2.774183-15.693424l-22.560832-24.8909c-1.842974-2.030239-3.713578-4.036943-5.523807-5.980201-3.52222-3.777023-6.852058-7.343245-9.91379-11.015891-0.103354-0.576121-0.407276-3.545756 2.578732-10.349719 1.159406-2.638083 2.38635-5.252631 3.689019-8.018627 1.90335-4.036943 3.866051-8.214079 5.66093-12.607132 1.866511-4.573155 3.196809-9.369392 4.484128-14.010085 2.914376-10.492982 5.136997-17.46886 9.349949-18.763342 12.715603-3.910053 26.41051-4.261047 40.908712-4.63353 5.668093-0.143263 11.527544-0.295735 17.419741-0.667196 6.503111-0.415462 11.992125-4.984524 13.57518-11.308557C907.21518 494.340805 883.543038 436.564937 882.527918 434.149934zM643.49894 643.761929c-35.280528 35.280528-82.191954 54.711066-132.086317 54.711066s-96.806813-19.430538-132.086317-54.711066c-35.280528-35.279504-54.711066-82.191954-54.711066-132.086317 0-49.894364 19.430538-96.80272 54.711066-132.082224 35.283598-35.284621 82.191954-54.711066 132.086317-54.711066s96.80579 19.426445 132.086317 54.711066c35.279504 35.279504 54.711066 82.187861 54.711066 132.082224C698.210006 561.569976 678.782537 608.482425 643.49894 643.761929z"}))},d.prototype.getShape=function(){var s=this.props.model,f=s.x,o=s.y,u=s.width,l=s.height,v=s.radius,b=s.getNodeStyle();return Ge.h("g",{},[Ge.h("rect",rd({x:f-u/2,y:o-l/2,rx:v,ry:v,width:u,height:l},b)),this.getLabelShape()])},d.extendKey="ServiceTaskNode",d}(Ge.RectNode),ab=globalThis&&globalThis.__extends||function(){var y=function(d,s){return y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,o){f.__proto__=o}||function(f,o){for(var u in o)o.hasOwnProperty(u)&&(f[u]=o[u])},y(d,s)};return function(d,s){y(d,s);function f(){this.constructor=d}d.prototype=s===null?Object.create(s):(f.prototype=s.prototype,new f)}}(),sb=function(y){ab(d,y);function d(s,f){var o=this;return s.id||(s.id="Flow_"+on()),o=y.call(this,s,f)||this,o}return d.extendKey="SequenceFlowModel",d}(Ge.PolylineEdgeModel),lb=function(y){ab(d,y);function d(){return y!==null&&y.apply(this,arguments)||this}return d.extendKey="SequenceFlowEdge",d}(Ge.PolylineEdge),Em={width:40,height:40},xm={width:40,height:40},Sm={width:40,height:40},Pm={width:100,height:80},Mm={width:100,height:80},uI=new RC([32,32,1]);function Tm(){return uI.next()}var vr=function(){};vr.ObjTree=function(){return this};vr.ObjTree.VERSION="0.23";vr.ObjTree.prototype.xmlDecl=`<?xml version="1.0" encoding="UTF-8" ?>
`;vr.ObjTree.prototype.attr_prefix="-";vr.ObjTree.prototype.parseXML=function(y){var d;if(window.DOMParser){var s=new DOMParser,f=s.parseFromString(y,"application/xml");if(!f)return;d=f.documentElement}else window.ActiveXObject&&(s=new ActiveXObject("Microsoft.XMLDOM"),s.async=!1,s.loadXML(y),d=s.documentElement);if(d)return this.parseDOM(d)};vr.ObjTree.prototype.parseHTTP=function(y,d,s){var f={};for(var o in d)f[o]=d[o];if(f.method||(typeof f.postBody>"u"&&typeof f.postbody>"u"&&typeof f.parameters>"u"?f.method="get":f.method="post"),s){f.asynchronous=!0;var u=this,l=s,v=f.onComplete;f.onComplete=function(E){var P;E&&E.responseXML&&E.responseXML.documentElement&&(P=u.parseDOM(E.responseXML.documentElement)),l(P,E),v&&v(E)}}else f.asynchronous=!1;var b;if(typeof HTTP<"u"&&HTTP.Request){f.uri=y;var O=new HTTP.Request(f);O&&(b=O.transport)}else if(typeof Ajax<"u"&&Ajax.Request){var O=new Ajax.Request(y,f);O&&(b=O.transport)}if(s)return b;if(b&&b.responseXML&&b.responseXML.documentElement)return this.parseDOM(b.responseXML.documentElement)};vr.ObjTree.prototype.parseDOM=function(y){if(y){if(this.__force_array={},this.force_array)for(var d=0;d<this.force_array.length;d++)this.__force_array[this.force_array[d]]=1;var s=this.parseElement(y);if(this.__force_array[y.nodeName]&&(s=[s]),y.nodeType!=11){var f={};f[y.nodeName]=s,s=f}return s}};vr.ObjTree.prototype.parseElement=function(y){if(y.nodeType!=7){if(y.nodeType==3||y.nodeType==4){var d=y.nodeValue.match(/[^\x00-\x20]/);return d==null?void 0:y.nodeValue}var s,f={};if(y.attributes&&y.attributes.length){s={};for(var o=0;o<y.attributes.length;o++){var u=y.attributes[o].nodeName;if(typeof u=="string"){var l=y.attributes[o].nodeValue;l&&(u=this.attr_prefix+u,typeof f[u]>"u"&&(f[u]=0),f[u]++,this.addNode(s,u,f[u],l))}}}if(y.childNodes&&y.childNodes.length){var v=!0;s&&(v=!1);for(var o=0;o<y.childNodes.length&&v;o++){var b=y.childNodes[o].nodeType;b==3||b==4||(v=!1)}if(v){s||(s="");for(var o=0;o<y.childNodes.length;o++)s+=y.childNodes[o].nodeValue}else{s||(s={});for(var o=0;o<y.childNodes.length;o++){var u=y.childNodes[o].nodeName;if(typeof u=="string"){var l=this.parseElement(y.childNodes[o]);l&&(typeof f[u]>"u"&&(f[u]=0),f[u]++,this.addNode(s,u,f[u],l))}}}}return s}};vr.ObjTree.prototype.addNode=function(y,d,s,f){this.__force_array[d]?(s==1&&(y[d]=[]),y[d][y[d].length]=f):s==1?y[d]=f:s==2?y[d]=[y[d],f]:y[d][y[d].length]=f};vr.ObjTree.prototype.writeXML=function(y){var d=this.hash_to_xml(null,y);return this.xmlDecl+d};vr.ObjTree.prototype.hash_to_xml=function(y,d){var s=[],f=[];for(var o in d)if(d.hasOwnProperty(o)){var u=d[o];o.charAt(0)!=this.attr_prefix?typeof u>"u"||u==null?s[s.length]="<"+o+" />":typeof u=="object"&&u.constructor==Array?s[s.length]=this.array_to_xml(o,u):typeof u=="object"?s[s.length]=this.hash_to_xml(o,u):s[s.length]=this.scalar_to_xml(o,u):f[f.length]=" "+o.substring(1)+'="'+this.xml_escape(u)+'"'}var l=f.join(""),v=s.join("");return typeof y>"u"||y==null||(s.length>0?v.match(/\n/)?v="<"+y+l+`>
`+v+"</"+y+`>
`:v="<"+y+l+">"+v+"</"+y+`>
`:v="<"+y+l+` />
`),v};vr.ObjTree.prototype.array_to_xml=function(y,d){for(var s=[],f=0;f<d.length;f++){var o=d[f];typeof o>"u"||o==null?s[s.length]="<"+y+" />":typeof o=="object"&&o.constructor==Array?s[s.length]=this.array_to_xml(y,o):typeof o=="object"?s[s.length]=this.hash_to_xml(y,o):s[s.length]=this.scalar_to_xml(y,o)}return s.join("")};vr.ObjTree.prototype.scalar_to_xml=function(y,d){return y=="#text"?this.xml_escape(d):"<"+y+">"+this.xml_escape(d)+"</"+y+`>
`};vr.ObjTree.prototype.xml_escape=function(y){return y.replace(/&/g,"&").replace(/</g,"<").replace(/>/g,">").replace(/"/g,'"')};var Zl=globalThis&&globalThis.__read||function(y,d){var s=typeof Symbol=="function"&&y[Symbol.iterator];if(!s)return y;var f=s.call(y),o,u=[],l;try{for(;(d===void 0||d-- >0)&&!(o=f.next()).done;)u.push(o.value)}catch(v){l={error:v}}finally{try{o&&!o.done&&(s=f.return)&&s.call(f)}finally{if(l)throw l.error}}return u},nn;(function(y){y.START="bpmn:startEvent",y.END="bpmn:endEvent",y.GATEWAY="bpmn:exclusiveGateway",y.USER="bpmn:userTask",y.SYSTEM="bpmn:serviceTask",y.FLOW="bpmn:sequenceFlow"})(nn||(nn={}));var ub=["-name","-id","bpmn:incoming","bpmn:outgoing","-sourceRef","-targetRef"];function nd(y){var d={};return Object.entries(y).forEach(function(s){var f=Zl(s,2),o=f[0],u=f[1];typeof u!="object"?o.indexOf("-")===0?d[o]=u:d["-"+o]=u:d[o]=nd(u)}),d}function ld(y){var d={};return Object.entries(y).forEach(function(s){var f=Zl(s,2),o=f[0],u=f[1];typeof u=="string"?o.indexOf("-")===0?d[o.substr(1)]=u:d[o]=u:typeof u=="object"?d[o]=ld(u):d[o]=u}),d}function fI(y,d){var s=new Map;d.nodes.forEach(function(o){var u,l={"-id":o.id};if(!((u=o.text)===null||u===void 0)&&u.value&&(l["-name"]=o.text.value),o.properties){var v=nd(o.properties);Object.assign(l,v)}s.set(o.id,l),y[o.type]?Array.isArray(y[o.type])?y[o.type].push(l):y[o.type]=[y[o.type],l]:y[o.type]=l});var f=d.edges.map(function(o){var u,l,v=s.get(o.targetNodeId);v["bpmn:incoming"]?Array.isArray(v["bpmn:incoming"])?v["bpmn:incoming"].push(o.id):v["bpmn:incoming"]=[v["bpmn:incoming"],o.id]:v["bpmn:incoming"]=o.id;var b=s.get(o.sourceNodeId);b["bpmn:outgoing"]?Array.isArray(b["bpmn:outgoing"])?b["bpmn:outgoing"].push(o.id):b["bpmn:outgoing"]=[b["bpmn:outgoing"],o.id]:b["bpmn:outgoing"]=o.id;var O={"-id":o.id,"-sourceRef":o.sourceNodeId,"-targetRef":o.targetNodeId};if(!((u=o.text)===null||u===void 0)&&u.value&&(O["-name"]=(l=o.text)===null||l===void 0?void 0:l.value),o.properties){var E=nd(o.properties);Object.assign(O,E)}return O});y[nn.FLOW]=f}function cI(y,d){y["bpmndi:BPMNEdge"]=d.edges.map(function(s){var f,o=s.id,u=s.pointsList.map(function(v){var b=v.x,O=v.y;return{"-x":b,"-y":O}}),l={"-id":o+"_di","-bpmnElement":o,"di:waypoint":u};return!((f=s.text)===null||f===void 0)&&f.value&&(l["bpmndi:BPMNLabel"]={"dc:Bounds":{"-x":s.text.x-s.text.value.length*10/2,"-y":s.text.y-7,"-width":s.text.value.length*10,"-height":14}}),l}),y["bpmndi:BPMNShape"]=d.nodes.map(function(s){var f,o=s.id,u=100,l=80,v=s.x,b=s.y,O=so.shapeConfigMap.get(s.type);O&&(u=O.width,l=O.height),v-=u/2,b-=l/2;var E={"-id":o+"_di","-bpmnElement":o,"dc:Bounds":{"-x":v,"-y":b,"-width":u,"-height":l}};return!((f=s.text)===null||f===void 0)&&f.value&&(E["bpmndi:BPMNLabel"]={"dc:Bounds":{"-x":s.text.x-s.text.value.length*10/2,"-y":s.text.y-7,"-width":s.text.value.length*10,"-height":14}}),E})}function dI(y){var d=[],s=[],f=y["bpmn:definitions"];if(f){var o=f["bpmn:process"];Object.keys(o).forEach(function(u){if(u.indexOf("bpmn:")===0){var l=o[u];if(u===nn.FLOW){var v=f["bpmndi:BPMNDiagram"]["bpmndi:BPMNPlane"]["bpmndi:BPMNEdge"];s=hI(l,v)}else{var b=f["bpmndi:BPMNDiagram"]["bpmndi:BPMNPlane"]["bpmndi:BPMNShape"];d=d.concat(pI(l,b,u))}}})}return{nodes:d,edges:s}}function pI(y,d,s){var f=[];if(Array.isArray(y))y.forEach(function(l){var v;Array.isArray(d)?v=d.find(function(O){return O["-bpmnElement"]===l["-id"]}):v=d;var b=wm(v,s,l);f.push(b)});else{var o=void 0;Array.isArray(d)?o=d.find(function(l){return l["-bpmnElement"]===y["-id"]}):o=d;var u=wm(o,s,y);f.push(u)}return f}function wm(y,d,s){var f=Number(y["dc:Bounds"]["-x"]),o=Number(y["dc:Bounds"]["-y"]),u=s["-name"],l=so.shapeConfigMap.get(d);l&&(f+=l.width/2,o+=l.height/2);var v;Object.entries(s).forEach(function(P){var T=Zl(P,2),M=T[0],N=T[1];ub.indexOf(M)===-1&&(v||(v={}),v[M]=N)}),v&&(v=ld(v));var b;if(u&&(b={x:f,y:o,value:u},y["bpmndi:BPMNLabel"]&&y["bpmndi:BPMNLabel"]["dc:Bounds"])){var O=y["bpmndi:BPMNLabel"]["dc:Bounds"];b.x=Number(O["-x"])+Number(O["-width"])/2,b.y=Number(O["-y"])+Number(O["-height"])/2}var E={id:y["-bpmnElement"],type:d,x:f,y:o,properties:v};return b&&(E.text=b),E}function hI(y,d){var s=[];if(Array.isArray(y))y.forEach(function(o){var u;Array.isArray(d)?u=d.find(function(l){return l["-bpmnElement"]===o["-id"]}):u=d,s.push(Am(u,o))});else{var f=void 0;Array.isArray(d)?f=d.find(function(o){return o["-bpmnElement"]===y["-id"]}):f=d,s.push(Am(f,y))}return s}function Am(y,d){var s,f=d["-name"];if(f){var o=y["bpmndi:BPMNLabel"]["dc:Bounds"],u=0;f.split(`
`).forEach(function(b){u<b.length&&(u=b.length)}),s={value:f,x:Number(o["-x"])+u*10/2,y:Number(o["-y"])+7}}var l;Object.entries(d).forEach(function(b){var O=Zl(b,2),E=O[0],P=O[1];ub.indexOf(E)===-1&&(l||(l={}),l[E]=P)}),l&&(l=ld(l));var v={id:d["-id"],type:nn.FLOW,pointsList:y["di:waypoint"].map(function(b){return{x:Number(b["-x"]),y:Number(b["-y"])}}),sourceNodeId:d["-sourceRef"],targetNodeId:d["-targetRef"],properties:l};return s&&(v.text=s),v}var so={pluginName:"bpmn-adapter",install:function(y){y.adapterIn=this.adapterIn,y.adapterOut=this.adapterOut},shapeConfigMap:new Map,setCustomShape:function(y,d){this.shapeConfigMap.set(y,d)},adapterOut:function(y){var d={"-id":"Process_"+Tm(),"-isExecutable":"false"};fI(d,y);var s={"-id":"BPMNPlane_1","-bpmnElement":d["-id"]};cI(s,y);var f={"bpmn:definitions":{"-id":"Definitions_"+Tm(),"-xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","-xmlns:bpmn":"http://www.omg.org/spec/BPMN/20100524/MODEL","-xmlns:bpmndi":"http://www.omg.org/spec/BPMN/20100524/DI","-xmlns:dc":"http://www.omg.org/spec/DD/20100524/DC","-xmlns:di":"http://www.omg.org/spec/DD/20100524/DI","-targetNamespace":"http://bpmn.io/schema/bpmn","-exporter":"bpmn-js (https://demo.bpmn.io)","-exporterVersion":"7.3.0","bpmn:process":d,"bpmndi:BPMNDiagram":{"-id":"BPMNDiagram_1","bpmndi:BPMNPlane":s}}};return f},adapterIn:function(y){if(y)return dI(y)}};so.shapeConfigMap.set(nn.START,{width:Em.width,height:Em.height});so.shapeConfigMap.set(nn.END,{width:xm.width,height:xm.height});so.shapeConfigMap.set(nn.GATEWAY,{width:Sm.width,height:Sm.height});so.shapeConfigMap.set(nn.SYSTEM,{width:Pm.width,height:Pm.height});so.shapeConfigMap.set(nn.USER,{width:Mm.width,height:Mm.height});var Nm=globalThis&&globalThis.__assign||function(){return Nm=Object.assign||function(y){for(var d,s=1,f=arguments.length;s<f;s++){d=arguments[s];for(var o in d)Object.prototype.hasOwnProperty.call(d,o)&&(y[o]=d[o])}return y},Nm.apply(this,arguments)};globalThis&&globalThis.__read;var Wo;(function(y){y.HORIZONTAL="horizontal",y.VERTICAL="vertical"})(Wo||(Wo={}));var vI=function(y,d,s,f){f===void 0&&(f=0);var o=gI(y,d,s);return o<=f};function Dm(y){return y*y}function td(y,d){return Dm(y.x-d.x)+Dm(y.y-d.y)}var yI=function(y,d,s){var f=td(d,s);if(f===0)return td(y,d);var o=((y.x-d.x)*(s.x-d.x)+(y.y-d.y)*(s.y-d.y))/f;return o=Math.max(0,Math.min(1,o)),td(y,{x:d.x+o*(s.x-d.x),y:d.y+o*(s.y-d.y)})},gI=function(y,d,s){return Math.sqrt(yI(y,d,s))},mI=function(y){var d=y.x,s=y.y,f=y.width,o=y.height,u={minX:d-f/2,minY:s-o/2,maxX:d+f/2,maxY:s+o/2,x:d,y:s,width:f,height:o,centerX:d,centerY:s};return u},bI=function(y,d){var s;return y.x===d.x?s=Wo.VERTICAL:y.y===d.y&&(s=Wo.HORIZONTAL),s},OI=function(y,d,s){var f=mI(y),o=bI(d,s),u=Math.max(d.x,s.x),l=Math.min(d.x,s.x),v=Math.max(d.y,s.y),b=Math.min(d.y,s.y),O=y.x,E=y.y,P=y.width,T=y.height;if(o===Wo.HORIZONTAL){if(u>=f.maxX&&l<=f.minX)return{startCrossPoint:{x:d.x>s.x?O+P/2:O-P/2,y:d.y},endCrossPoint:{x:d.x>s.x?O-P/2:O+P/2,y:d.y}}}else if(o===Wo.VERTICAL&&v>=f.maxY&&b<=f.minY)return{startCrossPoint:{x:d.x,y:d.y>s.y?E+T/2:E-T/2},endCrossPoint:{x:d.x,y:d.y>s.y?E-T/2:E+T/2}}},EI=function(y,d,s){s===void 0&&(s=0);for(var f=y.x,o=y.y,u=d.pointsList,l=0;l<u.length-1;l++)if(vI({x:f,y:o},u[l],u[l+1],s)){var v=OI(y,u[l],u[l+1]);if(v)return{crossIndex:l+1,crossPoints:v}}return{crossIndex:-1,crossPoints:{startCrossPoint:{x:0,y:0},endCrossPoint:{x:0,y:0}}}},xI=globalThis&&globalThis.__read||function(y,d){var s=typeof Symbol=="function"&&y[Symbol.iterator];if(!s)return y;var f=s.call(y),o,u=[],l;try{for(;(d===void 0||d-- >0)&&!(o=f.next()).done;)u.push(o.value)}catch(v){l={error:v}}finally{try{o&&!o.done&&(s=f.return)&&s.call(f)}finally{if(l)throw l.error}}return u},jm=globalThis&&globalThis.__spread||function(){for(var y=[],d=0;d<arguments.length;d++)y=y.concat(xI(arguments[d]));return y},SI=function(){function y(d){var s=d.lf;this._lf=s,this.deviation=20,this.dndAdd=!0,this.dropAdd=!0,this.eventHandler()}return y.prototype.eventHandler=function(){var d=this;this.dndAdd&&this._lf.on("node:dnd-add",function(s){var f=s.data;d.insetNode(f)}),this.dropAdd&&this._lf.on("node:drop",function(s){for(var f=s.data,o=d._lf.graphModel.edges,u=f.id,l=!0,v=0;v<o.length;v++)if(o[v].sourceNodeId===u||o[v].targetNodeId===u){l=!1;break}l&&d.insetNode(f)})},y.prototype.insetNode=function(d){for(var s=this._lf.graphModel.edges,f=this._lf.getNodeModelById(d.id),o=0;o<s.length;o++){var u=EI(f,s[o],this.deviation),l=u.crossIndex,v=u.crossPoints;if(l>=0){var b=s[o],O=b.sourceNodeId,E=b.targetNodeId,P=b.id,T=b.type,M=b.pointsList,N=zl(M[0]),D=zl(v.startCrossPoint);this._lf.addEdge({type:T,sourceNodeId:O,targetNodeId:d.id,startPoint:N,endPoint:D,pointsList:jm(M.slice(0,l),[v.startCrossPoint])}),this._lf.addEdge({type:T,sourceNodeId:d.id,targetNodeId:E,startPoint:zl(v.endCrossPoint),endPoint:zl(M[M.length-1]),pointsList:jm([v.endCrossPoint],M.slice(l))}),this._lf.deleteEdge(P);break}}},y.pluginName="insertNodeInPolyline",y}(),PI=globalThis&&globalThis.__read||function(y,d){var s=typeof Symbol=="function"&&y[Symbol.iterator];if(!s)return y;var f=s.call(y),o,u=[],l;try{for(;(d===void 0||d-- >0)&&!(o=f.next()).done;)u.push(o.value)}catch(v){l={error:v}}finally{try{o&&!o.done&&(s=f.return)&&s.call(f)}finally{if(l)throw l.error}}return u},MI=globalThis&&globalThis.__spread||function(){for(var y=[],d=0;d<arguments.length;d++)y=y.concat(PI(arguments[d]));return y},TI=function(){function y(d){var s=this,f=d.lf;this.controlItems=[{key:"zoom-out",iconClass:"lf-control-zoomOut",title:"",text:"",onClick:function(){s.lf.zoom(!1)}},{key:"zoom-in",iconClass:"lf-control-zoomIn",title:"",text:"",onClick:function(){s.lf.zoom(!0)}},{key:"reset",iconClass:"lf-control-fit",title:"",text:"",onClick:function(){s.lf.resetZoom()}},{key:"undo",iconClass:"lf-control-undo",title:"",text:"",onClick:function(){s.lf.undo()}},{key:"redo",iconClass:"lf-control-redo",title:"",text:"",onClick:function(){s.lf.redo()}}],this.lf=f}return y.prototype.render=function(d,s){this.destroy();var f=this.getControlTool();this.toolEl=f,s.appendChild(f),this.domContainer=s},y.prototype.destroy=function(){this.domContainer&&this.toolEl&&this.domContainer.contains(this.toolEl)&&this.domContainer.removeChild(this.toolEl)},y.prototype.addItem=function(d){this.controlItems.push(d)},y.prototype.removeItem=function(d){var s=this.controlItems.findIndex(function(f){return f.key===d});return this.controlItems.splice(s,1)[0]},y.prototype.getControlTool=function(){var d=this,s="lf-control-item",f="lf-control-item disabled",o=document.createElement("div"),u=[];return o.className="lf-control",this.controlItems.forEach(function(l){var v=document.createElement("div"),b=document.createElement("i"),O=document.createElement("span");switch(v.className=f,l.onClick&&(v.onclick=l.onClick.bind(null,d.lf)),l.onMouseEnter&&(v.onmouseenter=l.onMouseEnter.bind(null,d.lf)),l.onMouseLeave&&(v.onmouseleave=l.onMouseLeave.bind(null,d.lf)),b.className=l.iconClass,O.className="lf-control-text",O.title=l.title,O.innerText=l.text,v.append(b,O),l.text){case"":d.lf.on("history:change",function(E){var P=E.data.undoAble;v.className=P?s:f});break;case"":d.lf.on("history:change",function(E){var P=E.data.redoAble;v.className=P?s:f});break;default:v.className=s;break}u.push(v)}),o.append.apply(o,MI(u)),o},y.pluginName="control",y}(),wI=globalThis&&globalThis.__read||function(y,d){var s=typeof Symbol=="function"&&y[Symbol.iterator];if(!s)return y;var f=s.call(y),o,u=[],l;try{for(;(d===void 0||d-- >0)&&!(o=f.next()).done;)u.push(o.value)}catch(v){l={error:v}}finally{try{o&&!o.done&&(s=f.return)&&s.call(f)}finally{if(l)throw l.error}}return u},AI=globalThis&&globalThis.__spread||function(){for(var y=[],d=0;d<arguments.length;d++)y=y.concat(wI(arguments[d]));return y},Ti="lf:defaultNodeMenu",wi="lf:defaultEdgeMenu",Ai="lf:defaultGraphMenu",Cm="lf:defaultSelectionMenu",NI=function(){function y(d){var s=this,f=d.lf;this.__menuDOM=document.createElement("ul"),this.lf=f,this.menuTypeMap=new Map,this.init(),this.lf.setMenuConfig=function(o){s.setMenuConfig(o)},this.lf.addMenuConfig=function(o){s.addMenuConfig(o)},this.lf.setMenuByType=function(o){s.setMenuByType(o)}}return y.prototype.init=function(){var d=this,s=[{text:"",callback:function(u){d.lf.deleteNode(u.id)}},{text:"",callback:function(u){d.lf.graphModel.editText(u.id)}},{text:"",callback:function(u){d.lf.cloneNode(u.id)}}];this.menuTypeMap.set(Ti,s);var f=[{text:"",callback:function(u){d.lf.deleteEdge(u.id)}},{text:"",callback:function(u){d.lf.graphModel.editText(u.id)}}];this.menuTypeMap.set(wi,f),this.menuTypeMap.set(Ai,[]);var o=[{text:"",callback:function(u){d.lf.clearSelectElements(),u.edges.forEach(function(l){return d.lf.deleteEdge(l.id)}),u.nodes.forEach(function(l){return d.lf.deleteNode(l.id)})}}];this.menuTypeMap.set(Cm,o)},y.prototype.render=function(d,s){var f=this;this.__container=s,this.__currentData=null,this.__menuDOM.className="lf-menu",s.appendChild(this.__menuDOM),this.__menuDOM.addEventListener("click",function(o){o.stopPropagation();for(var u=o.target;Array.from(u.classList).indexOf("lf-menu-item")===-1&&Array.from(u.classList).indexOf("lf-menu")===-1;)u=u.parentElement;Array.from(u.classList).indexOf("lf-menu-item")>-1?(u.onclickCallback(f.__currentData),f.__menuDOM.style.display="none",f.__currentData=null):console.warn("")},!0),this.lf.on("node:contextmenu",function(o){var u=o.data,l=o.position,v=l.domOverlayPosition,b=v.x,O=v.y,E=u.id,P=f.lf.graphModel.getNodeModelById(E),T=[],M=f.menuTypeMap.get(P.type);P&&P.menu&&Array.isArray(P.menu)?T=P.menu:M?T=M:T=f.menuTypeMap.get(Ti),f.__currentData=u,f.showMenu(b,O,T)}),this.lf.on("edge:contextmenu",function(o){var u=o.data,l=o.position,v=l.domOverlayPosition,b=v.x,O=v.y,E=u.id,P=f.lf.graphModel.getEdgeModelById(E),T=[],M=f.menuTypeMap.get(P.type);P&&P.menu&&Array.isArray(P.menu)?T=P.menu:M?T=M:T=f.menuTypeMap.get(wi),f.__currentData=u,f.showMenu(b,O,T)}),this.lf.on("blank:contextmenu",function(o){var u=o.position,l=f.menuTypeMap.get(Ai),v=u.domOverlayPosition,b=v.x,O=v.y;f.showMenu(b,O,l)}),this.lf.on("selection:contextmenu",function(o){var u=o.data,l=o.position,v=f.menuTypeMap.get(Cm),b=l.domOverlayPosition,O=b.x,E=b.y;f.__currentData=u,f.showMenu(O,E,v)}),this.lf.on("node:mousedown",function(){f.__menuDOM.style.display="none"}),this.lf.on("edge:click",function(){f.__menuDOM.style.display="none"}),this.lf.on("blank:click",function(){f.__menuDOM.style.display="none"})},y.prototype.destroy=function(){var d;(d=this===null||this===void 0?void 0:this.__container)===null||d===void 0||d.removeChild(this.__menuDOM),this.__menuDOM=null},y.prototype.showMenu=function(d,s,f){if(!(!f||!f.length)){var o=this.__menuDOM;o.innerHTML="",o.append.apply(o,AI(this.__getMenuDom(f))),o.children.length&&(o.style.display="block",o.style.top=s+"px",o.style.left=d+"px")}},y.prototype.setMenuByType=function(d){!d.type||!d.menu||this.menuTypeMap.set(d.type,d.menu)},y.prototype.__getMenuDom=function(d){var s=[];return d&&d.length>0&&d.forEach(function(f){var o=document.createElement("li");if(f.className?o.className="lf-menu-item "+f.className:o.className="lf-menu-item",f.icon===!0){var u=document.createElement("span");u.className="lf-menu-item-icon",o.appendChild(u)}var l=document.createElement("span");l.className="lf-menu-item-text",f.text&&(l.innerText=f.text),o.appendChild(l),o.onclickCallback=f.callback,s.push(o)}),s},y.prototype.setMenuConfig=function(d){d&&(d.nodeMenu!==void 0&&this.menuTypeMap.set(Ti,d.nodeMenu?d.nodeMenu:[]),d.edgeMenu!==void 0&&this.menuTypeMap.set(wi,d.edgeMenu?d.edgeMenu:[]),d.graphMenu!==void 0&&this.menuTypeMap.set(Ai,d.graphMenu?d.graphMenu:[]))},y.prototype.addMenuConfig=function(d){if(d){if(Array.isArray(d.nodeMenu)){var s=this.menuTypeMap.get(Ti);this.menuTypeMap.set(Ti,s.concat(d.nodeMenu))}if(Array.isArray(d.edgeMenu)){var s=this.menuTypeMap.get(wi);this.menuTypeMap.set(wi,s.concat(d.edgeMenu))}if(Array.isArray(d.graphMenu)){var s=this.menuTypeMap.get(Ai);this.menuTypeMap.set(Ai,s.concat(d.graphMenu))}}},y.prototype.changeMenuItem=function(d,s){if(d==="add")this.addMenuConfig(s);else if(d==="reset")this.setMenuConfig(s);else throw new Error("The first parameter of changeMenuConfig should be 'add' or 'reset'")},y.pluginName="menu",y}();globalThis&&globalThis.__read;var DI=function(){function y(d){var s=this,f=d.lf;this.lf=f,this.lf.setPatternItems=function(o){s.setPatternItems(o)}}return y.prototype.render=function(d,s){var f=this;if(this.destroy(),!this.shapeList||this.shapeList.length===0){this.domContainer=s;return}this.panelEl=document.createElement("div"),this.panelEl.className="lf-dndpanel",this.shapeList.forEach(function(o){f.panelEl.appendChild(f.createDndItem(o))}),s.appendChild(this.panelEl),this.domContainer=s},y.prototype.destroy=function(){this.domContainer&&this.panelEl&&this.domContainer.contains(this.panelEl)&&this.domContainer.removeChild(this.panelEl)},y.prototype.setPatternItems=function(d){this.shapeList=d,this.domContainer&&this.render(this.lf,this.domContainer)},y.prototype.createDndItem=function(d){var s=this,f=document.createElement("div");f.className=d.className?"lf-dnd-item "+d.className:"lf-dnd-item";var o=document.createElement("div");if(o.className="lf-dnd-shape",d.icon&&(o.style.backgroundImage="url("+d.icon+")"),f.appendChild(o),d.label){var u=document.createElement("div");u.innerText=d.label,u.className="lf-dnd-text",f.appendChild(u)}return f.onmousedown=function(){d.type&&s.lf.dnd.startDrag({type:d.type,properties:d.properties,text:d.text}),d.callback&&d.callback(s.lf,s.domContainer)},f.ondblclick=function(l){s.lf.graphModel.eventCenter.emit("dnd:panel-dbclick",{e:l,data:d})},f.onclick=function(l){s.lf.graphModel.eventCenter.emit("dnd:panel-click",{e:l,data:d})},f.oncontextmenu=function(l){s.lf.graphModel.eventCenter.emit("dnd:panel-contextmenu",{e:l,data:d})},f},y.pluginName="dndPanel",y}(),jI=function(){function y(d){var s=this,f=d.lf;this.__disabled=!1,this.isDefaultStopMoveGraph=!1,this.isWholeNode=!0,this.isWholeEdge=!0,this.__draw=function(u){var l=s.lf.getPointByClient(u.clientX,u.clientY).domOverlayPosition,v=l.x,b=l.y;s.endPoint={x:v,y:b};var O=s.startPoint,E=O.x,P=O.y,T=s.wrapper.style,M=E,N=P,D=v-E,I=b-P;v<E&&(M=v,D=E-v),b<P&&(N=b,I=P-b),T.left=M+"px",T.top=N+"px",T.width=D+"px",T.height=I+"px"},this.__drawOff=function(){document.removeEventListener("mousemove",s.__draw),document.removeEventListener("mouseup",s.__drawOff),s.wrapper.oncontextmenu=null,s.__domContainer.removeChild(s.wrapper);var u=s.startPoint,l=u.x,v=u.y,b=s.endPoint,O=b.x,E=b.y;if(!(Math.abs(O-l)<10&&Math.abs(E-v)<10)){var P=[Math.min(l,O),Math.min(v,E)],T=[Math.max(l,O),Math.max(v,E)],M=s.lf.graphModel.getAreaElement(P,T,s.isWholeEdge,s.isWholeNode,!0),N=s.lf.graphModel.group;M.forEach(function(D){(!N||!N.getNodeGroup(D.id))&&s.lf.selectElementById(D.id,!0)}),s.lf.emit("selection:selected",M)}},this.lf=f;var o=f.getEditConfig().stopMoveGraph;this.isDefaultStopMoveGraph=o,f.openSelectionSelect=function(){s.openSelectionSelect()},f.closeSelectionSelect=function(){s.closeSelectionSelect()}}return y.prototype.render=function(d,s){var f=this;this.__domContainer=s,d.on("blank:mousedown",function(o){var u=o.e,l=d.getEditConfig();if(!(!l.stopMoveGraph||f.__disabled)){var v=u.button===2;if(!v){var b=d.getPointByClient(u.clientX,u.clientY).domOverlayPosition,O=b.x,E=b.y;f.startPoint={x:O,y:E},f.endPoint={x:O,y:E};var P=document.createElement("div");P.className="lf-selection-select",P.oncontextmenu=function(M){M.preventDefault()},P.style.top=f.startPoint.y+"px",P.style.left=f.startPoint.x+"px",s.appendChild(P),f.wrapper=P,document.addEventListener("mousemove",f.__draw),document.addEventListener("mouseup",f.__drawOff)}}})},y.prototype.setSelectionSense=function(d,s){d===void 0&&(d=!0),s===void 0&&(s=!0),this.isWholeEdge=d,this.isWholeNode=s},y.prototype.openSelectionSelect=function(){var d=this.lf.getEditConfig().stopMoveGraph;d||(this.isDefaultStopMoveGraph=!1,this.lf.updateEditConfig({stopMoveGraph:!0})),this.open()},y.prototype.closeSelectionSelect=function(){this.isDefaultStopMoveGraph||this.lf.updateEditConfig({stopMoveGraph:!1}),this.close()},y.prototype.open=function(){this.__disabled=!1},y.prototype.close=function(){this.__disabled=!0},y.pluginName="selectionSelect",y}(),CI=globalThis&&globalThis.__values||function(y){var d=typeof Symbol=="function"&&Symbol.iterator,s=d&&y[d],f=0;if(s)return s.call(y);if(y&&typeof y.length=="number")return{next:function(){return y&&f>=y.length&&(y=void 0),{value:y&&y[f++],done:!y}}};throw new TypeError(d?"Object is not iterable.":"Symbol.iterator is not defined.")},II=function(){function y(d){var s=this,f=d.lf,o=d.LogicFlow,u=d.options;this.lf=null,this.container=null,this.miniMapWrap=null,this.miniMapContainer=null,this.lfMap=null,this.viewport=null,this.width=150,this.height=220,this.leftPosition=void 0,this.topPosition=void 0,this.rightPosition=void 0,this.bottomPosition=void 0,this.miniMapWidth=450,this.miniMapHeight=660,this.viewPortTop=0,this.viewPortLeft=0,this.startPosition=null,this.viewPortScale=1,this.viewPortWidth=150,this.viewPortHeight=75,this.resetDataX=0,this.resetDataY=0,this.LogicFlow=null,this.isShow=!1,this.isShowHeader=!0,this.isShowCloseIcon=!0,this.dragging=!1,this.disabledPlugins=["miniMap","control","selectionSelect"],this.show=function(l,v){s.setView(),s.isShow||s.createMiniMap(l,v),s.isShow=!0},this.hide=function(){s.isShow&&s.removeMiniMap(),s.isShow=!1},this.reset=function(){s.lf.resetTranslate(),s.lf.resetZoom(),s.hide(),s.show()},this.startDrag=function(l){document.addEventListener("mousemove",s.drag),document.addEventListener("mouseup",s.drop),s.startPosition={x:l.x,y:l.y}},this.moveViewport=function(l,v){var b=s.viewport.style;s.viewPortTop=l,s.viewPortLeft=v,b.top=s.viewPortTop+"px",b.left=s.viewPortLeft+"px"},this.drag=function(l){s.dragging=!0;var v=s.viewPortTop+l.y-s.startPosition.y,b=s.viewPortLeft+l.x-s.startPosition.x;s.moveViewport(v,b),s.startPosition={x:l.x,y:l.y};var O=(s.viewPortLeft+s.viewPortWidth/2)/s.viewPortScale,E=(s.viewPortTop+s.viewPortHeight/2)/s.viewPortScale;s.lf.focusOn({coordinate:{x:O+s.resetDataX,y:E+s.resetDataY}})},this.drop=function(){document.removeEventListener("mousemove",s.drag),document.removeEventListener("mouseup",s.drop);var l=s.viewPortTop,v=s.viewPortLeft;s.viewPortLeft>s.width&&(v=s.width-s.viewPortWidth),s.viewPortTop>s.height&&(l=s.height-s.viewPortHeight),s.viewPortLeft<-s.width&&(v=0),s.viewPortTop<-s.height&&(l=0),s.moveViewport(l,v)},this.mapClick=function(l){if(s.dragging)s.dragging=!1;else{var v=l.layerX,b=l.layerY,O=v,E=b,P=s.lf.getGraphRawData(),T=s.getBounds(P),M=T.left,N=T.top,D=M+O/s.viewPortScale,I=N+E/s.viewPortScale;s.lf.focusOn({coordinate:{x:D,y:I}})}},this.lf=f,u&&u.MiniMap&&this.setOption(u),this.miniMapWidth=f.graphModel.width,this.miniMapHeight=f.graphModel.width*this.height/this.width,this.LogicFlow=o,this.initMiniMap()}return y.prototype.render=function(d,s){var f=this;this.container=s,this.lf.on("history:change",function(){f.isShow&&f.setView()}),this.lf.on("graph:transform",kC(function(){f.isShow&&!f.dragging&&f.setView()},300))},y.prototype.init=function(d){this.disabledPlugins=this.disabledPlugins.concat(d.disabledPlugins||[])},y.prototype.setOption=function(d){var s=d.MiniMap,f=s.width,o=f===void 0?150:f,u=s.height,l=u===void 0?220:u,v=s.isShowHeader,b=v===void 0?!0:v,O=s.isShowCloseIcon,E=O===void 0?!0:O,P=s.leftPosition,T=P===void 0?0:P,M=s.topPosition,N=M===void 0?0:M,D=s.rightPosition,I=s.bottomPosition;this.width=o,this.height=l,this.isShowHeader=b,this.isShowCloseIcon=E,this.viewPortWidth=o,this.leftPosition=T,this.topPosition=N,this.rightPosition=D,this.bottomPosition=I},y.prototype.initMiniMap=function(){var d=document.createElement("div");d.className="lf-mini-map-graph",d.style.width=this.width+4+"px",d.style.height=this.height+"px",this.lfMap=new this.LogicFlow({width:this.lf.graphModel.width,height:this.lf.graphModel.width*this.height/this.width,container:d,isSilentMode:!0,stopZoomGraph:!0,stopScrollGraph:!0,stopMoveGraph:!0,hideAnchors:!0,hoverOutline:!1,disabledPlugins:this.disabledPlugins}),this.lfMap.adapterIn=function(s){return s},this.lfMap.adapterOut=function(s){return s},this.miniMapWrap=d,this.createViewPort(),d.addEventListener("click",this.mapClick)},y.prototype.createMiniMap=function(d,s){var f=document.createElement("div");f.appendChild(this.miniMapWrap),typeof d<"u"||typeof s<"u"?(f.style.left=(d||0)+"px",f.style.top=(s||0)+"px"):(typeof this.rightPosition<"u"?f.style.right=this.rightPosition+"px":typeof this.leftPosition<"u"&&(f.style.left=this.leftPosition+"px"),typeof this.bottomPosition<"u"?f.style.bottom=this.bottomPosition+"px":typeof this.topPosition<"u"&&(f.style.top=this.topPosition+"px")),f.style.position="absolute",f.className="lf-mini-map",this.isShowCloseIcon||f.classList.add("lf-mini-map-no-close-icon"),this.isShowHeader||f.classList.add("lf-mini-map-no-header"),this.container.appendChild(f),this.miniMapWrap.appendChild(this.viewport);var o=document.createElement("div");o.className="lf-mini-map-header",o.innerText=y.headerTitle,f.appendChild(o);var u=document.createElement("span");u.className="lf-mini-map-close",u.addEventListener("click",this.hide),f.appendChild(u),this.miniMapContainer=f},y.prototype.removeMiniMap=function(){this.container.removeChild(this.miniMapContainer)},y.prototype.getBounds=function(d){var s=0,f=this.miniMapWidth,o=0,u=this.miniMapHeight,l=d.nodes;return l&&l.length>0&&l.forEach(function(v){var b=v.x,O=v.y,E=v.width,P=E===void 0?200:E,T=v.height,M=T===void 0?200:T,N=b-P/2,D=b+P/2,I=O-M/2,_=O+M/2;s=N<s?N:s,f=D>f?D:f,o=I<o?I:o,u=_>u?_:u}),{left:s,top:o,bottom:u,right:f}},y.prototype.resetData=function(d){var s=d.nodes,f=d.edges,o=0,u=0;return s&&s.length>0&&(s.forEach(function(l){var v=l.x,b=l.y,O=l.width,E=O===void 0?200:O,P=l.height,T=P===void 0?200:P,M=v-E/2,N=b-T/2;o=M<o?M:o,u=N<u?N:u}),(o<0||u<0)&&(this.resetDataX=o,this.resetDataY=u,s.forEach(function(l){l.x=l.x-o,l.y=l.y-u,l.text&&(l.text.x=l.text.x-o,l.text.y=l.text.y-u)}),f.forEach(function(l){l.startPoint&&(l.startPoint.x=l.startPoint.x-o,l.startPoint.y=l.startPoint.y-u),l.endPoint&&(l.endPoint.x=l.endPoint.x-o,l.endPoint.y=l.endPoint.y-u),l.text&&(l.text.x=l.text.x-o,l.text.y=l.text.y-u),l.pointsList&&l.pointsList.forEach(function(v){v.x=v.x-o,v.y=v.y-u})}))),d},y.prototype.setView=function(){var d,s,f=this.lf.getGraphRawData(),o=this.resetData(f),u=this.lf.viewMap,l=this.lf.graphModel.modelMap,v=this.lfMap.viewMap;try{for(var b=CI(u.keys()),O=b.next();!O.done;O=b.next()){var E=O.value;v.has(E)||(this.lfMap.setView(E,u.get(E)),this.lfMap.graphModel.modelMap.set(E,l.get(E)))}}catch(ue){d={error:ue}}finally{try{O&&!O.done&&(s=b.return)&&s.call(b)}finally{if(d)throw d.error}}this.lfMap.render(o);var P=this.getBounds(o),T=P.left,M=P.top,N=P.right,D=P.bottom,I=this.width/(N-T),_=this.height/(D-M),$=this.miniMapWrap.firstChild.style,X=Math.min(I,_);$.transform="matrix("+X+", 0, 0, "+X+", 0, 0)",$.transformOrigin="left top",$.height=D-Math.min(M,0)+"px",$.width=N-Math.min(T,0)+"px",this.viewPortScale=X,this.setViewPort(X,{left:T,top:M,right:N,bottom:D})},y.prototype.setViewPort=function(d,s){var f=s.left,o=s.right;s.top,s.bottom;var u=this.viewport.style;u.width=this.viewPortWidth+"px",u.height=this.viewPortWidth/(this.lf.graphModel.width/this.lf.graphModel.height)+"px";var l=this.lf.getTransform(),v=l.TRANSLATE_X,b=l.TRANSLATE_Y,O=l.SCALE_X,E=l.SCALE_Y,P=o-f,T=this.width/(P/this.lf.graphModel.width),M=this.width*(T/this.width),N=this.lf.graphModel.width/this.lf.graphModel.height,D=M/N,I=this.lf.getGraphRawData(),_=this.getBounds(I),$=_.left,X=_.top,ue=$,le=X;ue+=v/O,le+=b/E,this.viewPortTop=le>0?0:-le*d,this.viewPortLeft=ue>0?0:-ue*d,this.viewPortWidth=M,this.viewPortHeight=D,u.top=this.viewPortTop+"px",u.left=this.viewPortLeft+"px",u.width=M/O+"px",u.height=D/E+"px"},y.prototype.createViewPort=function(){var d=document.createElement("div");d.className="lf-minimap-viewport",d.addEventListener("mousedown",this.startDrag),this.viewport=d},y.pluginName="miniMap",y.width=150,y.height=220,y.viewPortWidth=150,y.viewPortHeight=75,y.isShowHeader=!0,y.isShowCloseIcon=!0,y.leftPosition=0,y.topPosition=0,y.rightPosition=null,y.bottomPosition=null,y.headerTitle="",y}();function RI(y){if(y.length<=1)return!1;for(var d=0,s=y.length-1;d!==s&&d+1!==s&&s-1!==d;)d++,s--;return d===s?[--d,s]:[d,s]}var fb=globalThis&&globalThis.__extends||function(){var y=function(d,s){return y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,o){f.__proto__=o}||function(f,o){for(var u in o)o.hasOwnProperty(u)&&(f[u]=o[u])},y(d,s)};return function(d,s){y(d,s);function f(){this.constructor=d}d.prototype=s===null?Object.create(s):(f.prototype=s.prototype,new f)}}(),Uo=globalThis&&globalThis.__assign||function(){return Uo=Object.assign||function(y){for(var d,s=1,f=arguments.length;s<f;s++){d=arguments[s];for(var o in d)Object.prototype.hasOwnProperty.call(d,o)&&(y[o]=d[o])}return y},Uo.apply(this,arguments)},mn=globalThis&&globalThis.__read||function(y,d){var s=typeof Symbol=="function"&&y[Symbol.iterator];if(!s)return y;var f=s.call(y),o,u=[],l;try{for(;(d===void 0||d-- >0)&&!(o=f.next()).done;)u.push(o.value)}catch(v){l={error:v}}finally{try{o&&!o.done&&(s=f.return)&&s.call(f)}finally{if(l)throw l.error}}return u};(function(y){fb(d,y);function d(){return y!==null&&y.apply(this,arguments)||this}return d.prototype.pointFilter=function(s){for(var f=s,o=1;o<f.length-1;){var u=mn(f[o-1],2),l=u[0],v=u[1],b=mn(f[o],2),O=b[0],E=b[1],P=mn(f[o+1],2),T=P[0],M=P[1];l===O&&O===T||v===E&&E===M?f.splice(o,1):o++}return f},d.prototype.getEdge=function(){var s=this.props.model,f=s.points,o=s.isAnimation,u=s.arrowConfig,l=s.radius,v=l===void 0?5:l,b=s.getEdgeStyle(),O=s.getEdgeAnimationStyle(),E=this.pointFilter(f.split(" ").map(function(Be){return Be.split(",").map(function(Ee){return Number(Ee)})})),P=RI(E);if(P){var T=mn(P,2),M=T[0],N=T[1],D=E[M],I=E[N],_=D.some(function(Be,Ee){return Be===I[Ee]});if(!_){var $=(I[1]-D[1])/2,X=[I[0],I[1]-$],ue=[D[0],D[1]+$];E.splice(M+1,0,ue,X)}}for(var le=mn(E[0],2),ee=le[0],Q=le[1],se="M"+ee+" "+Q,z=1;z<E.length-1;z++){var U=mn(E[z-1],2),L=U[0],A=U[1],R=mn(E[z],2),W=R[0],Z=R[1],ce=mn(E[z+1],2),Pe=ce[0],me=ce[1];if(W===L&&Z!==A){var be=Z>A?Z-v:Z+v;se=se+" L "+W+" "+be}if(Z===A&&W!==L){var xe=W>L?W-v:W+v;se=se+" L "+xe+" "+Z}if(se=se+" Q "+W+" "+Z,W===Pe&&Z!==me){var be=Z>me?Z-v:Z+v;se=se+" "+W+" "+be}if(Z===me&&W!==Pe){var xe=W>Pe?W-v:W+v;se=se+" "+xe+" "+Z}}var Oe=mn(E[E.length-1],2),Ae=Oe[0],Fe=Oe[1];se=se+" L "+Ae+" "+Fe;var Ve=Uo(Uo(Uo({d:se,style:o?O:{}},b),u),{fill:"none"});return Ge.h("path",Uo({d:se},Ve))},d})(Ge.PolylineEdge);(function(y){fb(d,y);function d(){return y!==null&&y.apply(this,arguments)||this}return d})(Ge.PolylineEdgeModel);var ud,$t,cb,Ii,Im,db={},pb=[],LI=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function kn(y,d){for(var s in d)y[s]=d[s];return y}function hb(y){var d=y.parentNode;d&&d.removeChild(y)}function Ri(y,d,s){var f,o,u,l={};for(u in d)u=="key"?f=d[u]:u=="ref"?o=d[u]:l[u]=d[u];if(arguments.length>2&&(l.children=arguments.length>3?ud.call(arguments,2):s),typeof y=="function"&&y.defaultProps!=null)for(u in y.defaultProps)l[u]===void 0&&(l[u]=y.defaultProps[u]);return $l(y,l,f,o,null)}function $l(y,d,s,f,o){var u={type:y,props:d,key:s,ref:f,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:o??++cb};return o==null&&$t.vnode!=null&&$t.vnode(u),u}function fd(y){return y.children}function Yo(y,d){this.props=y,this.context=d}function Bi(y,d){if(d==null)return y.__?Bi(y.__,y.__.__k.indexOf(y)+1):null;for(var s;d<y.__k.length;d++)if((s=y.__k[d])!=null&&s.__e!=null)return s.__e;return typeof y.type=="function"?Bi(y):null}function vb(y){var d,s;if((y=y.__)!=null&&y.__c!=null){for(y.__e=y.__c.base=null,d=0;d<y.__k.length;d++)if((s=y.__k[d])!=null&&s.__e!=null){y.__e=y.__c.base=s.__e;break}return vb(y)}}function Rm(y){(!y.__d&&(y.__d=!0)&&Ii.push(y)&&!Yl.__r++||Im!==$t.debounceRendering)&&((Im=$t.debounceRendering)||setTimeout)(Yl)}function Yl(){for(var y;Yl.__r=Ii.length;)y=Ii.sort(function(d,s){return d.__v.__b-s.__v.__b}),Ii=[],y.some(function(d){var s,f,o,u,l,v;d.__d&&(l=(u=(s=d).__v).__e,(v=s.__P)&&(f=[],(o=kn({},u)).__v=u.__v+1,bb(v,u,o,s.__n,v.ownerSVGElement!==void 0,u.__h!=null?[l]:null,f,l??Bi(u),u.__h),_I(f,u),u.__e!=l&&vb(u)))})}function yb(y,d,s,f,o,u,l,v,b,O){var E,P,T,M,N,D,I,_=f&&f.__k||pb,$=_.length;for(s.__k=[],E=0;E<d.length;E++)if((M=s.__k[E]=(M=d[E])==null||typeof M=="boolean"?null:typeof M=="string"||typeof M=="number"||typeof M=="bigint"?$l(null,M,null,null,M):Array.isArray(M)?$l(fd,{children:M},null,null,null):M.__b>0?$l(M.type,M.props,M.key,M.ref?M.ref:null,M.__v):M)!=null){if(M.__=s,M.__b=s.__b+1,(T=_[E])===null||T&&M.key==T.key&&M.type===T.type)_[E]=void 0;else for(P=0;P<$;P++){if((T=_[P])&&M.key==T.key&&M.type===T.type){_[P]=void 0;break}T=null}bb(y,M,T=T||db,o,u,l,v,b,O),N=M.__e,(P=M.ref)&&T.ref!=P&&(I||(I=[]),T.ref&&I.push(T.ref,null,M),I.push(P,M.__c||N,M)),N!=null?(D==null&&(D=N),typeof M.type=="function"&&M.__k===T.__k?M.__d=b=gb(M,b,y):b=mb(y,M,T,_,N,b),typeof s.type=="function"&&(s.__d=b)):b&&T.__e==b&&b.parentNode!=y&&(b=Bi(T))}for(s.__e=D,E=$;E--;)_[E]!=null&&Eb(_[E],_[E]);if(I)for(E=0;E<I.length;E++)Ob(I[E],I[++E],I[++E])}function gb(y,d,s){for(var f,o=y.__k,u=0;o&&u<o.length;u++)(f=o[u])&&(f.__=y,d=typeof f.type=="function"?gb(f,d,s):mb(s,f,f,o,f.__e,d));return d}function mb(y,d,s,f,o,u){var l,v,b;if(d.__d!==void 0)l=d.__d,d.__d=void 0;else if(s==null||o!=u||o.parentNode==null)e:if(u==null||u.parentNode!==y)y.appendChild(o),l=null;else{for(v=u,b=0;(v=v.nextSibling)&&b<f.length;b+=2)if(v==o)break e;y.insertBefore(o,u),l=u}return l!==void 0?l:o.nextSibling}function BI(y,d,s,f,o){var u;for(u in s)u==="children"||u==="key"||u in d||Wl(y,u,null,s[u],f);for(u in d)o&&typeof d[u]!="function"||u==="children"||u==="key"||u==="value"||u==="checked"||s[u]===d[u]||Wl(y,u,d[u],s[u],f)}function Lm(y,d,s){d[0]==="-"?y.setProperty(d,s):y[d]=s==null?"":typeof s!="number"||LI.test(d)?s:s+"px"}function Wl(y,d,s,f,o){var u;e:if(d==="style")if(typeof s=="string")y.style.cssText=s;else{if(typeof f=="string"&&(y.style.cssText=f=""),f)for(d in f)s&&d in s||Lm(y.style,d,"");if(s)for(d in s)f&&s[d]===f[d]||Lm(y.style,d,s[d])}else if(d[0]==="o"&&d[1]==="n")u=d!==(d=d.replace(/Capture$/,"")),d=d.toLowerCase()in y?d.toLowerCase().slice(2):d.slice(2),y.l||(y.l={}),y.l[d+u]=s,s?f||y.addEventListener(d,u?_m:Bm,u):y.removeEventListener(d,u?_m:Bm,u);else if(d!=="dangerouslySetInnerHTML"){if(o)d=d.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(d!=="href"&&d!=="list"&&d!=="form"&&d!=="tabIndex"&&d!=="download"&&d in y)try{y[d]=s??"";break e}catch{}typeof s=="function"||(s==null||s===!1&&d.indexOf("-")==-1?y.removeAttribute(d):y.setAttribute(d,s))}}function Bm(y){this.l[y.type+!1]($t.event?$t.event(y):y)}function _m(y){this.l[y.type+!0]($t.event?$t.event(y):y)}function bb(y,d,s,f,o,u,l,v,b){var O,E,P,T,M,N,D,I,_,$,X,ue,le,ee=d.type;if(d.constructor!==void 0)return null;s.__h!=null&&(b=s.__h,v=d.__e=s.__e,d.__h=null,u=[v]),(O=$t.__b)&&O(d);try{e:if(typeof ee=="function"){for(I=d.props,_=(O=ee.contextType)&&f[O.__c],$=O?_?_.props.value:O.__:f,s.__c?D=(E=d.__c=s.__c).__=E.__E:("prototype"in ee&&ee.prototype.render?d.__c=E=new ee(I,$):(d.__c=E=new Yo(I,$),E.constructor=ee,E.render=FI),_&&_.sub(E),E.props=I,E.state||(E.state={}),E.context=$,E.__n=f,P=E.__d=!0,E.__h=[],E._sb=[]),E.__s==null&&(E.__s=E.state),ee.getDerivedStateFromProps!=null&&(E.__s==E.state&&(E.__s=kn({},E.__s)),kn(E.__s,ee.getDerivedStateFromProps(I,E.__s))),T=E.props,M=E.state,O=0;O<E._sb.length;O++)E.__h.push(E._sb[O]),E._sb=[];if(P)ee.getDerivedStateFromProps==null&&E.componentWillMount!=null&&E.componentWillMount(),E.componentDidMount!=null&&E.__h.push(E.componentDidMount);else{if(ee.getDerivedStateFromProps==null&&I!==T&&E.componentWillReceiveProps!=null&&E.componentWillReceiveProps(I,$),!E.__e&&E.shouldComponentUpdate!=null&&E.shouldComponentUpdate(I,E.__s,$)===!1||d.__v===s.__v){E.props=I,E.state=E.__s,d.__v!==s.__v&&(E.__d=!1),E.__v=d,d.__e=s.__e,d.__k=s.__k,d.__k.forEach(function(Q){Q&&(Q.__=d)}),E.__h.length&&l.push(E);break e}E.componentWillUpdate!=null&&E.componentWillUpdate(I,E.__s,$),E.componentDidUpdate!=null&&E.__h.push(function(){E.componentDidUpdate(T,M,N)})}if(E.context=$,E.props=I,E.__v=d,E.__P=y,X=$t.__r,ue=0,"prototype"in ee&&ee.prototype.render)E.state=E.__s,E.__d=!1,X&&X(d),O=E.render(E.props,E.state,E.context);else do E.__d=!1,X&&X(d),O=E.render(E.props,E.state,E.context),E.state=E.__s;while(E.__d&&++ue<25);E.state=E.__s,E.getChildContext!=null&&(f=kn(kn({},f),E.getChildContext())),P||E.getSnapshotBeforeUpdate==null||(N=E.getSnapshotBeforeUpdate(T,M)),le=O!=null&&O.type===fd&&O.key==null?O.props.children:O,yb(y,Array.isArray(le)?le:[le],d,s,f,o,u,l,v,b),E.base=d.__e,d.__h=null,E.__h.length&&l.push(E),D&&(E.__E=E.__=null),E.__e=!1}else u==null&&d.__v===s.__v?(d.__k=s.__k,d.__e=s.__e):d.__e=zI(s.__e,d,s,f,o,u,l,b);(O=$t.diffed)&&O(d)}catch(Q){d.__v=null,(b||u!=null)&&(d.__e=v,d.__h=!!b,u[u.indexOf(v)]=null),$t.__e(Q,d,s)}}function _I(y,d){$t.__c&&$t.__c(d,y),y.some(function(s){try{y=s.__h,s.__h=[],y.some(function(f){f.call(s)})}catch(f){$t.__e(f,s.__v)}})}function zI(y,d,s,f,o,u,l,v){var b,O,E,P=s.props,T=d.props,M=d.type,N=0;if(M==="svg"&&(o=!0),u!=null){for(;N<u.length;N++)if((b=u[N])&&"setAttribute"in b==!!M&&(M?b.localName===M:b.nodeType===3)){y=b,u[N]=null;break}}if(y==null){if(M===null)return document.createTextNode(T);y=o?document.createElementNS("http://www.w3.org/2000/svg",M):document.createElement(M,T.is&&T),u=null,v=!1}if(M===null)P===T||v&&y.data===T||(y.data=T);else{if(u=u&&ud.call(y.childNodes),O=(P=s.props||db).dangerouslySetInnerHTML,E=T.dangerouslySetInnerHTML,!v){if(u!=null)for(P={},N=0;N<y.attributes.length;N++)P[y.attributes[N].name]=y.attributes[N].value;(E||O)&&(E&&(O&&E.__html==O.__html||E.__html===y.innerHTML)||(y.innerHTML=E&&E.__html||""))}if(BI(y,T,P,o,v),E)d.__k=[];else if(N=d.props.children,yb(y,Array.isArray(N)?N:[N],d,s,f,o&&M!=="foreignObject",u,l,u?u[0]:s.__k&&Bi(s,0),v),u!=null)for(N=u.length;N--;)u[N]!=null&&hb(u[N]);v||("value"in T&&(N=T.value)!==void 0&&(N!==y.value||M==="progress"&&!N||M==="option"&&N!==P.value)&&Wl(y,"value",N,P.value,!1),"checked"in T&&(N=T.checked)!==void 0&&N!==y.checked&&Wl(y,"checked",N,P.checked,!1))}return y}function Ob(y,d,s){try{typeof y=="function"?y(d):y.current=d}catch(f){$t.__e(f,s)}}function Eb(y,d,s){var f,o;if($t.unmount&&$t.unmount(y),(f=y.ref)&&(f.current&&f.current!==y.__e||Ob(f,null,d)),(f=y.__c)!=null){if(f.componentWillUnmount)try{f.componentWillUnmount()}catch(u){$t.__e(u,d)}f.base=f.__P=null,y.__c=void 0}if(f=y.__k)for(o=0;o<f.length;o++)f[o]&&Eb(f[o],d,s||typeof y.type!="function");s||y.__e==null||hb(y.__e),y.__=y.__e=y.__d=void 0}function FI(y,d,s){return this.constructor(y,s)}ud=pb.slice,$t={__e:function(y,d,s,f){for(var o,u,l;d=d.__;)if((o=d.__c)&&!o.__)try{if((u=o.constructor)&&u.getDerivedStateFromError!=null&&(o.setState(u.getDerivedStateFromError(y)),l=o.__d),o.componentDidCatch!=null&&(o.componentDidCatch(y,f||{}),l=o.__d),l)return o.__E=o}catch(v){y=v}throw y}},cb=0,Yo.prototype.setState=function(y,d){var s;s=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=kn({},this.state),typeof y=="function"&&(y=y(kn({},s),this.props)),y&&kn(s,y),y!=null&&this.__v&&(d&&this._sb.push(d),Rm(this))},Yo.prototype.forceUpdate=function(y){this.__v&&(this.__e=!0,y&&this.__h.push(y),Rm(this))},Yo.prototype.render=fd,Ii=[],Yl.__r=0;var Li=globalThis&&globalThis.__assign||function(){return Li=Object.assign||function(y){for(var d,s=1,f=arguments.length;s<f;s++){d=arguments[s];for(var o in d)Object.prototype.hasOwnProperty.call(d,o)&&(y[o]=d[o])}return y},Li.apply(this,arguments)};function cd(y){var d=y.x,s=y.y,f=y.width,o=y.height,u=y.radius,l=y.className,v=d-f/2,b=s-o/2,O=Li(Li({width:10,height:10,cx:0,cy:0,rx:u||0,ry:u||0,fill:"transparent",fillOpacity:1,strokeWidth:"1px",stroke:"#000",strokeOpacity:1,className:"lf-basic-shape "+l},y),{x:v,y:b});return Ge.h("rect",Li({},O))}cd.defaultProps={radius:0,stroke:"",strokeDasharray:"",className:""};var Xo;(function(y){y.NODE="node",y.CIRCLE_NODE="circle-node",y.POLYGON_NODE="polygon-node",y.RECT_NODE="rect-node",y.HTML_NODE="html-node",y.TEXT_NODE="text-node",y.ELLIPSE_NODE="ellipse-node",y.DIAMOND_NODE="diamond-node",y.EDGE="edge",y.LINE_EDGE="line-edge",y.POLYLINE_EDGE="polyline-edge",y.BEZIER_EDGE="bezier-edge",y.GRAPH="graph"})(Xo||(Xo={}));function kl(y){var d=y.x,s=y.y,f=y.width,o=y.height;return{minX:d-f/2,minY:s-o/2,maxX:d+f/2,maxY:s+o/2}}function zm(y){var d=kl(y),s=y.radius,f=d.minX,o=d.minY,u=d.maxX,l=d.maxY;return[{x:f+s,y:o+s},{x:u-s,y:o+s},{x:u-s,y:l-s},{x:f+s,y:l-s}]}function Fm(y){var d=y.point,s=y.beforeNode,f=y.afterNode,o=d.x,u=d.y,l={x:o,y:u},v=s.radius,b=kl(s),O=kl(f);if(o===b.minX){l.x=O.minX;var E=(u-s.y)/(s.height/2-v);E?l.y=f.y+(f.height/2-v)*E:l.y=f.y}else if(o===b.maxX){l.x=O.maxX;var E=(u-s.y)/(s.height/2-v);E?l.y=f.y+(f.height/2-v)*E:l.y=f.y}else if(u===b.minY){l.y=O.minY;var E=(o-s.x)/(s.width/2-v);E?l.x=f.x+(f.width/2-v)*E:l.x=f.x}else if(u===b.maxY){l.y=O.maxY;var E=(o-s.x)/(s.width/2-v);E?l.x=f.x+(f.width/2-v)*E:l.x=f.x}else{var P=zm(s),T=zm(f),M=kl(s),N=M.minX,D=M.minY,I=M.maxX,_=M.maxY,$=-1;if(o-N<v&&u-D<v?$=0:I-o<v&&u-D<v?$=1:I-o<v&&_-u<v?$=2:o-N<v&&D-u<v&&($=3),$>-1){var X=Math.atan2(u-P[$].y,o-P[$].x);l.x=T[$].x+v*Math.cos(X),l.y=T[$].y+v*Math.sin(X)}}return l}function Gm(y){var d=y.point,s=y.beforeNode,f=y.afterNode,o=f.rx,u=f.ry,l=d,v=(d.y-s.y)/(d.x-s.x),b=o,O=u,E,P;return v>=1/0?(E=0,P=O):v<=-1/0?(E=0,P=-O):d.x-s.x>0?(E=b*O/Math.sqrt(O*O+b*b*v*v),P=b*O*v/Math.sqrt(O*O+b*b*v*v)):(E=-(b*O)/Math.sqrt(O*O+b*b*v*v),P=-(b*O*v)/Math.sqrt(O*O+b*b*v*v)),l={x:E+f.x,y:P+f.y},l}function Hm(y){var d=y.point,s=y.beforeNode,f=y.afterNode,o=d,u,l,v=d.x-s.x,b=d.y-s.y,O=s.rx,E=s.ry,P=Math.sqrt((O-Math.abs(v))*(O-Math.abs(v))+b*b)/Math.sqrt(O*O+E*E),T=f.rx,M=f.ry,N=Math.sqrt((T*T+M*M)*P*P*(T*T/(T*T+M*M))),D=N*(M/T);return v>=0?u=T-N:u=N-T,b>0?l=D:l=-D,o={x:u+f.x,y:l+f.y},o}var GI=globalThis&&globalThis.__extends||function(){var y=function(d,s){return y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,o){f.__proto__=o}||function(f,o){for(var u in o)o.hasOwnProperty(u)&&(f[u]=o[u])},y(d,s)};return function(d,s){y(d,s);function f(){this.constructor=d}d.prototype=s===null?Object.create(s):(f.prototype=s.prototype,new f)}}(),ao=globalThis&&globalThis.__assign||function(){return ao=Object.assign||function(y){for(var d,s=1,f=arguments.length;s<f;s++){d=arguments[s];for(var o in d)Object.prototype.hasOwnProperty.call(d,o)&&(y[o]=d[o])}return y},ao.apply(this,arguments)},HI=globalThis&&globalThis.__read||function(y,d){var s=typeof Symbol=="function"&&y[Symbol.iterator];if(!s)return y;var f=s.call(y),o,u=[],l;try{for(;(d===void 0||d-- >0)&&!(o=f.next()).done;)u.push(o.value)}catch(v){l={error:v}}finally{try{o&&!o.done&&(s=f.return)&&s.call(f)}finally{if(l)throw l.error}}return u},$I=Ge.LogicFlowUtil.StepDrag,kI=function(y){GI(d,y);function d(s){var f=y.call(this)||this;return f.updatePosition=function(o){var u=o.deltaX,l=o.deltaY,v=f.nodeModel,b=v.x,O=v.y;f.nodeModel.x=b+u/2,f.nodeModel.y=O+l/2,f.nodeModel.moveText(u/2,l/2)},f.getResize=function(o){var u=o.index,l=o.deltaX,v=o.deltaY,b=o.width,O=o.height,E=o.PCTResizeInfo,P=o.pct,T=P===void 0?1:P,M={width:b,height:O,deltaX:l,deltaY:v};if(E){var N=4,D=0,I=0;switch(u){case 0:I=(l*-1-v)/N;break;case 1:I=(l-v)/N;break;case 2:I=(l+v)/N;break;case 3:I=(l*-1+v)/N;break}I!==0&&(D=Math.round(I/E.ResizeBasis.basisHeight*1e5)/1e3),E.ResizePCT.widthPCT=Math.max(Math.min(E.ResizePCT.widthPCT+D,E.ScaleLimit.maxScaleLimit),E.ScaleLimit.minScaleLimit),E.ResizePCT.hightPCT=Math.max(Math.min(E.ResizePCT.hightPCT+D,E.ScaleLimit.maxScaleLimit),E.ScaleLimit.minScaleLimit);var _=Math.round(E.ResizePCT.widthPCT*E.ResizeBasis.basisWidth/100),$=Math.round(E.ResizePCT.hightPCT*E.ResizeBasis.basisHeight/100);switch(u){case 0:l=b-_,v=O-$;break;case 1:l=_-b,v=O-$;break;case 2:l=_-b,v=$-O;break;case 3:l=b-_,v=$-O;break}return M.width=_,M.height=$,M.deltaX=l/T,M.deltaY=v/T,M}switch(u){case 0:M.width=b-l*T,M.height=O-v*T;break;case 1:M.width=b+l*T,M.height=O-v*T;break;case 2:M.width=b+l*T,M.height=O+v*T;break;case 3:M.width=b-l*T,M.height=O+v*T;break}return M},f.updateRect=function(o){var u=o.deltaX,l=o.deltaY,v=f.nodeModel,b=v.id,O=v.x,E=v.y,P=v.width,T=v.height,M=v.radius,N=v.PCTResizeInfo,D=f.index,I=f.getResize({index:D,deltaX:u,deltaY:l,width:P,height:T,PCTResizeInfo:N,pct:1}),_=f.nodeModel,$=_.minWidth,X=_.minHeight,ue=_.maxWidth,le=_.maxHeight;if(I.width<$||I.width>ue||I.height<X||I.height>le){f.dragHandler.cancelDrag();return}f.updatePosition({deltaX:I.deltaX,deltaY:I.deltaY}),f.nodeModel.width=I.width,f.nodeModel.height=I.height,f.nodeModel.setProperties({nodeSize:{width:I.width,height:I.height}});var ee=f.getNodeEdges(b),Q={x:O,y:E,width:P,height:T,radius:M},se={x:f.nodeModel.x,y:f.nodeModel.y,width:f.nodeModel.width,height:f.nodeModel.height,radius:M},z={point:"",beforeNode:Q,afterNode:se},U;ee.sourceEdges.forEach(function(L){z.point=L.startPoint,U=Fm(z),L.updateStartPoint(U)}),ee.targetEdges.forEach(function(L){z.point=L.endPoint,U=Fm(z),L.updateEndPoint(U)}),f.eventEmit({beforeNode:Q,afterNode:se})},f.updateEllipse=function(o){var u=o.deltaX,l=o.deltaY,v=f.nodeModel,b=v.id,O=v.rx,E=v.ry,P=v.x,T=v.y,M=v.PCTResizeInfo,N=f.index,D=O,I=E,_=f.getResize({index:N,deltaX:u,deltaY:l,width:D,height:I,PCTResizeInfo:M,pct:1/2}),$=f.nodeModel,X=$.minWidth,ue=$.minHeight,le=$.maxWidth,ee=$.maxHeight;if(_.width<X/2||_.width>le/2||_.height<ue/2||_.height>ee/2){f.dragHandler.cancelDrag();return}f.updatePosition({deltaX:_.deltaX,deltaY:_.deltaY}),f.nodeModel.rx=_.width,f.nodeModel.ry=_.height,f.nodeModel.setProperties({nodeSize:{rx:_.width,ry:_.height}});var Q=f.getNodeEdges(b),se={x:P,y:T},z={rx:_.width,ry:_.height,x:f.nodeModel.x,y:f.nodeModel.y},U={point:{},beforeNode:se,afterNode:z},L;Q.sourceEdges.forEach(function(A){U.point=A.startPoint,L=Gm(U),A.updateStartPoint(L)}),Q.targetEdges.forEach(function(A){U.point=A.endPoint,L=Gm(U),A.updateEndPoint(L)}),f.eventEmit({beforeNode:ao(ao({},se),{rx:O,ry:E}),afterNode:z})},f.updateDiamond=function(o){var u=o.deltaX,l=o.deltaY,v=f.nodeModel,b=v.id,O=v.rx,E=v.ry,P=v.x,T=v.y,M=v.PCTResizeInfo,N=f.index,D=O,I=E,_=f.getResize({index:N,deltaX:u,deltaY:l,width:D,height:I,PCTResizeInfo:M,pct:1/2}),$=f.nodeModel,X=$.minWidth,ue=$.minHeight,le=$.maxWidth,ee=$.maxHeight;if(_.width<X/2||_.width>le/2||_.height<ue/2||_.height>ee/2){f.dragHandler.cancelDrag();return}f.updatePosition({deltaX:_.deltaX,deltaY:_.deltaY}),f.nodeModel.rx=_.width,f.nodeModel.ry=_.height,f.nodeModel.setProperties({nodeSize:{rx:_.width,ry:_.height}});var Q={x:P,y:T,rx:O,ry:E},se={rx:_.width,ry:_.height,x:f.nodeModel.x,y:f.nodeModel.y},z={point:{},beforeNode:Q,afterNode:se},U,L=f.getNodeEdges(b);L.sourceEdges.forEach(function(A){z.point=A.startPoint,U=Hm(z),A.updateStartPoint(U)}),L.targetEdges.forEach(function(A){z.point=A.endPoint,U=Hm(z),A.updateEndPoint(U)}),f.eventEmit({beforeNode:Q,afterNode:se})},f.eventEmit=function(o){var u=o.beforeNode,l=o.afterNode,v=f.nodeModel,b=v.id,O=v.modelType,E=v.type,P=ao({id:b,modelType:O,type:E},u),T=ao({id:b,modelType:O,type:E},l);f.graphModel.eventCenter.emit("node:resize",{oldNodeSize:P,newNodeSize:T})},f.onDragging=function(o){var u,l=o.deltaX,v=o.deltaY,b=f.graphModel.transformModel,O=f.nodeModel.modelType;u=HI(b.fixDeltaXY(l,v),2),l=u[0],v=u[1],O===Xo.RECT_NODE||O===Xo.HTML_NODE?f.updateRect({deltaX:l,deltaY:v}):O===Xo.ELLIPSE_NODE?f.updateEllipse({deltaX:l,deltaY:v}):O===Xo.DIAMOND_NODE&&f.updateDiamond({deltaX:l,deltaY:v})},f.onDragEnd=function(){var o=f.graphModel.gridSize,u=o===void 0?1:o,l=u*Math.round(f.nodeModel.x/u),v=u*Math.round(f.nodeModel.y/u);f.nodeModel.moveTo(l,v)},f.index=s.index,f.nodeModel=s.model,f.graphModel=s.graphModel,f.state={},f.dragHandler=new $I({onDragging:f.onDragging,onDragEnd:f.onDragEnd,step:1}),f}return d.prototype.getNodeEdges=function(s){for(var f=this.graphModel,o=f.edges,u=[],l=[],v=0;v<o.length;v++){var b=o[v];b.sourceNodeId===s?u.push(b):o[v].targetNodeId===s&&l.push(b)}return{sourceEdges:u,targetEdges:l}},d.prototype.render=function(){var s=this.props,f=s.x,o=s.y,u=s.index,l=s.model,v=l.getControlPointStyle();return Ri("g",{className:"lf-resize-control-"+u},Ri(cd,ao({className:"lf-node-control"},{x:f,y:o},v,{onMouseDown:this.dragHandler.handleMouseDown})))},d}(Yo),UI=globalThis&&globalThis.__extends||function(){var y=function(d,s){return y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,o){f.__proto__=o}||function(f,o){for(var u in o)o.hasOwnProperty(u)&&(f[u]=o[u])},y(d,s)};return function(d,s){y(d,s);function f(){this.constructor=d}d.prototype=s===null?Object.create(s):(f.prototype=s.prototype,new f)}}(),Kl=globalThis&&globalThis.__assign||function(){return Kl=Object.assign||function(y){for(var d,s=1,f=arguments.length;s<f;s++){d=arguments[s];for(var o in d)Object.prototype.hasOwnProperty.call(d,o)&&(y[o]=d[o])}return y},Kl.apply(this,arguments)},Jl=function(y){UI(d,y);function d(){var s=y.call(this)||this;return s.state={},s}return d.prototype.getResizeControl=function(){var s=this.props,f=s.model,o=s.graphModel,u=f.x,l=f.y,v=f.width,b=f.height,O={minX:u-v/2,minY:l-b/2,maxX:u+v/2,maxY:l+b/2},E=O.minX,P=O.minY,T=O.maxX,M=O.maxY,N=[{x:E,y:P},{x:T,y:P},{x:T,y:M},{x:E,y:M}];return N.map(function(D,I){return Ri(kI,Kl({index:I},D,{model:f,graphModel:o}))})},d.prototype.getGroupSolid=function(){var s=this.props.model,f=s.x,o=s.y,u=s.width,l=s.height,v=s.getResizeOutlineStyle();return Ri(cd,Kl({fill:"none"},v,{x:f,y:o,width:u,height:l}))},d.prototype.render=function(){return Ri("g",{className:"lf-resize-control"},this.getGroupSolid(),this.getResizeControl())},d}(Yo),xb=globalThis&&globalThis.__extends||function(){var y=function(d,s){return y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,o){f.__proto__=o}||function(f,o){for(var u in o)o.hasOwnProperty(u)&&(f[u]=o[u])},y(d,s)};return function(d,s){y(d,s);function f(){this.constructor=d}d.prototype=s===null?Object.create(s):(f.prototype=s.prototype,new f)}}(),XI=function(y){xb(d,y);function d(s,f){var o=y.call(this,s,f)||this,u=o.properties.nodeSize;return u&&(o.width=u.width,o.height=u.height),o}return d.prototype.initNodeData=function(s){y.prototype.initNodeData.call(this,s),this.minWidth=30,this.minHeight=30,this.maxWidth=2e3,this.maxHeight=2e3},d.prototype.getOutlineStyle=function(){var s=y.prototype.getOutlineStyle.call(this),f=this.graphModel.editConfigModel.isSilentMode;return f||(s.stroke="none",s.hover&&(s.hover.stroke="none")),s},d.prototype.getResizeOutlineStyle=function(){return{fill:"none",stroke:"transparent",strokeWidth:1,strokeDasharray:"3,3"}},d.prototype.getControlPointStyle=function(){return{width:7,height:7,fill:"#FFFFFF",stroke:"#000000"}},d.prototype.resize=function(s,f){console.log(s,f)},d.prototype.enableProportionResize=function(s){if(s===void 0&&(s=!0),s){var f={widthPCT:100,hightPCT:100},o={basisWidth:this.width,basisHeight:this.height},u={maxScaleLimit:Math.min(this.maxWidth/this.width*100,this.maxHeight/this.height*100),minScaleLimit:Math.max(this.minWidth/this.width*100,this.minHeight/this.height*100)};this.PCTResizeInfo={ResizePCT:f,ResizeBasis:o,ScaleLimit:u}}else delete this.PCTResizeInfo},d}(Ge.RectNodeModel),YI=function(y){xb(d,y);function d(){return y!==null&&y.apply(this,arguments)||this}return d.prototype.getControlGroup=function(){var s=this.props,f=s.model,o=s.graphModel;return Ge.h(Jl,{model:f,graphModel:o})},d.prototype.getResizeShape=function(){return y.prototype.getShape.call(this)},d.prototype.getShape=function(){var s=this.props,f=s.model.isSelected,o=s.graphModel.editConfigModel.isSilentMode;return Ge.h("g",null,this.getResizeShape(),f&&!o?this.getControlGroup():"")},d}(Ge.RectNode),Ql={type:"rect",view:YI,model:XI},Sb=globalThis&&globalThis.__extends||function(){var y=function(d,s){return y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,o){f.__proto__=o}||function(f,o){for(var u in o)o.hasOwnProperty(u)&&(f[u]=o[u])},y(d,s)};return function(d,s){y(d,s);function f(){this.constructor=d}d.prototype=s===null?Object.create(s):(f.prototype=s.prototype,new f)}}();(function(y){Sb(d,y);function d(s,f){var o=y.call(this,s,f)||this,u=o.properties.nodeSize;return u&&(o.rx=u.rx,o.ry=u.ry),o}return d.prototype.initNodeData=function(s){y.prototype.initNodeData.call(this,s),this.minWidth=30,this.minHeight=30,this.maxWidth=2e3,this.maxHeight=2e3},d.prototype.getOutlineStyle=function(){var s=y.prototype.getOutlineStyle.call(this),f=this.graphModel.editConfigModel.isSilentMode;return f||(s.stroke="none",s.hover&&(s.hover.stroke="none")),s},d.prototype.getResizeOutlineStyle=function(){return{stroke:"#000000",strokeWidth:1,strokeDasharray:"3,3"}},d.prototype.getControlPointStyle=function(){return{width:7,height:7,fill:"#FFFFFF",stroke:"#000000"}},d.prototype.enableProportionResize=function(s){if(s===void 0&&(s=!0),s){var f={widthPCT:100,hightPCT:100},o={basisWidth:this.rx,basisHeight:this.ry},u={maxScaleLimit:Math.min(this.maxWidth/(this.rx*2)*100,this.maxHeight/(this.ry*2)*100),minScaleLimit:Math.max(this.minWidth/(this.rx*2)*100,this.minHeight/(this.ry*2)*100)};this.PCTResizeInfo={ResizePCT:f,ResizeBasis:o,ScaleLimit:u}}else delete this.PCTResizeInfo},d})(Ge.EllipseNodeModel);(function(y){Sb(d,y);function d(){return y!==null&&y.apply(this,arguments)||this}return d.prototype.getControlGroup=function(){var s=this.props,f=s.model,o=s.graphModel;return Ge.h(Jl,{model:f,graphModel:o})},d.prototype.getResizeShape=function(){return y.prototype.getShape.call(this)},d.prototype.getShape=function(){var s=this.props,f=s.model,o=s.graphModel.editConfigModel.isSilentMode;return Ge.h("g",null,this.getResizeShape(),f.isSelected&&!o?this.getControlGroup():"")},d})(Ge.EllipseNode);var od=globalThis&&globalThis.__assign||function(){return od=Object.assign||function(y){for(var d,s=1,f=arguments.length;s<f;s++){d=arguments[s];for(var o in d)Object.prototype.hasOwnProperty.call(d,o)&&(y[o]=d[o])}return y},od.apply(this,arguments)};function WI(y){var d=y.fillOpacity,s=d===void 0?1:d,f=y.strokeWidth,o=f===void 0?1:f,u=y.strokeOpacity,l=u===void 0?1:u,v=y.fill,b=v===void 0?"transparent":v,O=y.stroke,E=O===void 0?"#000":O,P=y.points,T=y.className,M=T===void 0?"lf-basic-shape":T,N={fill:b,fillOpacity:s,strokeWidth:o,stroke:E,strokeOpacity:l,points:"",className:M};return N.points=P.map(function(D){return D.join(",")}).join(" "),Ge.h("polygon",od({},N))}var Pb=globalThis&&globalThis.__extends||function(){var y=function(d,s){return y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,o){f.__proto__=o}||function(f,o){for(var u in o)o.hasOwnProperty(u)&&(f[u]=o[u])},y(d,s)};return function(d,s){y(d,s);function f(){this.constructor=d}d.prototype=s===null?Object.create(s):(f.prototype=s.prototype,new f)}}(),id=globalThis&&globalThis.__assign||function(){return id=Object.assign||function(y){for(var d,s=1,f=arguments.length;s<f;s++){d=arguments[s];for(var o in d)Object.prototype.hasOwnProperty.call(d,o)&&(y[o]=d[o])}return y},id.apply(this,arguments)};(function(y){Pb(d,y);function d(s,f){var o=y.call(this,s,f)||this,u=o.properties.nodeSize;return u&&(o.rx=u.rx,o.ry=u.ry),o}return d.prototype.initNodeData=function(s){y.prototype.initNodeData.call(this,s),this.minWidth=30,this.minHeight=30,this.maxWidth=2e3,this.maxHeight=2e3,this.gridSize=1},d.prototype.getOutlineStyle=function(){var s=y.prototype.getOutlineStyle.call(this),f=this.graphModel.editConfigModel.isSilentMode;return f||(s.stroke="none",s.hover&&(s.hover.stroke="none")),s},d.prototype.getResizeOutlineStyle=function(){return{stroke:"#000000",strokeWidth:1,strokeDasharray:"3,3"}},d.prototype.getControlPointStyle=function(){return{width:7,height:7,fill:"#FFFFFF",stroke:"#000000"}},d.prototype.enableProportionResize=function(s){if(s===void 0&&(s=!0),s){var f={widthPCT:100,hightPCT:100},o={basisWidth:this.rx,basisHeight:this.ry},u={maxScaleLimit:Math.min(this.maxWidth/(this.rx*2)*100,this.maxHeight/(this.ry*2)*100),minScaleLimit:Math.max(this.minWidth/(this.rx*2)*100,this.minHeight/(this.ry*2)*100)};this.PCTResizeInfo={ResizePCT:f,ResizeBasis:o,ScaleLimit:u}}else delete this.PCTResizeInfo},d})(Ge.DiamondNodeModel);(function(y){Pb(d,y);function d(){return y!==null&&y.apply(this,arguments)||this}return d.prototype.getControlGroup=function(){var s=this.props,f=s.model,o=s.graphModel;return Ge.h(Jl,{model:f,graphModel:o})},d.prototype.getResizeShape=function(){var s=this.props.model,f=s.points,o=s.getNodeStyle();return Ge.h("g",null,Ge.h(WI,id({},o,{points:f})))},d.prototype.getShape=function(){var s=this.props,f=s.model.isSelected,o=s.graphModel.editConfigModel.isSilentMode;return Ge.h("g",null,this.getResizeShape(),f&&!o?this.getControlGroup():"")},d})(Ge.DiamondNode);var Mb=globalThis&&globalThis.__extends||function(){var y=function(d,s){return y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,o){f.__proto__=o}||function(f,o){for(var u in o)o.hasOwnProperty(u)&&(f[u]=o[u])},y(d,s)};return function(d,s){y(d,s);function f(){this.constructor=d}d.prototype=s===null?Object.create(s):(f.prototype=s.prototype,new f)}}();(function(y){Mb(d,y);function d(s,f){var o=y.call(this,s,f)||this,u=o.properties.nodeSize;return u&&(o.width=u.width,o.height=u.height),o}return d.prototype.initNodeData=function(s){y.prototype.initNodeData.call(this,s),this.minWidth=30,this.minHeight=30,this.maxWidth=2e3,this.maxHeight=2e3},d.prototype.getOutlineStyle=function(){var s=y.prototype.getOutlineStyle.call(this),f=this.graphModel.editConfigModel.isSilentMode;return f||(s.stroke="none",s.hover&&(s.hover.stroke="none")),s},d.prototype.getResizeOutlineStyle=function(){return{stroke:"#000000",strokeWidth:1,strokeDasharray:"3,3"}},d.prototype.getControlPointStyle=function(){return{width:7,height:7,fill:"#FFFFFF",stroke:"#000000"}},d.prototype.enableProportionResize=function(s){if(s===void 0&&(s=!0),s){var f={widthPCT:100,hightPCT:100},o={basisWidth:this.width,basisHeight:this.height},u={maxScaleLimit:Math.min(this.maxWidth/this.width*100,this.maxHeight/this.height*100),minScaleLimit:Math.max(this.minWidth/this.width*100,this.minHeight/this.height*100)};this.PCTResizeInfo={ResizePCT:f,ResizeBasis:o,ScaleLimit:u}}else delete this.PCTResizeInfo},d})(Ge.HtmlNodeModel);(function(y){Mb(d,y);function d(){return y!==null&&y.apply(this,arguments)||this}return d.prototype.getControlGroup=function(){var s=this.props,f=s.model,o=s.graphModel;return Ge.h(Jl,{model:f,graphModel:o})},d.prototype.getResizeShape=function(){return y.prototype.getShape.call(this)},d.prototype.getShape=function(){var s=this.props,f=s.model.isSelected,o=s.graphModel.editConfigModel.isSilentMode;return Ge.h("g",null,this.getResizeShape(),f&&!o?this.getControlGroup():"")},d})(Ge.HtmlNode);var Tb=globalThis&&globalThis.__extends||function(){var y=function(d,s){return y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,o){f.__proto__=o}||function(f,o){for(var u in o)o.hasOwnProperty(u)&&(f[u]=o[u])},y(d,s)};return function(d,s){y(d,s);function f(){this.constructor=d}d.prototype=s===null?Object.create(s):(f.prototype=s.prototype,new f)}}(),Vl=globalThis&&globalThis.__assign||function(){return Vl=Object.assign||function(y){for(var d,s=1,f=arguments.length;s<f;s++){d=arguments[s];for(var o in d)Object.prototype.hasOwnProperty.call(d,o)&&(y[o]=d[o])}return y},Vl.apply(this,arguments)},KI=globalThis&&globalThis.__read||function(y,d){var s=typeof Symbol=="function"&&y[Symbol.iterator];if(!s)return y;var f=s.call(y),o,u=[],l;try{for(;(d===void 0||d-- >0)&&!(o=f.next()).done;)u.push(o.value)}catch(v){l={error:v}}finally{try{o&&!o.done&&(s=f.return)&&s.call(f)}finally{if(l)throw l.error}}return u},$m=globalThis&&globalThis.__spread||function(){for(var y=[],d=0;d<arguments.length;d++)y=y.concat(KI(arguments[d]));return y},km=500,Um=300,VI=-1e4,ZI=function(y){Tb(d,y);function d(){var s=y!==null&&y.apply(this,arguments)||this;return s.isGroup=!0,s.unfoldedWidth=km,s.unfoldedHight=Um,s}return d.prototype.initNodeData=function(s){var f=this;y.prototype.initNodeData.call(this,s);var o=[];Array.isArray(s.children)&&(o=s.children),this.children=new Set(o),this.width=km,this.height=Um,this.foldedWidth=80,this.foldedHeight=60,this.zIndex=VI,this.radius=0,this.text.editable=!1,this.text.draggable=!1,this.isRestrict=!1,this.resizable=!1,this.autoToFront=!1,this.foldable=!1,this.properties.isFolded===void 0&&(this.properties.isFolded=!1),this.isFolded=this.properties.isFolded,setTimeout(function(){f.isFolded&&f.foldGroup(f.isFolded)})},d.prototype.getResizeOutlineStyle=function(){var s=y.prototype.getResizeOutlineStyle.call(this);return s.stroke="none",s},d.prototype.foldGroup=function(s){var f=this;this.setProperty("isFolded",s),this.isFolded=s,s?(this.x=this.x-this.width/2+this.foldedWidth/2,this.y=this.y-this.height/2+this.foldedHeight/2,this.unfoldedWidth=this.width,this.unfoldedHight=this.height,this.width=this.foldedWidth,this.height=this.foldedHeight):(this.width=this.unfoldedWidth,this.height=this.unfoldedHight,this.x=this.x+this.width/2-this.foldedWidth/2,this.y=this.y+this.height/2-this.foldedHeight/2);var o=this.incoming.edges.concat(this.outgoing.edges);this.children.forEach(function(u){var l=f.graphModel.getElement(u);l.isGroup&&!l.isFolded&&l.foldGroup(s),l.visible=!s,o=o.concat(l.incoming.edges.concat(l.outgoing.edges))}),this.foldEdge(s,o)},d.prototype.getAnchorStyle=function(s){var f=y.prototype.getAnchorStyle.call(this,s);return f.stroke="transparent",f.fill="transparent",f.hover.fill="transparent",f.hover.stroke="transparent",f},d.prototype.foldEdge=function(s,f){var o=this;f.forEach(function(u,l){var v=u.id,b=u.sourceNodeId,O=u.targetNodeId,E=u.startPoint,P=u.endPoint,T=u.type,M=u.properties,N=u.text,D={id:v+"__"+l,sourceNodeId:b,targetNodeId:O,startPoint:E,endPoint:P,type:T,properties:M,text:N==null?void 0:N.value};u.virtual&&o.graphModel.deleteEdgeById(u.id);var I=o.graphModel.group.getNodeGroup(O);I||(I=o.graphModel.getNodeModelById(O));var _=o.graphModel.group.getNodeGroup(b);_||(_=o.graphModel.getNodeModelById(b)),s&&u.visible!==!1&&(o.children.has(b)||o.id===b?(D.startPoint=void 0,D.sourceNodeId=o.id):(D.endPoint=void 0,D.targetNodeId=o.id),(I.id!==o.id||_.id!==o.id)&&o.createVirtualEdge(D),u.visible=!1),!s&&u.visible===!1&&(I&&I.isGroup&&I.isFolded?(D.targetNodeId=I.id,D.endPoint=void 0,o.createVirtualEdge(D)):_&&_.isGroup&&_.isFolded?(D.sourceNodeId=_.id,D.startPoint=void 0,o.createVirtualEdge(D)):u.visible=!0)})},d.prototype.createVirtualEdge=function(s){s.pointsList=void 0;var f=this.graphModel.addEdge(s);f.virtual=!0,f.text.editable=!1,f.isFoldedEdge=!0},d.prototype.isInRange=function(s){var f=s.x1,o=s.y1,u=s.x2,l=s.y2;return f>=this.x-this.width/2&&u<=this.x+this.width/2&&o>=this.y-this.height/2&&l<=this.y+this.height/2},d.prototype.isAllowMoveTo=function(s){var f=s.x1,o=s.y1,u=s.x2,l=s.y2;return{x:f>=this.x-this.width/2&&u<=this.x+this.width/2,y:o>=this.y-this.height/2&&l<=this.y+this.height/2}},d.prototype.setAllowAppendChild=function(s){this.setProperty("groupAddable",s)},d.prototype.addChild=function(s){this.children.add(s)},d.prototype.removeChild=function(s){this.children.delete(s)},d.prototype.getAddableOutlineStyle=function(){return{stroke:"#FEB663",strokeWidth:2,strokeDasharray:"4 4",fill:"transparent"}},d.prototype.getData=function(){var s=y.prototype.getData.call(this);s.children=$m(this.children);var f=s.properties;return delete f.groupAddable,delete f.isFolded,s},d.prototype.getHistoryData=function(){var s=y.prototype.getData.call(this);s.children=$m(this.children),s.isGroup=!0;var f=s.properties;return delete f.groupAddable,f.isFolded&&(s.x=s.x+this.unfoldedWidth/2-this.foldedWidth/2,s.y=s.y+this.unfoldedHight/2-this.foldedHeight/2),s},d.prototype.isAllowAppendIn=function(s){return!0},d.prototype.toBack=function(){this.zIndex--},d}(Ql.model),JI=function(y){Tb(d,y);function d(){return y!==null&&y.apply(this,arguments)||this}return d.prototype.getControlGroup=function(){var s=this.props.model,f=s.resizable,o=s.properties;return f&&!o.isFolded?y.prototype.getControlGroup.call(this):null},d.prototype.getAddableShape=function(){var s=this.props.model,f=s.width,o=s.height,u=s.x,l=s.y,v=s.radius,b=s.properties;if(!b.groupAddable)return null;var O=this.props.model.getNodeStyle().strokeWidth,E=this.props.model.getAddableOutlineStyle(),P=f+O+8,T=o+O+8;return Ge.h("rect",Vl(Vl({},E),{width:P,height:T,x:u-P/2,y:l-T/2,rx:v,ry:v}))},d.prototype.getFoldIcon=function(){var s=this.props.model,f=s.x-s.width/2+5,o=s.y-s.height/2+5;if(!s.foldable)return null;var u=Ge.h("path",{fill:"none",stroke:"#818281",strokeWidth:2,"pointer-events":"none",d:s.properties.isFolded?"M "+(f+3)+","+(o+6)+" "+(f+11)+","+(o+6)+" M"+(f+7)+","+(o+2)+" "+(f+7)+","+(o+10):"M "+(f+3)+","+(o+6)+" "+(f+11)+","+(o+6)+" "});return Ge.h("g",{},[Ge.h("rect",{height:12,width:14,rx:2,ry:2,strokeWidth:1,fill:"#F4F5F6",stroke:"#CECECE",cursor:"pointer",x:s.x-s.width/2+5,y:s.y-s.height/2+5,onClick:function(){s.foldGroup(!s.properties.isFolded)}}),u])},d.prototype.getResizeShape=function(){return Ge.h("g",{},[this.getAddableShape(),y.prototype.getResizeShape.call(this),this.getFoldIcon()])},d}(Ql.view);const dd={type:"group",view:JI,model:ZI};var QI=-1e3,Xm=-1e4,qI=function(){function y(d){var s=this,f=d.lf;this.topGroupZIndex=Xm,this.nodeGroupMap=new Map,this.graphRendered=function(o){o&&o.nodes&&o.nodes.forEach(function(u){u.children&&u.children.forEach(function(l){s.nodeGroupMap.set(l,u.id)})})},this.appendNodeToGroup=function(o){var u=o.data,l=s.nodeGroupMap.get(u.id);if(l){var v=s.lf.getNodeModelById(l);v.removeChild(u.id),s.nodeGroupMap.delete(u.id),v.setAllowAppendChild(!1)}var b=s.lf.getNodeModelById(u.id),O=b.getBounds(),E=s.getGroup(O,u);if(E){var P=E.isAllowAppendIn(u);if(!P){s.lf.emit("group:not-allowed",{group:E.getData(),node:u});return}E.addChild(u.id),s.nodeGroupMap.set(u.id,E.id),E.setAllowAppendChild(!1),b.isGroup&&(u.children.forEach(function(T){s.nodeGroupMap.set(T,u.id)}),s.nodeSelected({data:u,isSelected:!1,isMultiple:!1}))}},this.deleteGroupChild=function(o){var u=o.data;u.children&&u.children.forEach(function(b){s.nodeGroupMap.delete(b),s.lf.deleteNode(b)});var l=s.nodeGroupMap.get(u.id);if(l){var v=s.lf.getNodeModelById(l);v.removeChild(u.id),s.nodeGroupMap.delete(u.id)}},this.setActiveGroup=function(o){var u=o.data,l=s.lf.getNodeModelById(u.id),v=l.getBounds(),b=s.getGroup(v,u);if(s.activeGroup&&s.activeGroup.setAllowAppendChild(!1),!(!b||l.isGroup&&b.id===u.id)){var O=b.isAllowAppendIn(u);O&&(s.activeGroup=b,s.activeGroup.setAllowAppendChild(!0))}},this.nodeSelected=function(o){var u=o.data,l=o.isMultiple,v=o.isSelected,b=s.lf.getNodeModelById(u.id);if(s.toFrontGroup(b),s.topGroupZIndex>QI){s.topGroupZIndex=Xm;for(var O=s.lf.graphModel.nodes.filter(function(D){return D.isGroup}).sort(function(D,I){return D.zIndex-I.zIndex}),E=0,P=0;P<O.length;P++){var T=O[P];T.zIndex!==E&&(s.topGroupZIndex++,E=T.zIndex),T.setZIndex(s.topGroupZIndex)}}if(l&&v)if(b.isGroup)b.children.forEach(function(D){var I=s.lf.graphModel.getElement(D);I.setSelected(!1)});else{var M=s.nodeGroupMap.get(u.id);if(M){var N=s.lf.getNodeModelById(M);N.isSelected&&b.setSelected(!1)}}},this.toFrontGroup=function(o){!o||!o.isGroup||(s.topGroupZIndex++,o.setZIndex(s.topGroupZIndex),o.children&&o.children.forEach(function(u){var l=s.lf.getNodeModelById(u);s.toFrontGroup(l)}))},f.register(dd),this.lf=f,f.graphModel.addNodeMoveRules(function(o,u,l){if(o.isGroup){var v=s.getNodeAllChild(o);return f.graphModel.moveNodes(v,u,l,!0),!0}var b=f.getNodeModelById(s.nodeGroupMap.get(o.id));if(b&&b.isRestrict){var O=o.getBounds(),E=O.x1,P=O.y1,T=O.x2,M=O.y2,N=b.isAllowMoveTo({x1:E+u,y1:P+l,x2:T+u,y2:M+l});return N}return!0}),f.graphModel.group=this,f.on("node:add,node:drop,node:dnd-add",this.appendNodeToGroup),f.on("node:delete",this.deleteGroupChild),f.on("node:dnd-drag,node:drag",this.setActiveGroup),f.on("node:click",this.nodeSelected),f.on("graph:rendered",this.graphRendered)}return y.prototype.getNodeAllChild=function(d){var s=this,f=[];return d.children&&d.children.forEach(function(o){f.push(o);var u=s.lf.getNodeModelById(o);u.isGroup&&(f=f.concat(s.getNodeAllChild(u)))}),f},y.prototype.getGroup=function(d,s){var f=this.lf.graphModel.nodes,o=f.filter(function(v){return v.isGroup&&v.isInRange(d)&&v.id!==s.id});if(o.length!==0){if(o.length===1)return o[0];for(var u=o[o.length-1],l=o.length-2;l>=0;l--)o[l].zIndex>u.zIndex&&(u=o[l]);return u}},y.prototype.getNodeGroup=function(d){var s=this.nodeGroupMap.get(d);if(s)return this.lf.getNodeModelById(s)},y.pluginName="group",y}(),eR=globalThis&&globalThis.__read||function(y,d){var s=typeof Symbol=="function"&&y[Symbol.iterator];if(!s)return y;var f=s.call(y),o,u=[],l;try{for(;(d===void 0||d-- >0)&&!(o=f.next()).done;)u.push(o.value)}catch(v){l={error:v}}finally{try{o&&!o.done&&(s=f.return)&&s.call(f)}finally{if(l)throw l.error}}return u};globalThis&&globalThis.__spread;var Ym=globalThis&&globalThis.__assign||function(){return Ym=Object.assign||function(y){for(var d,s=1,f=arguments.length;s<f;s++){d=arguments[s];for(var o in d)Object.prototype.hasOwnProperty.call(d,o)&&(y[o]=d[o])}return y},Ym.apply(this,arguments)},Wm=globalThis&&globalThis.__assign||function(){return Wm=Object.assign||function(y){for(var d,s=1,f=arguments.length;s<f;s++){d=arguments[s];for(var o in d)Object.prototype.hasOwnProperty.call(d,o)&&(y[o]=d[o])}return y},Wm.apply(this,arguments)},tR=globalThis&&globalThis.__read||function(y,d){var s=typeof Symbol=="function"&&y[Symbol.iterator];if(!s)return y;var f=s.call(y),o,u=[],l;try{for(;(d===void 0||d-- >0)&&!(o=f.next()).done;)u.push(o.value)}catch(v){l={error:v}}finally{try{o&&!o.done&&(s=f.return)&&s.call(f)}finally{if(l)throw l.error}}return u};globalThis&&globalThis.__spread;class rR extends qC{}class nR extends eI{}class oR extends tI{}class iR extends rI{getShape(){const d=this.props.model,s=d.getNodeStyle(),{x:f,y:o,r:u}=d;return Ge.h("circle",{...s,cx:f,cy:o,r:u,strokeWidth:5})}}class aR extends nI{constructor(d,s){const{id:f,text:o,x:u,y:l}=d;d.id=f||`Gateway_${on()}`,d.text=o||{value:o||"",x:u,y:l+40},super(d,s),this.points=[[25,0],[50,25],[25,50],[0,25]]}}class sR extends oI{getShape(){const{model:d}=this.props,{x:s,y:f,width:o,height:u,points:l}=d,v=d.getNodeStyle();return Ge.h("g",{transform:`matrix(1 0 0 1 ${s-o/2} ${f-u/2})`},Ge.h("polygon",{...v,x:s,y:f,points:l}),Ge.h("line",{...v,x1:15,y1:15,x2:35,y2:35}),Ge.h("line",{...v,x1:35,y1:15,x2:15,y2:35}))}}class lR extends Ge.PolygonNodeModel{constructor(d,s){const{id:f,text:o,x:u,y:l}=d;d.id=f||`Gateway_${on()}`,d.text=o||{value:o||"",x:u,y:l+40},super(d,s),this.points=[[25,0],[50,25],[25,50],[0,25]]}}class uR extends Ge.PolygonNode{getShape(){const{model:d}=this.props,{x:s,y:f,width:o,height:u,points:l}=d,v=d.getNodeStyle();return Ge.h("g",{transform:`matrix(1 0 0 1 ${s-o/2} ${f-u/2})`},Ge.h("polygon",{...v,x:s,y:f,points:l}),Ge.h("line",{...v,x1:10,y1:25,x2:40,y2:25}),Ge.h("line",{...v,x1:25,y1:10,x2:25,y2:40}))}}class fR extends iI{}class cR extends aI{}class dR extends sI{isAllowConnectedAsSource(){return!1}}class pR extends lI{}class hR extends sb{}class vR extends lb{}const yR=Ql.model;class gR extends yR{createId(){return"Note_"+on()}initNodeData(d){super.initNodeData(d),this.height=40,this.text.draggable=!1}isAllowConnectedAsSource(){return!1}getNodeStyle(){const d=super.getNodeStyle();return d.strokeDasharray="3 3",d.fill="transparent",d}}class mR extends Ql.view{}class bR extends sb{getEdgeStyle(){const d=super.getEdgeStyle();return d.strokeDasharray="3 3",d}}class OR extends lb{}const ER=dd.model;class xR extends ER{createId(){return"Group_"+on()}initNodeData(d){super.initNodeData(d),this.resizable=!0,this.foldable=!0}addChild(d){var s,f;super.addChild(d),(f=(s=this.graphModel.nodesMap[d])==null?void 0:s.model)==null||f.setProperty("groupKey",this.id)}removeChild(d){var s,f;super.removeChild(d),(f=(s=this.graphModel.nodesMap[d])==null?void 0:s.model)==null||f.deleteProperty("groupKey")}}class SR extends dd.view{}class wb extends qI{constructor({lf:d}){super({lf:d}),d.register({type:"group",model:xR,view:SR}),d.off("node:delete",this.deleteGroupChild),d.on("node:delete",({data:s})=>{s.children&&s.children.forEach(f=>{this.nodeGroupMap.delete(f),this.lf.deleteNode(f)})})}}const PR=[{type:"startEvent",model:rR,view:nR},{type:"endEvent",model:oR,view:iR},{type:"exclusiveGateway",model:aR,view:sR},{type:"parallelGateway",model:lR,view:uR},{type:"userTask",model:fR,view:cR},{type:"serviceTask",model:dR,view:pR},{type:"sequenceFlow",model:hR,view:vR},{type:"note",model:gR,view:mR},{type:"noteFlow",model:bR,view:OR}];class pd{constructor({lf:d}){PR.forEach(s=>{d.register(s)}),d.setDefaultEdgeType("sequenceFlow")}}ed(pd,"pluginName","bpmnExtend");function MR(y){const{id:d,type:s,x:f,y:o,properties:u,children:l,text:v}=y;return{incoming:[],outgoing:[],children:l,type:s,key:d,groupKey:u==null?void 0:u.groupKey,properties:{...u,name:Jm(v)?v:(v==null?void 0:v.value)??"",x:f,y:o,text:v}}}function TR(y){const{id:d,type:s,sourceNodeId:f,targetNodeId:o,startPoint:u,endPoint:l,pointsList:v,properties:b,text:O}=y;return{incoming:[f],outgoing:[o],type:s,key:d,groupKey:b==null?void 0:b.groupKey,properties:{...b,name:Jm(O)?O:(O==null?void 0:O.value)??"",text:O,startPoint:u,endPoint:l,pointsList:v}}}function wR(y){const d=new Map,s={flowElementList:[]};return y.nodes.forEach(f=>{const o=MR(f);s.flowElementList.push(o),d.set(f.id,o)}),y.edges.forEach(f=>{const o=TR(f);d.get(f.sourceNodeId).outgoing.push(o.key),d.get(f.targetNodeId).incoming.push(o.key),s.flowElementList.push(o)}),s}function AR(y){const{incoming:d,outgoing:s,properties:f,key:o,type:u}=y,{text:l,name:v,startPoint:b,endPoint:O,pointsList:E}=f,P={id:o,type:u,sourceNodeId:d[0],targetNodeId:s[0],text:l||v,startPoint:b,endPoint:O,pointsList:E,properties:{}},T=["startPoint","endPoint","pointsList","text"];return P.properties=Zm(f,T),P}function NR(y){const{properties:d,key:s,type:f,children:o}=y,{x:u,y:l,text:v,name:b}=d,O={id:s,type:f,x:u,y:l,text:v||b,children:o,properties:{}},E=["x","y","text"];return O.properties=Zm(d,E),O}function DR(y){const{flowElementList:d}=y,s=l=>["sequenceFlow","noteFlow"].includes(l),f=d.filter(l=>!s(l.type)).map(NR),o=d.filter(l=>s(l.type)).map(AR);return{nodes:f,edges:o}}class hd{constructor({lf:d}){d.adapterIn=this.adapterIn,d.adapterOut=this.adapterOut}adapterOut(d){return wR(d)}adapterIn(d){return DR(d)}}ed(hd,"pluginName","turboAdapter");function jR({lf:y,editorVisible:d}){var s,f,o;(s=y.value)==null||s.extension.control.addItem({key:"clear",iconClass:"lf-control-clear",title:"",text:"",onClick:()=>{var u;return(u=y.value)==null?void 0:u.clearData()}}),(f=y.value)==null||f.extension.control.addItem({key:"editor",iconClass:"lf-control-editor",title:"",text:"",onClick:()=>d.value=!0}),(o=y.value)==null||o.extension.control.addItem({key:"mini-map",iconClass:"lf-control-mini-map",title:"",text:"",onClick:()=>{var b,O;const{__isShow:u,show:l,hide:v}=((O=(b=y.value)==null?void 0:b.extension)==null?void 0:O.miniMap)??{};u?v():l()}})}function CR({lf:y,graphData:d,elementData:s,formData:f,formLoading:o,formOption:u,formOptions:l}){var b,O,E,P,T;async function v({data:M}={data:void 0}){var N,D;if(!M){s.value=void 0,u.value.group=[],f.value={};return}(N=y.value)==null||N.selectElementById(M.id),o.value=!0,s.value=M,u.value.group=(l==null?void 0:l.value[M.type])??LC,f.value={...M.properties,id:M.id,name:((D=M.text)==null?void 0:D.value)||""},await BC(),o.value=!1}(b=y.value)==null||b.on("element:click",v),(O=y.value)==null||O.on("blank:click",v),(E=y.value)==null||E.on("node:add",v),(P=y.value)==null||P.on("node:delete",()=>v()),(T=y.value)==null||T.on("history:change",()=>{var M;d.value=(M=y.value)==null?void 0:M.getGraphData()})}function IR({lf:y}){var d;(d=y.value)==null||d.extension.menu.addMenuConfig({nodeMenu:[{text:"",icon:!0,callback(s){var o;const f=s.id;f&&((o=y.value)==null||o.updateText(f,""))}}],edgeMenu:[{text:"",callback(s){var o;const f=s.id;f&&((o=y.value)==null||o.updateText(f,""))}}],graphMenu:[{text:"",icon:!0,className:"lf-menu-select",callback(){var s,f;(s=y.value)==null||s.openSelectionSelect(),y.value&&(y.value.container.style.cursor="crosshair"),(f=y.value)==null||f.once("selection:selected",()=>{var o;(o=y.value)==null||o.closeSelectionSelect(),y.value&&(y.value.container.style.cursor="")})}},{text:"",icon:!0,className:"lf-menu-clear",callback(){var s;(s=y.value)==null||s.clearData()}}]})}function RR({lf:y}){var d;return(d=y.value)==null?void 0:d.setPatternItems([{label:"",icon:"https://api.iconify.design/bpmn/lasso-tool.svg?width=24&height=24",callback(){var s,f;(s=y.value)==null||s.openSelectionSelect(),y.value&&(y.value.container.style.cursor="crosshair"),(f=y.value)==null||f.once("selection:selected",()=>{var o;(o=y.value)==null||o.closeSelectionSelect(),y.value&&(y.value.container.style.cursor="")})}},{type:"group",label:"",icon:"https://api.iconify.design/bpmn/subprocess-expanded.svg?width=24&height=24"},{type:"startEvent",text:"",label:"",icon:"https://api.iconify.design/bpmn/start-event.svg?width=24&height=24"},{type:"endEvent",text:"",label:"",icon:"https://api.iconify.design/bpmn/end-event.svg?width=24&height=24"},{type:"userTask",label:"",icon:"https://api.iconify.design/bpmn/user-task.svg?width=24&height=24"},{type:"serviceTask",label:"",icon:"https://api.iconify.design/bpmn/service-task.svg?width=24&height=24"},{type:"exclusiveGateway",label:"",icon:"https://api.iconify.design/bpmn/gateway-xor.svg?width=24&height=24"},{type:"parallelGateway",label:"",icon:"https://api.iconify.design/bpmn/gateway-parallel.svg?width=24&height=24"},{type:"note",label:"",icon:"https://api.iconify.design/bpmn/text-annotation.svg?width=24&height=24"}])}function LR(y){const d=sd(y,void 0,{passive:!0}),{lf:s,modelValue:f,elementData:o,formData:u,formOptions:l}=d,v=Fl(!1),b=Fl({menuBtn:!1,span:24,labelPosition:"left",group:[]}),O=Fl(!1);function E(T){var N,D,I;const M=(N=o.value)==null?void 0:N.id;M&&((D=s.value)==null||D.setProperties(M,T)),M&&((I=s.value)==null||I.updateText(M,T.name))}return{lf:s,graphData:f,elementData:o,formData:u,formLoading:v,formOption:b,formOptions:l,editorVisible:O,onUpdateFormData:E}}const BR=FC("span",null,"JSON",-1),_R=ad({__name:"flow-editor",props:{modelValue:null,visible:{type:Boolean}},emits:["confirm"],setup(y,{emit:d}){const f=sd(y),{modelValue:o,visible:u}=f,l=Fl("");function v(){const b=JSON.parse(l.value);o.value=b,d("confirm",b),u.value=!1}return _C(()=>{l.value=JSON.stringify(o.value,null,2)}),(b,O)=>{const E=$n("el-button"),P=$n("el-input"),T=$n("el-drawer");return Ni(),Gl(T,{modelValue:kr(u),"onUpdate:modelValue":O[1]||(O[1]=M=>Hl(u)?u.value=M:null)},{header:Di(()=>[BR,ji(E,{type:"primary",size:"default",onClick:v},{default:Di(()=>[zC("")]),_:1})]),default:Di(()=>[ji(P,{modelValue:l.value,"onUpdate:modelValue":O[0]||(O[0]=M=>l.value=M),class:"flow-editor__textarea",type:"textarea"},null,8,["modelValue"])]),_:1},8,["modelValue"])}}}),YR=ad({__name:"index",props:{lf:null,initOptions:null,modelValue:null,elementData:null,formData:null,formOptions:null,formWidth:null},setup(y){const d=y,s=LR(d),{lf:f,graphData:o,formData:u,formLoading:l,formOption:v,editorVisible:b,onUpdateFormData:O}=s;HC("modelerState",s);const E=Qm("container");return Km(()=>{var P;f.value=new eb({container:document.querySelector(`#${E}`),grid:{type:"dot",size:10},nodeTextDraggable:!0,edgeTextDraggable:!0,nodeTextEdit:!0,edgeTextEdit:!0,plugins:[TI,DI,jI,NI,II,SI,pd,wb,hd],edgeGenerator:(T,M)=>{if(["note","serviceTask"].includes(M.type))return"noteFlow"},...d.initOptions}),(P=f.value)==null||P.setTheme(qm),jR(s),RR(s),CR(s),IR(s),Vm(o,T=>{var N,D;!UC(T,(N=f.value)==null?void 0:N.getGraphData())&&((D=f.value)==null||D.render(T))},{immediate:!0})}),(P,T)=>{const M=$n("el-main"),N=$n("el-empty"),D=$n("avue-form"),I=$n("el-aside"),_=$n("el-container");return Ni(),Gl(_,{class:"lf-container"},{default:Di(()=>[ji(M,{id:kr(E),class:"lf-main"},null,8,["id"]),ji(I,{width:y.formWidth,class:"lf-aside"},{default:Di(()=>{var $;return[($=kr(v).group)!=null&&$.length?kr(l)?GC("",!0):(Ni(),Gl(D,{key:1,modelValue:kr(u),"onUpdate:modelValue":[T[0]||(T[0]=X=>Hl(u)?u.value=X:null),kr(O)],option:kr(v)},null,8,["modelValue","option","onUpdate:modelValue"])):(Ni(),Gl(N,{key:0,description:""}))]}),_:1},8,["width"]),ji(_R,{modelValue:kr(o),"onUpdate:modelValue":T[1]||(T[1]=$=>Hl(o)?o.value=$:null),visible:kr(b),"onUpdate:visible":T[2]||(T[2]=$=>Hl(b)?b.value=$:null),onConfirm:T[3]||(T[3]=$=>{var X;return(X=kr(f))==null?void 0:X.render($)})},null,8,["modelValue","visible"])]),_:1})}}}),zR=["id"],WR=ad({__name:"index",props:{lf:null,initOptions:null,modelValue:null},setup(y){const s=sd(y,void 0,{passive:!0}),{lf:f,modelValue:o}=s,u=Qm("container");return Km(()=>{var l,v;f.value=new eb({container:document.querySelector(`#${u}`),grid:{type:"dot",size:10},isSilentMode:!0,plugins:[pd,wb,hd]}),(l=f.value)==null||l.setTheme(qm),(v=f.value)==null||v.render(o.value),Vm(o,b=>{var O;(O=f.value)==null||O.render(b)})}),(l,v)=>(Ni(),$C("div",{id:kr(u),class:"lf-container"},null,8,zR))}});export{pd as B,oR as E,xR as G,gR as N,lR as P,rR as S,hd as T,fR as U,YR as _,WR as a,nR as b,iR as c,qm as d,aR as e,sR as f,uR as g,cR as h,dR as i,pR as j,hR as k,vR as l,mR as m,bR as n,OR as o,SR as p,wb as q,DR as r,wR as t};
