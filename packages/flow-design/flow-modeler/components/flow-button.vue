<script setup lang="ts">
import { useVModels } from '@vueuse/core'
import { useAttrs } from 'vue'

const props = defineProps<{ modelValue: any[] }>()
const { modelValue: tableData } = useVModels(props)

const attrs = useAttrs()
console.log('ğŸš€ ~ file: flow-button.vue:9 ~ attrs:', attrs)

const tableOption = {
  rowKey: 'prop',
  menu: false,
  defaultExpandAll: true,
  addBtn: false,
  refreshBtn: false,
  columnBtn: false,
  column: [
    { label: 'æŒ‰é’®å', prop: 'name', width: 100 },
    { label: 'æŒ‰é’®å€¼', prop: 'buttonKey', width: 100 },
    { label: 'æ˜¾ç¤ºæ¡ä»¶', prop: 'display' },
    { label: 'å®¡æ‰¹çª—å£', prop: 'approval' },
  ],
}
</script>

<template>
  <avue-crud :data="tableData || []" :option="tableOption">
    <template #display="{ row, dic }">
      <avue-select v-model="row.display" :dic="dic || []" />
    </template>
    <template #approval="{ row, dic }">
      <avue-select v-model="row.approval" :dic="dic || []" />
    </template>
  </avue-crud>
</template>
